(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-19e82314"],{"02f6":function(e,t,n){"use strict";var r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"container-fluid content-area"},[t("div",{staticClass:"panel-body"},[t("div",{staticClass:"panel panel-default"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-12 mt-3"},[e._t("default")],2)])])])])},s=[],i={name:"ContentArea"},a=i,o=n("2877"),l=Object(o["a"])(a,r,s,!1,null,"4665fdac",null);t["a"]=l.exports},"093e":function(e,t,n){"use strict";var r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"eq-window-simple"},[e.title?t("div",{staticClass:"eq-window-title-bar",style:"font-weight: "+(e.boldTitle?"bold":"normal")+";"},[e._v(e._s(e.title)+"\n  ")]):e._e(),t("div",{class:e.classes,style:"padding: "+("undefined"!==typeof e.padding?e.padding:10)+"px"},[e._t("default")],2)])},s=[],i=(n("c5f6"),{name:"EqWindowSimple",props:{title:{type:String,required:!1},padding:{type:Number,required:!1,default:10},classes:{type:String,required:!1,default:""},boldTitle:{type:Boolean,required:!1,default:!1}}}),a=i,o=n("2877"),l=Object(o["a"])(a,r,s,!1,null,"4db0cdea",null);t["a"]=l.exports},"0a49":function(e,t,n){var r=n("9b43"),s=n("626a"),i=n("4bf8"),a=n("9def"),o=n("cd1c");e.exports=function(e,t){var n=1==e,l=2==e,c=3==e,u=4==e,d=6==e,p=5==e||d,h=t||o;return function(t,o,f){for(var g,b,v=i(t),m=s(v),w=r(o,f,3),y=a(m.length),S=0,_=n?h(t,y):l?h(t,0):void 0;y>S;S++)if((p||S in m)&&(g=m[S],b=w(g,S,v),e))if(n)_[S]=b;else if(b)switch(e){case 3:return!0;case 5:return g;case 6:return S;case 2:_.push(g)}else if(u)return!1;return d?-1:c||u?u:_}}},"2ae0":function(e,t,n){},"2fea":function(e,t,n){"use strict";n("ac6a"),n("456d");var r=function(){var e=this,t=e._self._c;return e.spells?t("div",[e.spells&&!e.spells.bot_spells_entries?t("div",{staticClass:"mt-3 text-center font-weight-bold p-3"},[e._v("\n    No spells found in table\n  ")]):e._e(),e.spells&&e.spells.bot_spells_entries?t("table",{staticClass:"eq-table bordered eq-highlight-rows",staticStyle:{"font-size":"14px"},attrs:{id:"bot-spell-preview-list-table"}},[t("thead",{staticClass:"eq-table-floating-header"},[t("tr",[e.editButtons?t("th"):e._e(),t("th",[e._v("Spell")]),t("th",[e._v("Type")]),t("th",[e._v("Mana")]),t("th",[e._v("Priority")]),t("th",[e._v("Recast")]),t("th",[e._v("Min Lvl")]),t("th",[e._v("Max Lvl")]),t("th",[e._v("Bucket Name")]),t("th",[e._v("Bucket Value")]),t("th",[e._v("Bucket Comparison")])])]),t("tbody",e._l(e.spellsList,(function(n){return t("tr",{key:"spell-"+n.id,class:e.highlightedSpell&&n.id===e.highlightedSpell?"pulsate-highlight-white":"",style:n.is_parented?"background-color: rgb(0 255 255 / 20%);":"",attrs:{id:"spell-list-entry-"+n.id}},[e.editButtons?t("td",{staticClass:"text-center pl-0 pr-0",staticStyle:{"min-width":"80px"}},[e._v("\n        "+e._s(n.is_parented?"Parent List (".concat(n.bot_spells_id,")"):"")+"\n\n        "),n.is_parented?e._e():t("b-button",{staticClass:"btn-dark btn-sm btn-outline-success",staticStyle:{padding:"0px 6px"},attrs:{variant:"primary",title:"Edit spell entry"},on:{click:function(t){return e.editSpellListEntry(n)}}},[t("i",{staticClass:"fa fa-pencil-square"})]),n.is_parented?e._e():t("b-button",{staticClass:"btn btn-dark btn-sm btn-outline-danger ml-1 btn-primary",staticStyle:{padding:"0px 6px"},attrs:{variant:"primary",title:"Delete spell entry"},on:{click:function(t){return e.deleteSpellListEntry(n)}}},[t("i",{staticClass:"fa fa-trash"})])],1):e._e(),t("td",{staticStyle:{"min-width":"220px"}},[Object.keys(n.spells_new).length>0&&n.spells_new?t("spell-popover",{staticClass:"mt-2",attrs:{spell:n.spells_new,size:20}}):e._e()],1),t("td",[e._v(e._s(e.BOT_SPELL_TYPES[n.type]?e.BOT_SPELL_TYPES[n.type]:""))]),t("td",[e._v(e._s(e.getManacost(n)))]),t("td",[e._v(e._s(n.priority))]),t("td",[e._v(e._s(e.getRecastDelay(n))+"s")]),t("td",[e._v(e._s(n.minlevel))]),t("td",[e._v(e._s(n.maxlevel))]),t("td",[e._v(e._s(n.bucket_name))]),t("td",[e._v(e._s(n.bucket_value))]),t("td",[e._v(e._s(n.bucket_comparison))])])})),0)]):e._e()]):e._e()},s=[],i=(n("ac4d"),n("8a81"),n("5df3"),n("1c4c"),n("6b54"),n("a481"),n("55dd"),n("768b")),a=(n("6762"),n("2fdb"),n("9a04")),o=n("75fc"),l=(n("7f7f"),n("c5f6"),n("96cf"),n("3b8d")),c=n("646b"),u=n("dd86"),d=n("5a63"),p=n("e40e"),h=n("a7a1"),f=n("0d95"),g=n("7dc0"),b=n("a56f");function v(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=m(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,s=function(){};return{s:s,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,o=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){o=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(o)throw i}}}}function m(e,t){if(e){if("string"==typeof e)return w(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?w(e,t):void 0}}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var y={name:"BotSpellPreview",components:{EqDebug:u["a"],SpellPopover:c["a"]},data:function(){return{BOT_SPELL_TYPES:d["a"],spellsList:[],fields:{type:0,minlevel:1,maxlevel:255,manacost:-1,recast_delay:-1,priority:0,resist_adjust:0,bucket_name:"",bucket_value:"",bucket_comparison:0}}},watch:{spells:{deep:!0,handler:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.init();case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},highlightedSpell:{handler:function(){}}},props:{spells:{type:Object,required:!1},editButtons:{type:Boolean,required:!1,default:!1},highlightedSpell:{type:[Number,String],required:!1,default:0}},mounted:function(){this.init()},methods:{editSpellListEntry:function(e){console.log("edit spell",e),this.$emit("edit-spell",e)},deleteSpellListEntry:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(t){var n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!confirm("Are you sure you want to delete this spell? \n\n(".concat(t.spells_new.name,") (").concat(t.spells_new.id,")?"))){e.next=9;break}return e.prev=1,e.next=4,Object(a["a"])(b["a"],Object(o["a"])(f["SpireApi"].cfg())).deleteBotSpellsEntry({id:t.id}).then((function(){n.$emit("reload-parent",!0),n.$emit("notification","Spell deleted successfully!")}));case 4:e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](1),e.t0.response.data.error&&e.t0.response&&e.t0.response.data&&e.t0.response.data.error&&this.$emit("error",e.t0.response.data.error);case 9:case"end":return e.stop()}}),e,this,[[1,6]])})));function t(t){return e.apply(this,arguments)}return t}(),init:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(){var t,n,r,s,l,c,u,d;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(console.log("spell preview watcher"),t=this.spells&&this.spells.bot_spells_entries&&this.spells.bot_spells_entries.length>0?JSON.parse(JSON.stringify(this.spells.bot_spells_entries)):[],!(this.spells.parent_list>0)){e.next=16;break}return e.prev=3,n=Object(a["a"])(h["NpcSpellApi"],Object(o["a"])(f["SpireApi"].cfg())),e.next=7,n.getNpcSpell({id:this.spells.parent_list},{query:(new p["a"]).includes(["BotSpellsEntries.SpellsNew"]).limit(1e5).get()});case 7:r=e.sent,s=v(r.data.bot_spells_entries.entries());try{for(s.s();!(l=s.n()).done;)c=Object(i["a"])(l.value,2),u=c[0],c[1],r.data.bot_spells_entries[u].is_parented=!0}catch(b){s.e(b)}finally{s.f()}200===r.status&&r.data&&r.data.bot_spells_entries&&(t=t.concat(r.data.bot_spells_entries)),e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](3),e.t0.response.data.error&&console.log("Error fetching parent list",e.t0);case 16:this.spellsList=t.sort((function(e,t){return e.minlevel===t.minlevel?e.spells_new&&t.spells_new&&t.spells_new.name&&e.spells_new.name&&e.spells_new.name.localeCompare(t.spells_new.name):t.minlevel<e.minlevel?1:-1})),d=document.getElementById("bot-spell-preview-list-table"),d&&setTimeout((function(){new g["a"](d)}),100);case 19:case"end":return e.stop()}}),e,this,[[3,13]])})));function t(){return e.apply(this,arguments)}return t}(),getRecastDelay:function(e){return-2===e.recast_delay?0:-1===e.recast_delay?e.spells_new.recast_time/1e3:e.recast_delay/1e3},getManacost:function(e){return-1===e.manacost?e.spells_new.mana:e.manacost},toTitleCase:function(e){return e.replace(/\w\S*/g,(function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()}))}}},S=y,_=n("2877"),x=Object(_["a"])(S,r,s,!1,null,"60346682",null);t["a"]=x.exports},4917:function(e,t,n){"use strict";var r=n("cb7c"),s=n("9def"),i=n("0390"),a=n("5f1b");n("214f")("match",1,(function(e,t,n,o){return[function(n){var r=e(this),s=void 0==n?void 0:n[t];return void 0!==s?s.call(n,r):new RegExp(n)[t](String(r))},function(e){var t=o(n,e,this);if(t.done)return t.value;var l=r(e),c=String(this);if(!l.global)return a(l,c);var u=l.unicode;l.lastIndex=0;var d,p=[],h=0;while(null!==(d=a(l,c))){var f=String(d[0]);p[h]=f,""===f&&(l.lastIndex=i(c,s(l.lastIndex),u)),h++}return 0===h?null:p}]}))},"5a63":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={0:"Nuke",1:"RegularHeal",2:"Root",3:"Buff",4:"Escape",5:"Pet",6:"Lifetap",7:"Snare",8:"DOT",9:"Dispel",10:"InCombatBuff",11:"Mez",12:"Charm",13:"Slow",14:"Debuff",15:"Cure",16:"Resurrect",17:"HateRedux",18:"InCombatBuffSong",19:"OutOfCombatBuffSong",20:"PreCombatBuff",21:"PreCombatBuffSong",22:"Fear",23:"Stun",24:"HateLine",25:"GroupCures",26:"CompleteHeal",27:"FastHeals",28:"VeryFastHeals",29:"GroupHeals",30:"GroupCompleteHeals",31:"GroupHoTHeals",32:"HoTHeals",33:"AENukes",34:"AERains",35:"AEMez",36:"AEStun",37:"AEDebuff",38:"AESlow",39:"AESnare",40:"AEFear",41:"AEDispel",42:"AERoot",43:"AEDoT",44:"AELifetap",45:"AEHateLine",46:"PBAENuke",47:"PetBuffs",48:"PetRegularHeals",49:"PetCompleteHeals",50:"PetFastHeals",51:"PetVeryFastHeals",52:"PetHoTHeals",53:"PetCures",54:"DamageShields",55:"ResistBuffs",56:"PetDamageShields",57:"PetResistBuffs",100:"Teleport",101:"Lull",102:"Succor",103:"BindAffinity",104:"Identify",105:"Levitate",106:"Rune",107:"WaterBreathing",108:"Size",109:"Invisibility",110:"MovementSpeed",111:"SendHome",112:"SummonCorpse",113:"AELull",200:"Discipline",201:"DiscAggressive",202:"DiscDefensive",203:"DiscUtility"}},"646b":function(e,t,n){"use strict";n("7f7f");var r=function(){var e=this,t=e._self._c;return e.spell?t("div",{staticClass:"d-inline-block"},[t("div",{attrs:{id:e.spell.id+"-"+e.popoverId+"-popover"}},[t("span",{class:"d-inline-block spell-"+e.spell.new_icon+e.getIconClassLabelFromSize(),style:e.getBorderStyling(),attrs:{title:e.spell.icon}}),t("span",{class:e.getLeftMargin(),style:"position:relative;"+e.getTextTopOffset()},[e._v(e._s(e.clampSpellName(e.spell.name))+" "+e._s(e.annotation))])]),t("b-popover",{staticStyle:{width:"500px !important"},attrs:{target:e.spell.id+"-"+e.popoverId+"-popover","custom-class":"no-bg",placement:"right",delay:"0",boundary:"viewport","no-fade":!0,triggers:"hover focus"}},[t("eq-window",{staticStyle:{width:"auto",height:"100%"}},[t("eq-spell-preview",{attrs:{"spell-data":e.spell}})],1)],1)],1):e._e()},s=[],i=(n("6b54"),n("c5f6"),n("935a")),a=n("adf0"),o=n("0329"),l={name:"SpellPopover",props:{spell:Object,size:{type:[Number,String],required:!1,default:40},spellNameLength:{type:Number,required:!1},annotation:{type:String,required:!1,default:""}},watch:{spell:{deep:!0,handler:function(){}}},data:function(){return{popoverId:Math.random().toString(16).slice(2),spellEffectInfo:[],spellData:{},sideLoadedSpellData:{},reagents:[]}},methods:{truncate:function(e,t){return e.length>t?e.substring(0,t)+"...":e},clampSpellName:function(e){return this.spellNameLength?this.truncate(e,this.spellNameLength):e},getLeftMargin:function(){return this.size<=12||this.size<=20?"ml-2":(this.size,"ml-3")},getIconClassLabelFromSize:function(){return this.size<=12?"-12":this.size<=20?"-20":this.size<=30?"-30":"-40"},getBorderStyling:function(){return this.size<=12?" border: 1px solid "+this.getTargetTypeColor():this.size<=20?"position: relative; top: 5px; border-radius: 5px; border: .5px solid "+this.getTargetTypeColor():(this.size,"border-radius: 5px; border: 1px solid "+this.getTargetTypeColor())},getTextTopOffset:function(){return this.size<=12?"top: -3px":this.size<=20?"top: 0px":this.size<=30?"top: -10px":"top: -15px"},getTargetTypeColor:function(){return o["a"].getTargetTypeColor(this.spell["targettype"])}},mounted:function(){this.sideLoadedSpellData=o["a"].data},components:{EqSpellPreview:a["a"],EqSpellCardPreview:a["a"],EqWindow:i["a"]}},c=l,u=n("2877"),d=Object(u["a"])(c,r,s,!1,null,null,null);t["a"]=d.exports},7514:function(e,t,n){"use strict";var r=n("5ca1"),s=n("0a49")(5),i="find",a=!0;i in[]&&Array(1)[i]((function(){a=!1})),r(r.P+r.F*a,"Array",{find:function(e){return s(this,e,arguments.length>1?arguments[1]:void 0)}}),n("9c6c")(i)},"7dc0":function(e,t,n){"use strict";(function(e){n("4917"),n("a481"),n("55dd"),n("7f7f"),n("7514");function r(e,t){if(!(this instanceof r))return new r(e,t);if(!e||"TABLE"!==e.tagName)throw new Error("Element must be a table");this.init(e,t||{})}var s=[],i=function(e){var t;return window.CustomEvent&&"function"===typeof window.CustomEvent?t=new CustomEvent(e):(t=document.createEvent("CustomEvent"),t.initCustomEvent(e,!1,!1,void 0)),t},a=function(e,t){return e.getAttribute(t.sortAttribute||"data-sort")||e.textContent||e.innerText||""},o=function(e,t){return e=e.trim().toLowerCase(),t=t.trim().toLowerCase(),e===t?0:e<t?1:-1},l=function(e,t){return[].slice.call(e).find((function(e){return e.getAttribute("data-sort-column-key")===t}))},c=function(e,t){return function(n,r){var s=e(n.td,r.td);return 0===s?t?r.index-n.index:n.index-r.index:s}};r.extend=function(e,t,n){if("function"!==typeof t||"function"!==typeof n)throw new Error("Pattern and sort must be a function");s.push({name:e,pattern:t,sort:n})},r.prototype={init:function(e,t){var n,r,s,i,a=this;if(a.table=e,a.thead=!1,a.options=t,e.rows&&e.rows.length>0)if(e.tHead&&e.tHead.rows.length>0){for(s=0;s<e.tHead.rows.length;s++)if("thead"===e.tHead.rows[s].getAttribute("data-sort-method")){n=e.tHead.rows[s];break}n||(n=e.tHead.rows[e.tHead.rows.length-1]),a.thead=!0}else n=e.rows[0];if(n){var o=function(){a.current&&a.current!==this&&a.current.removeAttribute("aria-sort"),a.current=this,a.sortTable(this)};for(s=0;s<n.cells.length;s++)i=n.cells[s],i.setAttribute("role","columnheader"),"none"!==i.getAttribute("data-sort-method")&&(i.tabindex=0,i.addEventListener("click",o,!1),null!==i.getAttribute("data-sort-default")&&(r=i));r&&(a.current=r,a.sortTable(r))}},sortTable:function(e,t){var n=this,r=e.getAttribute("data-sort-column-key"),u=e.cellIndex,d=o,p="",h=[],f=n.thead?0:1,g=e.getAttribute("data-sort-method"),b=e.getAttribute("aria-sort");if(n.table.dispatchEvent(i("beforeSort")),t||(b="ascending"===b?"descending":"descending"===b?"ascending":n.options.descending?"descending":"ascending",e.setAttribute("aria-sort",b)),!(n.table.rows.length<2)){if(!g){while(h.length<3&&f<n.table.tBodies[0].rows.length)_=r?l(n.table.tBodies[0].rows[f].cells,r):n.table.tBodies[0].rows[f].cells[u],p=_?a(_,n.options):"",p=p.trim(),p.length>0&&h.push(p),f++;if(!h)return}for(f=0;f<s.length;f++)if(p=s[f],g){if(p.name===g){d=p.sort;break}}else if(h.every(p.pattern)){d=p.sort;break}for(n.col=u,f=0;f<n.table.tBodies.length;f++){var v,m=[],w={},y=0,S=0;if(!(n.table.tBodies[f].rows.length<2)){for(v=0;v<n.table.tBodies[f].rows.length;v++){var _;p=n.table.tBodies[f].rows[v],"none"===p.getAttribute("data-sort-method")?w[y]=p:(_=r?l(p.cells,r):p.cells[n.col],m.push({tr:p,td:_?a(_,n.options):"",index:y})),y++}for("descending"===b?m.sort(c(d,!0)):(m.sort(c(d,!1)),m.reverse()),v=0;v<y;v++)w[v]?(p=w[v],S++):p=m[v-S].tr,n.table.tBodies[f].appendChild(p)}}n.table.dispatchEvent(i("afterSort"))}},refresh:function(){void 0!==this.current&&this.sortTable(this.current,!0)}},e.exports?e.exports=r:window.Tablesort=r;var u=function(e){return e.replace(/[^\-?0-9.]/g,"")},d=function(e,t){return e=parseFloat(e),t=parseFloat(t),e=isNaN(e)?0:e,t=isNaN(t)?0:t,e-t};r.extend("number",(function(e){return e.match(/^[-+]?[£\x24Û¢´€]?\d+\s*([,\.]\d{0,2})/)||e.match(/^[-+]?\d+\s*([,\.]\d{0,2})?[£\x24Û¢´€]/)||e.match(/^[-+]?(\d)*-?([,\.]){0,1}-?(\d)+([E,e][\-+][\d]+)?%?$/)}),(function(e,t){return e=u(e),t=u(t),d(t,e)})),t["a"]=r}).call(this,n("dd40")(e))},"95ee":function(e,t,n){"use strict";n("ac6a"),n("456d");var r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"eq-window-nested-blue",staticStyle:{width:"100%","overflow-y":"scroll"}},[e.data&&0===e.data.length?t("div",{staticClass:"p-3"},[e._v("\n    There were no entries to be shown\n  ")]):e._e(),e.data&&e.data.length>0?t("table",{staticClass:"eq-table eq-highlight-rows",staticStyle:{display:"table","font-size":"14px","overflow-x":"scroll"}},[t("thead",[t("tr",e._l(Object.keys(e.data[0]),(function(n){return e.doesColumnHaveObjects(n)?e._e():t("th",{staticStyle:{"text-align":"center"}},[e._v(e._s(n)+"\n      ")])})),0)]),t("tbody",e._l(e.data,(function(n,r){return t("tr",{key:r},e._l(Object.keys(n),(function(r){return e.doesRowColumnHaveObjects(n,r)?t("td",{staticStyle:{width:"1%","white-space":"nowrap","text-align":"center"}},[e._v("\n        "+e._s(n[r])+"\n      ")]):e._e()})),0)})),0)]):e._e()])},s=[],i=(n("7514"),n("7618")),a={name:"EqAutoTable",props:{data:{required:!1}},methods:{doesColumnHaveObjects:function(e){return"object"===Object(i["a"])(e)||this.data.find((function(t){return"object"===Object(i["a"])(t[e])&&null!==t[e]&&Object.keys(t[e])}))},doesRowColumnHaveObjects:function(e,t){return"undefined"!==typeof e[t]&&!("object"===Object(i["a"])(e[t])&&null!==e[t]&&Object.keys(e[t]))}}},o=a,l=n("2877"),c=Object(l["a"])(o,r,s,!1,null,"0bd1cf36",null);t["a"]=c.exports},a56f:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));n("2397"),n("6762"),n("2fdb");var r=n("d225"),s=n("b0b4"),i=n("308d"),a=n("6bb5"),o=n("4e2b"),l=(n("a481"),n("6b54"),n("386d"),n("96cf"),n("9ab4")),c=n("bc3a"),u=n.n(c),d=n("d3e6");function p(e,t,n){return t=Object(a["a"])(t),Object(i["a"])(e,h()?Reflect.construct(t,n||[],Object(a["a"])(e).constructor):t.apply(e,n))}function h(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(h=function(){return!!e})()}var f=function(e){var t=this;return{createBotSpellsEntry:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(l["d"])(t,void 0,void 0,regeneratorRuntime.mark((function t(){var s,i,a,o,l,c,u,p,h,f,g,b;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(null!==n&&void 0!==n){t.next=2;break}throw new d["c"]("botSpellsEntry","Required parameter botSpellsEntry was null or undefined when calling createBotSpellsEntry.");case 2:for(p in s="/bot_spells_entry",i=new URL(s,"https://example.com"),e&&(a=e.baseOptions),o=Object.assign(Object.assign({method:"PUT"},a),r),l={},c={},l["Content-Type"]="application/json",u=new URLSearchParams(i.search),c)u.set(p,c[p]);for(h in r.query)u.set(h,r.query[h]);return i.search=new URLSearchParams(u).toString(),f=a&&a.headers?a.headers:{},o.headers=Object.assign(Object.assign(Object.assign({},l),f),r.headers),g="string"!==typeof n,b=g&&e&&e.isJsonMime?e.isJsonMime(o.headers["Content-Type"]):g,o.data=b?JSON.stringify(void 0!==n?n:{}):n||"",t.abrupt("return",{url:i.pathname+i.search+i.hash,options:o});case 19:case"end":return t.stop()}}),t)})))},deleteBotSpellsEntry:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(l["d"])(t,void 0,void 0,regeneratorRuntime.mark((function t(){var s,i,a,o,l,c,u,p,h,f;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(null!==n&&void 0!==n){t.next=2;break}throw new d["c"]("id","Required parameter id was null or undefined when calling deleteBotSpellsEntry.");case 2:for(p in s="/bot_spells_entry/{id}".replace("{".concat("id","}"),encodeURIComponent(String(n))),i=new URL(s,"https://example.com"),e&&(a=e.baseOptions),o=Object.assign(Object.assign({method:"DELETE"},a),r),l={},c={},u=new URLSearchParams(i.search),c)u.set(p,c[p]);for(h in r.query)u.set(h,r.query[h]);return i.search=new URLSearchParams(u).toString(),f=a&&a.headers?a.headers:{},o.headers=Object.assign(Object.assign(Object.assign({},l),f),r.headers),t.abrupt("return",{url:i.pathname+i.search+i.hash,options:o});case 15:case"end":return t.stop()}}),t)})))},getBotSpellsEntriesBulk:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(l["d"])(t,void 0,void 0,regeneratorRuntime.mark((function t(){var s,i,a,o,l,c,u,p,h,f,g,b;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(null!==n&&void 0!==n){t.next=2;break}throw new d["c"]("body","Required parameter body was null or undefined when calling getBotSpellsEntriesBulk.");case 2:for(p in s="/bot_spells_entries/bulk",i=new URL(s,"https://example.com"),e&&(a=e.baseOptions),o=Object.assign(Object.assign({method:"POST"},a),r),l={},c={},l["Content-Type"]="application/json",u=new URLSearchParams(i.search),c)u.set(p,c[p]);for(h in r.query)u.set(h,r.query[h]);return i.search=new URLSearchParams(u).toString(),f=a&&a.headers?a.headers:{},o.headers=Object.assign(Object.assign(Object.assign({},l),f),r.headers),g="string"!==typeof n,b=g&&e&&e.isJsonMime?e.isJsonMime(o.headers["Content-Type"]):g,o.data=b?JSON.stringify(void 0!==n?n:{}):n||"",t.abrupt("return",{url:i.pathname+i.search+i.hash,options:o});case 19:case"end":return t.stop()}}),t)})))},getBotSpellsEntriesCount:function(n,r,s,i,a,o,c,u,d){var p=arguments.length>9&&void 0!==arguments[9]?arguments[9]:{};return Object(l["d"])(t,void 0,void 0,regeneratorRuntime.mark((function t(){var l,h,f,g,b,v,m,w,y,S;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(w in l="/bot_spells_entries/count",h=new URL(l,"https://example.com"),e&&(f=e.baseOptions),g=Object.assign(Object.assign({method:"GET"},f),p),b={},v={},void 0!==n&&(v["includes"]=n),void 0!==r&&(v["where"]=r),void 0!==s&&(v["whereOr"]=s),void 0!==i&&(v["groupBy"]=i),void 0!==a&&(v["limit"]=a),void 0!==o&&(v["page"]=o),void 0!==c&&(v["orderBy"]=c),void 0!==u&&(v["orderDirection"]=u),void 0!==d&&(v["select"]=d),m=new URLSearchParams(h.search),v)m.set(w,v[w]);for(y in p.query)m.set(y,p.query[y]);return h.search=new URLSearchParams(m).toString(),S=f&&f.headers?f.headers:{},g.headers=Object.assign(Object.assign(Object.assign({},b),S),p.headers),t.abrupt("return",{url:h.pathname+h.search+h.hash,options:g});case 22:case"end":return t.stop()}}),t)})))},getBotSpellsEntry:function(n,r,s){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return Object(l["d"])(t,void 0,void 0,regeneratorRuntime.mark((function t(){var a,o,l,c,u,p,h,f,g,b;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(null!==n&&void 0!==n){t.next=2;break}throw new d["c"]("id","Required parameter id was null or undefined when calling getBotSpellsEntry.");case 2:for(f in a="/bot_spells_entry/{id}".replace("{".concat("id","}"),encodeURIComponent(String(n))),o=new URL(a,"https://example.com"),e&&(l=e.baseOptions),c=Object.assign(Object.assign({method:"GET"},l),i),u={},p={},void 0!==r&&(p["includes"]=r),void 0!==s&&(p["select"]=s),h=new URLSearchParams(o.search),p)h.set(f,p[f]);for(g in i.query)h.set(g,i.query[g]);return o.search=new URLSearchParams(h).toString(),b=l&&l.headers?l.headers:{},c.headers=Object.assign(Object.assign(Object.assign({},u),b),i.headers),t.abrupt("return",{url:o.pathname+o.search+o.hash,options:c});case 17:case"end":return t.stop()}}),t)})))},listBotSpellsEntries:function(n,r,s,i,a,o,c,u,d){var p=arguments.length>9&&void 0!==arguments[9]?arguments[9]:{};return Object(l["d"])(t,void 0,void 0,regeneratorRuntime.mark((function t(){var l,h,f,g,b,v,m,w,y,S;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(w in l="/bot_spells_entries",h=new URL(l,"https://example.com"),e&&(f=e.baseOptions),g=Object.assign(Object.assign({method:"GET"},f),p),b={},v={},void 0!==n&&(v["includes"]=n),void 0!==r&&(v["where"]=r),void 0!==s&&(v["whereOr"]=s),void 0!==i&&(v["groupBy"]=i),void 0!==a&&(v["limit"]=a),void 0!==o&&(v["page"]=o),void 0!==c&&(v["orderBy"]=c),void 0!==u&&(v["orderDirection"]=u),void 0!==d&&(v["select"]=d),m=new URLSearchParams(h.search),v)m.set(w,v[w]);for(y in p.query)m.set(y,p.query[y]);return h.search=new URLSearchParams(m).toString(),S=f&&f.headers?f.headers:{},g.headers=Object.assign(Object.assign(Object.assign({},b),S),p.headers),t.abrupt("return",{url:h.pathname+h.search+h.hash,options:g});case 22:case"end":return t.stop()}}),t)})))},updateBotSpellsEntry:function(n,r){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object(l["d"])(t,void 0,void 0,regeneratorRuntime.mark((function t(){var i,a,o,l,c,u,p,h,f,g,b,v;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(null!==n&&void 0!==n){t.next=2;break}throw new d["c"]("id","Required parameter id was null or undefined when calling updateBotSpellsEntry.");case 2:if(null!==r&&void 0!==r){t.next=4;break}throw new d["c"]("botSpellsEntry","Required parameter botSpellsEntry was null or undefined when calling updateBotSpellsEntry.");case 4:for(h in i="/bot_spells_entry/{id}".replace("{".concat("id","}"),encodeURIComponent(String(n))),a=new URL(i,"https://example.com"),e&&(o=e.baseOptions),l=Object.assign(Object.assign({method:"PATCH"},o),s),c={},u={},c["Content-Type"]="application/json",p=new URLSearchParams(a.search),u)p.set(h,u[h]);for(f in s.query)p.set(f,s.query[f]);return a.search=new URLSearchParams(p).toString(),g=o&&o.headers?o.headers:{},l.headers=Object.assign(Object.assign(Object.assign({},c),g),s.headers),b="string"!==typeof r,v=b&&e&&e.isJsonMime?e.isJsonMime(l.headers["Content-Type"]):b,l.data=v?JSON.stringify(void 0!==r?r:{}):r||"",t.abrupt("return",{url:a.pathname+a.search+a.hash,options:l});case 21:case"end":return t.stop()}}),t)})))}}},g=function(e){return{createBotSpellsEntry:function(t,n){return Object(l["d"])(this,void 0,void 0,regeneratorRuntime.mark((function r(){var s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,f(e).createBotSpellsEntry(t,n);case 2:return s=r.sent,r.abrupt("return",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u.a,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d["a"],r=Object.assign(Object.assign({},s.options),{url:((null===e||void 0===e?void 0:e.basePath)||n)+s.url});return t.request(r)}));case 4:case"end":return r.stop()}}),r)})))},deleteBotSpellsEntry:function(t,n){return Object(l["d"])(this,void 0,void 0,regeneratorRuntime.mark((function r(){var s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,f(e).deleteBotSpellsEntry(t,n);case 2:return s=r.sent,r.abrupt("return",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u.a,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d["a"],r=Object.assign(Object.assign({},s.options),{url:((null===e||void 0===e?void 0:e.basePath)||n)+s.url});return t.request(r)}));case 4:case"end":return r.stop()}}),r)})))},getBotSpellsEntriesBulk:function(t,n){return Object(l["d"])(this,void 0,void 0,regeneratorRuntime.mark((function r(){var s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,f(e).getBotSpellsEntriesBulk(t,n);case 2:return s=r.sent,r.abrupt("return",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u.a,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d["a"],r=Object.assign(Object.assign({},s.options),{url:((null===e||void 0===e?void 0:e.basePath)||n)+s.url});return t.request(r)}));case 4:case"end":return r.stop()}}),r)})))},getBotSpellsEntriesCount:function(t,n,r,s,i,a,o,c,p,h){return Object(l["d"])(this,void 0,void 0,regeneratorRuntime.mark((function l(){var g;return regeneratorRuntime.wrap((function(l){while(1)switch(l.prev=l.next){case 0:return l.next=2,f(e).getBotSpellsEntriesCount(t,n,r,s,i,a,o,c,p,h);case 2:return g=l.sent,l.abrupt("return",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u.a,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d["a"],r=Object.assign(Object.assign({},g.options),{url:((null===e||void 0===e?void 0:e.basePath)||n)+g.url});return t.request(r)}));case 4:case"end":return l.stop()}}),l)})))},getBotSpellsEntry:function(t,n,r,s){return Object(l["d"])(this,void 0,void 0,regeneratorRuntime.mark((function i(){var a;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,f(e).getBotSpellsEntry(t,n,r,s);case 2:return a=i.sent,i.abrupt("return",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u.a,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d["a"],r=Object.assign(Object.assign({},a.options),{url:((null===e||void 0===e?void 0:e.basePath)||n)+a.url});return t.request(r)}));case 4:case"end":return i.stop()}}),i)})))},listBotSpellsEntries:function(t,n,r,s,i,a,o,c,p,h){return Object(l["d"])(this,void 0,void 0,regeneratorRuntime.mark((function l(){var g;return regeneratorRuntime.wrap((function(l){while(1)switch(l.prev=l.next){case 0:return l.next=2,f(e).listBotSpellsEntries(t,n,r,s,i,a,o,c,p,h);case 2:return g=l.sent,l.abrupt("return",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u.a,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d["a"],r=Object.assign(Object.assign({},g.options),{url:((null===e||void 0===e?void 0:e.basePath)||n)+g.url});return t.request(r)}));case 4:case"end":return l.stop()}}),l)})))},updateBotSpellsEntry:function(t,n,r){return Object(l["d"])(this,void 0,void 0,regeneratorRuntime.mark((function s(){var i;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,f(e).updateBotSpellsEntry(t,n,r);case 2:return i=s.sent,s.abrupt("return",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u.a,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d["a"],r=Object.assign(Object.assign({},i.options),{url:((null===e||void 0===e?void 0:e.basePath)||n)+i.url});return t.request(r)}));case 4:case"end":return s.stop()}}),s)})))}}},b=function(e){function t(){return Object(r["a"])(this,t),p(this,t,arguments)}return Object(o["a"])(t,e),Object(s["a"])(t,[{key:"createBotSpellsEntry",value:function(e,t){var n=this;return g(this.configuration).createBotSpellsEntry(e.botSpellsEntry,t).then((function(e){return e(n.axios,n.basePath)}))}},{key:"deleteBotSpellsEntry",value:function(e,t){var n=this;return g(this.configuration).deleteBotSpellsEntry(e.id,t).then((function(e){return e(n.axios,n.basePath)}))}},{key:"getBotSpellsEntriesBulk",value:function(e,t){var n=this;return g(this.configuration).getBotSpellsEntriesBulk(e.body,t).then((function(e){return e(n.axios,n.basePath)}))}},{key:"getBotSpellsEntriesCount",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return g(this.configuration).getBotSpellsEntriesCount(t.includes,t.where,t.whereOr,t.groupBy,t.limit,t.page,t.orderBy,t.orderDirection,t.select,n).then((function(t){return t(e.axios,e.basePath)}))}},{key:"getBotSpellsEntry",value:function(e,t){var n=this;return g(this.configuration).getBotSpellsEntry(e.id,e.includes,e.select,t).then((function(e){return e(n.axios,n.basePath)}))}},{key:"listBotSpellsEntries",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return g(this.configuration).listBotSpellsEntries(t.includes,t.where,t.whereOr,t.groupBy,t.limit,t.page,t.orderBy,t.orderDirection,t.select,n).then((function(t){return t(e.axios,e.basePath)}))}},{key:"updateBotSpellsEntry",value:function(e,t){var n=this;return g(this.configuration).updateBotSpellsEntry(e.id,e.botSpellsEntry,t).then((function(e){return e(n.axios,n.basePath)}))}}])}(d["b"])},ae45:function(e,t){function n(e,t,n){var r,s,i,a,o;function l(){var c=Date.now()-a;c<t&&c>=0?r=setTimeout(l,t-c):(r=null,n||(o=e.apply(i,s),i=s=null))}null==t&&(t=100);var c=function(){i=this,s=arguments,a=Date.now();var c=n&&!r;return r||(r=setTimeout(l,t)),c&&(o=e.apply(i,s),i=s=null),o};return c.clear=function(){r&&(clearTimeout(r),r=null)},c.flush=function(){r&&(o=e.apply(i,s),i=s=null,clearTimeout(r),r=null)},c}n.debounce=n,e.exports=n},b49a:function(e,t,n){"use strict";n.r(t);n("7f7f"),n("386d");var r=function(){var e=this,t=e._self._c;return t("content-area",{staticStyle:{padding:"0px !important"}},[t("div",{staticClass:"row"},[t("div",{class:e.isSubEditActive()?"col-4":"col-12"},[t("eq-window",{staticClass:"p-0",attrs:{title:"Bot Spells"}},[t("div",{staticClass:"row minified-inputs mt-4 text-center"},[t("div",{staticClass:"col-3 p-0 text-right"},[t("div",{staticClass:"d-inline-block btn-group ml-4 text-right",staticStyle:{"margin-top":"26px"},attrs:{role:"group"}},[t("b-button",{attrs:{size:"sm",variant:"outline-warning"},on:{click:function(t){return e.zeroState()}}},[t("i",{staticClass:"fa fa-refresh mr-1"}),e._v("\n                Reset\n              ")])],1)]),t("div",{staticClass:"col-4"},[e._v("\n            Search\n            "),t("b-form-input",{attrs:{placeholder:"Search by text or id",autofocus:""},on:{keyup:function(t){return e.doSearch()}},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),e.loading?t("div",{staticClass:"col-2"},[t("div",{staticClass:"text-center",staticStyle:{"margin-top":"17px"}},[e._v("\n              Loading...\n              "),t("loader-fake-progress")],1)]):e._e()]),t("info-error-banner",{staticClass:"mr-3 ml-3",staticStyle:{"margin-top":"20px"},attrs:{notification:e.notification,error:e.error,slim:!0},on:{"dismiss-error":function(t){e.error=""},"dismiss-notification":function(t){e.notification=""}}}),t("div",{staticStyle:{"max-height":"80vh","overflow-y":"scroll"},attrs:{id:"bot-spell-viewport"}},[e.rows&&e.rows.length>0?t("table",{staticClass:"eq-table bordered eq-highlight-rows row-table bot-spell-sets-table",staticStyle:{display:"table","font-size":"14px","overflow-x":"scroll"},attrs:{id:"bot-spell-sets-table"}},[t("thead",{staticClass:"eq-table-floating-header"},[t("tr",[t("th",{staticStyle:{width:"100px"}}),t("th",[e._v("ID")]),t("th",[e._v("Name")]),t("th",[e._v("Spell Count")])])]),t("tbody",e._l(e.rows,(function(n,r){return t("tr",{key:n.id,class:e.isRowSelected(n)?"pulsate-highlight-white":"",attrs:{id:"row-"+n.id}},[t("td",{staticClass:"text-center pl-0 pr-0"},[t("b-button",{staticClass:"btn-dark btn-sm",staticStyle:{padding:"0px 6px"},attrs:{variant:"primary",title:"Edit Spell Set"},on:{click:function(t){return e.editBotSpellSet(n.id)}}},[t("i",{staticClass:"fa fa-pencil-square"})]),t("b-button",{staticClass:"btn-dark btn-sm ml-1",staticStyle:{padding:"0px 6px"},attrs:{variant:"primary",title:"View Spell Set"},on:{click:function(t){return e.selectSpellSet(n)}}},[t("i",{staticClass:"fa fa-eye"})])],1),t("td",{staticClass:"text-center"},[e._v(e._s(n.id))]),t("td",[e._v(e._s(n.name))]),t("td",[e._v(e._s(e.getSpellCount(n)))])])})),0)]):e._e()]),t("div",{staticClass:"row text-center justify-content-center"},[t("div",{staticClass:"col-12 text-center mt-3"},[t("b-pagination",{key:e.currentPage,staticClass:"mb-3",attrs:{"total-rows":e.totalRows,"hide-ellipsis":!0,"per-page":e.pageSize},on:{change:e.paginate},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1)])],1)],1),e.isSubEditActive()?t("div",{staticClass:"col-8 fade-in"},[e.selectedSpellSet&&e.selectedSpellSet.bot_spells_entries&&e.selectedSpellSet.bot_spells_entries.length?t("eq-window",{staticClass:"p-2",attrs:{title:"Bot Spells ID (".concat(e.selectedSpellSet.id,") [").concat(e.selectedSpellSet.name,"] Count (").concat(e.selectedSpellSet.bot_spells_entries.length,")")}},[t("div",{staticStyle:{"max-height":"88vh","overflow-y":"scroll","overflow-x":"hidden"}},[t("bot-spell-preview",{attrs:{spells:e.selectedSpellSet}})],1)]):e._e()],1):e._e()])])},s=[],i=(n("ac4d"),n("8a81"),n("5df3"),n("1c4c"),n("6b54"),n("6762"),n("2fdb"),n("96cf"),n("3b8d")),a=n("9a04"),o=n("75fc"),l=n("093e"),c=n("95ee"),u=n("02f6"),d=n("a7a1"),p=n("0d95"),h=n("cc79"),f=n("80b0"),g=n("e40e"),b=n("5afa"),v=n("935a"),m=n("7dc0"),w=n("f501"),y=n("ae45"),S=n("2fea"),_=n("dd86"),x=n("3022"),O=n.n(x);function E(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=j(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,s=function(){};return{s:s,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,o=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){o=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(o)throw i}}}}function j(e,t){if(e){if("string"==typeof e)return B(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?B(e,t):void 0}}function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var C=Object(a["a"])(d["NpcSpellApi"],Object(o["a"])(p["SpireApi"].cfg())),k={name:"BotSpellsEditor",components:{EqDebug:_["a"],BotSpellPreview:S["a"],EqWindow:v["a"],InfoErrorBanner:b["a"],LoaderFakeProgress:h["a"],ContentArea:u["a"],EqAutoTable:c["a"],EqWindowSimple:l["a"],"v-runtime-template":function(){return n.e("chunk-2d2293ca").then(n.bind(null,"dd1e"))}},data:function(){return{lastPage:0,currentPage:1,totalRows:0,pageSize:25,rows:[],filterColumns:[],subSelectedId:-1,selectedSpellSet:{},error:"",notification:"",search:"",lastSelectedTime:Date.now(),loading:!1}},watch:{$route:function(){console.log("route trigger"),this.reset(),this.init()}},methods:{zeroState:function(){this.reset(),this.lastPage=0,this.loading=!0,this.updateQueryState(),this.init()},editBotSpellSet:function(e){this.$router.push({path:O.a.format(f["a"].BOT_SPELL_EDIT,e)}).catch((function(){}))},getSpellCount:function(e){return e.bot_spells_entries?e.bot_spells_entries.length:0},paginate:function(){var e=this;setTimeout((function(){console.log("We're paginating"),console.log(e.currentPage),console.log(e.totalRows),e.updateQueryState()}),100)},doSearch:Object(y["debounce"])((function(){this.subSelectedId=-1,this.rows=[],this.loading=!0,this.lastPage=0,this.updateQueryState()}),600),getColumnWidth:function(e){return"event_"===e?"width: 130px;":"type"===e?"width: 140px;":""},reset:function(){this.currentPage=1,this.search="",this.error="",this.notification="",this.subSelectedId=-1},resetSelections:function(){this.subSelectedId=-1},updateQueryState:function(){var e={};-1!==this.subSelectedId&&(e.selectedId=this.subSelectedId),this.currentPage>0&&(e.page=this.currentPage),""!==this.search&&(e.search=this.search),console.log("[bot-spells-editor] Updating query state",e),this.$router.push({path:f["a"].BOT_SPELLS_EDIT,query:e}).catch((function(){}))},loadQueryState:function(){console.log("loading query state"),this.$route.query.selectedId>=0&&(this.subSelectedId=parseInt(this.$route.query.selectedId)),""!==this.$route.query.search&&(this.search=this.$route.query.search),"undefined"!==typeof this.$route.query.page&&0!==parseInt(this.$route.query.page)&&(this.currentPage=parseInt(this.$route.query.page),console.log("current page",this.currentPage)),console.log("query params",this.$route.query)},selectSpellSet:function(e){this.subSelectedId=e.id,this.updateQueryState()},isSubEditActive:function(){return this.subSelectedId>=0},isRowSelected:function(e){return e.id===this.subSelectedId},init:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,n,r,s,i=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=i.length>0&&void 0!==i[0]&&i[0],this.loadQueryState(),0!==this.totalRows){e.next=6;break}return e.next=5,this.getBotSpellCount();case 5:this.totalRows=e.sent;case 6:if(this.lastPage===this.currentPage&&!t){e.next=20;break}return console.log("reloading content"),this.loading=!0,this.lastPage=parseInt(this.currentPage),e.prev=10,e.next=13,this.getBotSpells();case 13:this.rows=e.sent,e.next=19;break;case 16:e.prev=16,e.t0=e["catch"](10),e.t0.response.data.error&&(this.error=e.t0.response.data.error);case 19:this.originalRows=JSON.parse(JSON.stringify(this.rows));case 20:if(setTimeout((function(){document.getElementById("bot-spell-sets-table")&&new m["a"](document.getElementById("bot-spell-sets-table"))}),100),this.subSelectedId>0){n=E(this.rows);try{for(n.s();!(r=n.n()).done;)s=r.value,s.id===this.subSelectedId&&(this.selectedSpellSet=JSON.parse(JSON.stringify(s)))}catch(a){n.e(a)}finally{n.f()}}this.loading=!1;case 23:case"end":return e.stop()}}),e,this,[[10,16]])})));function t(){return e.apply(this,arguments)}return t}(),isNumeric:function(e){return/^-?\d+$/.test(e)},getBotSpellCount:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=(new g["a"]).select(["id"]).limit(1e5),this.search&&this.search.length>0&&(this.isNumeric(this.search)?t.where("id","=",this.search):t.where("name","like",this.search)),t.where("id",">=",3001),t.where("id","<=",3016),e.next=6,C.listNpcSpells(t.get());case 6:if(n=e.sent,200!==n.status||!n.data){e.next=9;break}return e.abrupt("return",n.data.length);case 9:return e.abrupt("return",0);case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getBotSpells:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("getbotspells",this.currentPage),"undefined"!==typeof this.$route.query.page&&0!==parseInt(this.$route.query.page)&&(this.currentPage=parseInt(this.$route.query.page),console.log("current page",this.currentPage)),t=(new g["a"]).page(this.currentPage).includes(["BotSpellsEntries.SpellsNew"]).where("id",">=",3001).where("id","<=",3016).limit(this.pageSize),this.search&&this.search.length>0&&(this.isNumeric(this.search)?t.where("id","=",this.search):t.where("name","like",this.search)),e.next=6,C.listNpcSpells(t.get());case 6:if(n=e.sent,200!==n.status||!n.data){e.next=9;break}return e.abrupt("return",n.data);case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},created:function(){this.originalRows=[]},mounted:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:this.subSelectedId>0&&Object(w["b"])("bot-spell-viewport","row-"+this.subSelectedId);case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},R=k,P=(n("fc9e"),n("2877")),q=Object(P["a"])(R,r,s,!1,null,null,null);t["default"]=q.exports},cd1c:function(e,t,n){var r=n("e853");e.exports=function(e,t){return new(r(e))(t)}},dd40:function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},e853:function(e,t,n){var r=n("d3f4"),s=n("1169"),i=n("2b4c")("species");e.exports=function(e){var t;return s(e)&&(t=e.constructor,"function"!=typeof t||t!==Array&&!s(t.prototype)||(t=void 0),r(t)&&(t=t[i],null===t&&(t=void 0))),void 0===t?Array:t}},fc9e:function(e,t,n){"use strict";n("2ae0")}}]);