(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1215915e"],{"0a6e":function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"row",staticStyle:{"max-height":"85vh","overflow-y":"scroll",top:"-15px",position:"inherit"}},[e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-6 col-lg-6"},[e("dashboard-process-counts"),e("dashboard-networking-info"),e("dashboard-system-info-v2")],1),e("div",{staticClass:"col-sm-6 col-lg-6"},[e("dashboard-cpu-info")],1)])]),e("div",{staticClass:"col-lg-6"},[e("players-online-component")],1)])},a=[],i=s("b2b1"),r=function(){var t=this,e=t._self._c;return t.processCounts?e("eq-window",{staticClass:"p-0 mb-4",attrs:{title:"Server Processes"}},[t.processCounts&&0===t.processCounts.length?e("div",{staticClass:"p-3 text-center"},[t._v("\n    Server offline\n  ")]):t._e(),t.processCounts&&t.processCounts.length>0?e("table",{staticClass:"eq-table bordered eq-highlight-rows mb-0"},[e("thead",{staticClass:"eq-table-floating-header"},[e("tr",[e("th",{staticClass:"text-right"},[e("div",{staticClass:"mt-1"},[t._v("Process")])]),e("th",{staticClass:"text-left"},[t._v("\n        Status\n        "),e("button",{staticClass:"ml-3 btn btn-sm btn-dark",on:{click:function(e){t.showStats=!t.showStats}}},[e("i",{staticClass:"fe fe-activity"}),t._v("\n          "+t._s(t.showStats?"Hide":"Show")+" Stats\n        ")])])])]),e("tbody",t._l(t.processCounts,(function(s){return e("tr",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.v-dark.left",modifiers:{hover:!0,"v-dark":!0,left:!0}}],key:s.description,attrs:{title:s.optional?"This is an optional service and not required to be running":""}},[e("td",{staticClass:"text-right font-weight-bold"},[t._v("\n        "+t._s(s.description)+"\n      ")]),e("td",{staticClass:"text-center"},[0===s.count?e("span",{staticClass:"badge badge-danger",staticStyle:{"font-size":"12px"}},[t._v("Offline")]):t._e(),s.count>0?e("span",{staticClass:"badge badge-success",staticStyle:{"font-size":"12px"}},[t._v("Online ("+t._s(s.count)+")")]):t._e(),t.showStats&&(s.cpu||s.memory)?e("div",{staticClass:"mt-2"},[t._l(t.getMetrics(s),(function(s,n){return e("div",{key:s.percent,staticClass:"row"},[e("div",{staticClass:"col-3 p-0 pr-3 m-0 text-right"},[e("div",{staticClass:"small font-weight-bold",staticStyle:{"font-size":"10px"}},[t._v("\n                "+t._s(s.label)+"\n              ")])]),e("div",{staticClass:"col-6 p-0 m-0"},[e("eq-progress-bar",{staticStyle:{opacity:".95","margin-top":"4px"},attrs:{percent:s.percent,"show-percent":!1,color:s.color}})],1),e("div",{staticClass:"col-3 p-0 pl-2 m-0"},[e("div",{staticClass:"small font-weight-bold",staticStyle:{"font-size":"10px",opacity:".8"}},[t._v("\n                "+t._s(s.percent)+" %\n              ")])])])})),e("span",{staticClass:"text-muted small"},[t._v("\n            Uptime ("+t._s(t.formatProcessUptime(s.elapsed))+")\n          ")])],2):t._e()])])})),0)]):t._e()]):t._e()},o=[],c=(s("7514"),s("ac6a"),s("96cf"),s("3b8d")),l=s("e327"),u=s("0d95"),d=s("935a"),f=s("e4ba"),p=s("c582"),h={name:"DashboardProcessCounts",components:{EqProgressBar:f["a"],EqWindow:d["a"]},data:function(){return{processCounts:[],loaded:!1,showStats:!1}},methods:{formatProcessUptime:function(t){return p["a"].humanizeUnix(t)},getCpuLoadColor:function(t){return t>80?"red":t>50?"orange":"#2c7be5"},getMetrics:function(t){var e=[];return t.cpu&&e.push({label:"CPU",percent:t.cpu,color:this.getCpuLoadColor(t.cpu)}),t.memory&&e.push({label:"MEM",percent:t.memory,color:"lightgreen"}),e}},beforeDestroy:function(){l["a"].$off("server-stats")},mounted:function(){var t=this;u["SpireApi"].v1().get("eqemuserver/server-stats").then((function(t){200===t.status&&l["a"].$emit("server-stats",t.data)})),l["a"].$on("server-stats",function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(s){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=s.main_process_stats||[],n.forEach((function(e){var s=t.processCounts.find((function(t){return t.description===e.description}));s?Object.assign(s,e):t.processCounts.push(e)})),t.processCounts=t.processCounts.filter((function(t){return n.find((function(e){return e.description===t.description}))})),t.loaded=!0;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}},m=h,y=(s("fd1d"),s("2877")),b=Object(y["a"])(m,r,o,!1,null,null,null),v=b.exports,g=function(){var t=this,e=t._self._c;return e("eq-window",{staticClass:"p-0 mb-4",attrs:{title:"CPU (s) ("+(t.cpu&&t.cpu.cpu_percents?t.cpu.cpu_percents.length:0)+") "+(t.cpu&&t.cpu.info?t.cpu.info[0].modelName:"")}},[e("table",{staticClass:"eq-table bordered eq-highlight-rows mb-0 eq-window-cpu"},[e("thead",{staticClass:"eq-table-floating-header"},[e("tr",[e("th",{staticClass:"text-right"},[t._v("\n        CPU\n      ")]),e("th",{staticClass:"text-left"},[t._v("\n        Percent\n      ")]),e("th",{staticClass:"text-left"})])]),e("tbody",t._l(t.cpu.cpu_percents,(function(s,n){return e("tr",{key:n},[e("td",{staticClass:"text-right font-weight-bold",staticStyle:{width:"100px"}},[t._v("\n        #"+t._s(n+1)+"\n      ")]),e("td",{staticClass:"text-right font-weight-bold text-muted",staticStyle:{width:"50px"}},[t._v("\n        "+t._s(Math.round(s))+"%\n      ")]),e("td",{staticClass:"text-left"},[e("eq-progress-bar",{staticStyle:{opacity:".9"},attrs:{percent:Math.round(100*s)/100,"show-percent":!1,color:t.getCpuLoadColor(parseInt(s))}})],1)])})),0)])])},C=[],_={name:"DashboardCpuInfo",components:{EqProgressBar:f["a"],EqWindow:d["a"]},data:function(){return{cpu:{},timer:null}},beforeDestroy:function(){clearInterval(this.timer)},mounted:function(){this.fetchStats(),this.timer=setInterval(this.fetchStats,1e3)},methods:{fetchStats:function(){var t=this;document.hidden||u["SpireApi"].v1().get("admin/system/cpu").then((function(e){200===e.status&&(t.cpu=e.data)}))},getCpuLoadColor:function(t){return t>80?"red":t>50?"orange":"#2c7be5"},truncate:function(t,e){return t.length>e?t.substring(0,e)+"...":t}}},x=_,w=(s("38e3"),Object(y["a"])(x,g,C,!1,null,null,null)),k=w.exports,S=(s("456d"),function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"card"},[t._m(0),e("div",{staticClass:"card-body",staticStyle:{height:"15rem",padding:"0px","overflow-y":"scroll"}},[Object.keys(t.sysinfo).length>0?e("table",{staticClass:"table card-table sysinfo"},[e("tbody",[e("tr",[e("td",{staticStyle:{"vertical-align":"middle"}},[t._v("OS")]),e("td",{staticClass:"text-right"},[e("small",{staticClass:"text-muted",staticStyle:{"font-size":"10px !important"}},[t._v(t._s(t.osDisplay))])])]),Object.keys(t.sysinfo.disk).length>0?e("tr",[e("td",{staticStyle:{"vertical-align":"middle"}},[t._v("Disk")]),e("td",{staticClass:"text-right",staticStyle:{"font-size":"10px !important"}},[t._v("\n            "+t._s(t.bytesToGbytes(t.diskUsageBytes))+" /\n            "+t._s(t.bytesToGbytes(t.diskTotalBytes))+" GB\n            ("+t._s(t.diskUtilizationPercent)+"%)\n            "),e("div",{staticClass:"progress progress-sm"},[e("div",{staticClass:"progress-bar bg-green",style:{width:t.diskUtilizationPercent+"%"},attrs:{role:"progressbar","aria-valuenow":t.diskUtilizationPercent,"aria-valuemin":"0","aria-valuemax":"100"}})]),e("small",{staticClass:"text-muted",staticStyle:{"font-size":"10px !important"}},[t._v("\n              R "+t._s(t.bytesToMbytes(t.diskReadBytes))+" /\n              W "+t._s(t.bytesToMbytes(t.diskWriteBytes))+" MB/s\n            ")])])]):t._e(),e("tr",[e("td",{staticStyle:{"vertical-align":"middle"}},[t._v("Memory")]),e("td",{staticClass:"text-right",staticStyle:{"font-size":"10px !important"}},[t._v("\n            "+t._s(t.bytesToGbytes(t.memUsageBytes))+" /\n            "+t._s(t.bytesToGbytes(t.memTotalBytes))+" GB\n            ("+t._s(Math.floor(t.memUsageBytes/t.memTotalBytes*100))+"%)\n            "),e("div",{staticClass:"progress progress-sm"},[e("div",{staticClass:"progress-bar bg-green",style:{width:t.memUsagePercent+"%"},attrs:{role:"progressbar","aria-valuenow":t.memUsagePercent,"aria-valuemin":"0","aria-valuemax":"100"}})])])]),e("tr",[e("td",{staticStyle:{"vertical-align":"middle"}},[t._v("Network")]),e("td",{staticClass:"text-right"},[e("small",{staticClass:"text-muted",staticStyle:{"font-size":"10px !important"}},[t._v("\n              Rec "+t._s(t.bytesToMbytes(t.networkReadBytes))+" /\n              Trx "+t._s(t.bytesToMbytes(t.networkWriteBytes))+" MB/s\n            ")])])])])]):t._e()])])])}),B=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"card-header"},[e("h4",{staticClass:"card-header-title"},[t._v("\n        System Info\n      ")])])}],q=s("3022"),O={name:"DashboardSystemInfo",props:{sysinfo:{}},methods:{bytesToGbytes:function(t){return parseFloat(t/1024/1024/1024).toFixed(2)},bytesToMbytes:function(t){return parseFloat(t/1024/1024).toFixed(2)},ucfirst:function(t){return t.charAt(0).toUpperCase()+t.slice(1)}},computed:{cpuLoadDisplay:function(){return Object.keys(this.sysinfo).length>0?Math.round(100*this.sysinfo.cpu.load.currentload)/100:0},diskUsageBytes:function(){return Object.keys(this.sysinfo).length>0?this.sysinfo.disk.fs.size[0].used:0},diskTotalBytes:function(){return Object.keys(this.sysinfo).length>0?this.sysinfo.disk.fs.size[0].size:0},memUsageBytes:function(){return Object.keys(this.sysinfo).length>0?this.sysinfo.mem.used:0},memTotalBytes:function(){return Object.keys(this.sysinfo).length>0?this.sysinfo.mem.total:0},memUsagePercent:function(){return Math.floor(this.memUsageBytes/this.memTotalBytes*100)},diskWriteBytes:function(){return Object.keys(this.sysinfo).length>0?this.sysinfo.disk.fs.stats.wx_sec:0},diskReadBytes:function(){return Object.keys(this.sysinfo).length>0?this.sysinfo.disk.fs.stats.rx_sec:0},diskUtilizationPercent:function(){return Math.floor(this.diskUsageBytes/this.diskTotalBytes*100)},networkWriteBytes:function(){return Object.keys(this.sysinfo).length>0?this.sysinfo.network.stats[0].tx_sec:0},networkReadBytes:function(){return Object.keys(this.sysinfo).length>0?this.sysinfo.network.stats[0].rx_sec:0},osDisplay:function(){return q["format"]("%s %s %s (%s) %s",this.ucfirst(this.sysinfo.os.platform),this.sysinfo.os.distro,this.sysinfo.os.release,this.sysinfo.os.codename,this.sysinfo.os.arch)}}},j=O,z=(s("a926"),Object(y["a"])(j,S,B,!1,null,"b699c4de",null)),P=z.exports,T=(s("7f7f"),function(){var t=this,e=t._self._c;return e("div",{staticClass:"col-12 col-lg-4"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"row align-items-center"},[e("div",{staticClass:"col"},[e("h6",{staticClass:"text-uppercase text-muted mb-2"},[t._v("\n            "+t._s(t.name)+"\n          ")]),e("span",{staticClass:"h2 mb-0"},[t._v(t._s(t.counter))])]),e("div",{staticClass:"col-auto"},[e("span",{class:["h2","fe","fe-"+t.icon,"text-muted","mb-0"]})])])])])])}),U=[],D={name:"DashboardCounter",computed:{style:function(){return"font-size: "+this.counterFontSize}},props:{name:{default:"",required:!0},counter:{default:0,required:!0},icon:{default:"clock",required:!1},counterFontSize:{type:String,required:!1,default:"2rem"}}},M=D,I=Object(y["a"])(M,T,U,!1,null,null,null),A=I.exports,R=s("e2f5"),E=function(){var t=this,e=t._self._c;return e("eq-window",{staticClass:"p-0 pt-3 mb-3",attrs:{title:"System Info"}},[e("table",{staticClass:"eq-table bordered eq-highlight-rows mb-0"},[e("tbody",t._l(t.items,(function(s){return e("tr",[e("td",{staticClass:"text-right font-weight-bold"},[t._v(t._s(s.key))]),e("td",{staticClass:"text-left"},[e("small",{staticClass:"text-muted"},[t._v("\n          "+t._s(s.value)+"\n        ")])])])})),0)])])},W=[],F={name:"DashboardSystemInfoV2",components:{EqWindow:d["a"]},data:function(){return{host:{},items:[]}},mounted:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){var e,s,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=[],t.next=3,u["SpireApi"].v1().get("admin/system/host");case 3:s=t.sent,200===s.status&&(this.host=s.data,n=s.data,e.push({key:"Hostname",value:n.hostname}),e.push({key:"OS",value:n.os}),e.push({key:"Arch",value:n.kernelArch}),e.push({key:"Platform",value:"".concat(n.platform," (").concat(n.platformVersion,")")}),e.push({key:"Version",value:n.kernelVersion}),e.push({key:"Virtualization",value:"".concat(n.virtualizationSystem," ").concat(n.virtualizationRole)}),e.push({key:"Uptime",value:p["a"].humanizeUnix(Date.now()/1e3+n.uptime)}),e.push({key:"Processes",value:n.procs})),this.items=e;case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),methods:{}},G=F,L=(s("9f18"),Object(y["a"])(G,E,W,!1,null,"36afd57a",null)),N=L.exports,V=function(){var t=this,e=t._self._c;return t.addresses&&t.addresses.length>0?e("eq-window",{staticClass:"p-0 pt-3 mb-4",attrs:{title:"Server Addresses"}},[e("table",{staticClass:"eq-table bordered eq-highlight-rows mb-0"},[e("tbody",t._l(t.addresses,(function(s){return e("tr",[e("td",{staticClass:"text-right font-weight-bold"},[t._v(t._s(s.key))]),e("td",{staticClass:"text-left",staticStyle:{"min-width":"160px"}},[e("a",{staticClass:"text-muted d-inline-block",attrs:{href:"javascript:"},on:{click:function(e){return t.copyToClip(s.value)}}},[t._v("\n            "+t._s(s.value)+"\n            "),e("i",{staticClass:"ml-2 fe fe-copy d-inline-block"})])])])})),0)])]):t._e()},$=[],H=s("a2aa"),J=s("1f51"),K={name:"DashboardNetworkingInfo",components:{EqWindow:d["a"]},data:function(){return{addresses:[]}},beforeDestroy:function(){clearInterval(this.timer)},mounted:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){var e,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.timer=null,e=[],t.prev=2,t.next=5,u["SpireApi"].v1().get("admin/serverconfig");case 5:s=t.sent,200===s.status&&("undefined"!==typeof s.data.server.world.address&&e.push({key:"World Public Address",value:s.data.server.world.address}),"undefined"!==typeof s.data.server.world.localaddress&&e.push({key:"World LAN Address",value:s.data.server.world.localaddress})),t.next=11;break;case 9:t.prev=9,t.t0=t["catch"](2);case 11:this.addresses=e;case 12:case"end":return t.stop()}}),t,this,[[2,9]])})));function e(){return t.apply(this,arguments)}return e}(),methods:{copyToClip:function(t){H["a"].copyFromText(t),J["a"].toast("Copied to clipboard!")}}},Q=K,X=(s("d62d"),Object(y["a"])(Q,V,$,!1,null,"045d7ef8",null)),Y=X.exports,Z={components:{DashboardNetworkingInfo:Y,DashboardSystemInfoV2:N,PlayersOnlineComponent:R["a"],DashboardCounter:A,DashboardSystemInfo:P,DashboardCpuInfo:k,DashboardProcessCounts:v,ServerProcessButtonComponent:i["a"]}},tt=Z,et=Object(y["a"])(tt,n,a,!1,null,null,null);e["default"]=et.exports},"0d3a":function(t,e,s){},"126c":function(t,e,s){},"254b":function(t,e,s){},"2a47":function(t,e,s){},"38e3":function(t,e,s){"use strict";s("126c")},"9f18":function(t,e,s){"use strict";s("254b")},a2aa:function(t,e,s){"use strict";s.d(e,"a",(function(){return i}));var n=s("d225"),a=s("b0b4"),i=function(){function t(){Object(n["a"])(this,t)}return Object(a["a"])(t,null,[{key:"copyFromText",value:function(t){var e=document.createElement("textarea");e.value=t,e.setAttribute("readonly",""),e.style.position="absolute",e.style.left="-9999px",document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e)}},{key:"copyFromElement",value:function(t){var e=document.getElementById(t);if(e){var s=e.innerText,n=document.createElement("textarea");n.value=s,n.setAttribute("readonly",""),n.style.position="absolute",n.style.left="-9999px",document.body.appendChild(n),n.select(),document.execCommand("copy"),document.body.removeChild(n)}}}])}()},a926:function(t,e,s){"use strict";s("2a47")},d62d:function(t,e,s){"use strict";s("f00d")},f00d:function(t,e,s){},fd1d:function(t,e,s){"use strict";s("0d3a")}}]);