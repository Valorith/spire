(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4e2c198a"],{"084f":function(e,t,n){"use strict";var r=function(){var e=this,t=e._self._c;return t("div",[t("eq-window-simple",{staticClass:"p-1"},[t("div",{staticClass:"row text-center justify-content-center mb-3",staticStyle:{margin:"0 auto"}},e._l(e.dbClassIcons,(function(n,r){return t("div",{staticClass:"mb-3 text-center mr-4"},[t("div",{staticClass:"text-center col-lg-12 p-0 col-sm-12"},[e._v("\n          "+e._s(e.dbClassesShort[r])+"\n          "),t("div",{staticClass:"text-center"},[t("div",{class:"mt-1 hover-highlight-inner item-"+n+" "+(e.isClassSelected(r)?"highlight-selected-inner":""),staticStyle:{display:"block"},on:{click:function(t){return e.selectClass(r)}}})])])])})),0),t("div",{staticClass:"row mt-1"},[t("div",{staticClass:"col-3 text-center"},[e._v("\n        Spell Name or ID\n        "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.spellName,expression:"spellName"}],staticClass:"form-control",attrs:{name:"spell_name",type:"text",placeholder:"Name or ID",autofocus:"",id:"spell_name",value:""},domProps:{value:e.spellName},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.triggerState.apply(null,arguments)},input:function(t){t.target.composing||(e.spellName=t.target.value)}}})]),t("div",{staticClass:"col-3 text-center"},[e._v("\n        Spell Effect SPA\n        "),t("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedSpa,expression:"selectedSpa"}],staticClass:"form-control",attrs:{name:"class",id:"spell_effect"},on:{change:[function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selectedSpa=t.target.multiple?n:n[0]},function(t){return e.triggerState()}]}},[t("option",{attrs:{value:"-1"}},[e._v("-- Select --")]),e._l(e.dbSpellEffects,(function(n,r){return t("option",{domProps:{value:r}},[e._v("\n            "+e._s(r)+") "+e._s(n)+"\n          ")])}))],2)]),t("div",{staticClass:"col-2 text-center"},[e._v("\n        Level\n        "),t("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedLevel,expression:"selectedLevel"}],staticClass:"form-control",attrs:{name:"class",id:"Class"},on:{change:[function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selectedLevel=t.target.multiple?n:n[0]},function(t){return e.selectClass(e.selectedClass)}]}},[t("option",{attrs:{value:"0"}},[e._v("Select")]),e._l(105,(function(n){return t("option",{domProps:{value:n}},[e._v("\n            "+e._s(n)+"\n          ")])}))],2)]),t("div",{staticClass:"col-2 m-0 p-0"},[t("div",{staticClass:"btn-group ml-3 mt-4",attrs:{role:"group"}},[t("b-button",{attrs:{size:"sm",variant:0===parseInt(e.selectedLevelType)?"warning":"outline-warning"},on:{click:function(t){e.selectedLevelType=0,e.triggerState()}}},[e._v("Only\n          ")]),t("b-button",{attrs:{size:"sm",variant:1===parseInt(e.selectedLevelType)?"warning":"outline-warning"},on:{click:function(t){e.selectedLevelType=1,e.triggerState()}}},[e._v("Higher\n          ")]),t("b-button",{attrs:{size:"sm",variant:2===parseInt(e.selectedLevelType)?"warning":"outline-warning"},on:{click:function(t){e.selectedLevelType=2,e.triggerState()}}},[e._v("Lower\n          ")])],1)]),t("div",{staticClass:"col-1 text-center"})]),t("div",{staticClass:"row"},[t("div",{staticClass:"col-12 text-center mt-3"},[t("div",{staticClass:"btn-group ml-3",attrs:{role:"group","aria-label":"Basic example"}},[t("b-button",{attrs:{size:"sm",variant:10===parseInt(e.limit)?"warning":"outline-warning"},on:{click:function(t){e.limit=10,e.triggerState()}}},[e._v("10\n          ")]),t("b-button",{attrs:{size:"sm",variant:100===parseInt(e.limit)?"warning":"outline-warning"},on:{click:function(t){e.limit=100,e.triggerState()}}},[e._v("100\n          ")]),t("b-button",{attrs:{size:"sm",variant:250===parseInt(e.limit)?"warning":"outline-warning"},on:{click:function(t){e.limit=250,e.triggerState()}}},[e._v("250\n          ")]),t("b-button",{attrs:{size:"sm",variant:1e3===parseInt(e.limit)?"warning":"outline-warning"},on:{click:function(t){e.limit=1e3,e.triggerState()}}},[e._v("1000\n          ")])],1),t("b-button",{staticClass:"btn-dark btn-sm btn-dark mb-3 ml-3 mt-3",on:{click:e.resetForm}},[t("i",{staticClass:"fa fa-refresh"}),e._v(" Reset\n        ")]),t("b-button",{staticClass:"btn-dark btn-sm btn-dark ml-3",on:{click:e.triggerState}},[t("i",{staticClass:"fa fa-search"}),e._v(" Search\n        ")])],1)])]),t("app-loader",{attrs:{"is-loading":!e.loaded,padding:"4"}}),e.loaded&&e.spells?t("eq-window-simple",{staticClass:"p-0 mt-5",attrs:{title:"Spells ("+e.spells.length+")"}},[e.message?t("div",[e._v("\n      "+e._s(e.message)+"\n    ")]):e._e(),e.loaded&&e.spells?t("spell-spell-preview-table-selector",{attrs:{spells:e.spells},on:{input:function(t){return e.bubbleToParent(t)}}}):e._e()],1):e._e()],1)},s=[],i=(n("96cf"),n("3b8d")),a=n("9a04"),l=n("75fc"),o=(n("ac6a"),n("456d"),n("94bf")),c=n("935a"),u=n("0d95"),d=n("ec53"),p=n("3022"),f=n("adf0"),h=n("f4a8"),v=n("4ac1"),m=n("a50e"),g=n("d6b6"),b=n("0b24"),y=n("0329"),S=n("5201"),_=n("093e"),w=function(){var e=this,t=e._self._c;return t("div",[0===e.spells.length?t("div",{staticClass:"eq-window-nested-blue text-center"},[e._v("\n    No spells were found\n  ")]):e._e(),e.spells.length>0?t("div",{staticClass:"spell-table p-0",staticStyle:{"overflow-y":"scroll","overflow-x":"hidden",height:"58vh"},attrs:{id:"spell-effect-selector-view-port"}},[t("table",{staticClass:"eq-table bordered eq-highlight-rows spell-preview-table",staticStyle:{display:"table"},attrs:{id:"spell-preview-table"}},[e._m(0),t("tbody",e._l(e.spells,(function(n,r){return t("tr",{key:n.id,class:e.isSpellSelected(n)?"pulsate-highlight-white":""},[t("td",{staticStyle:{"vertical-align":"middle"}},[t("b-button",{staticClass:"btn-dark btn-sm btn-dark mb-3",on:{click:function(t){return e.selectSpell(n.id)}}},[t("i",{staticClass:"fa fa-arrow-left"})])],1),t("td",{staticStyle:{"text-align":"center",padding:"5px","vertical-align":"middle"}},e._l(e.dbClassIcons,(function(r,s){return t("span",[n["classes_"+s]>0&&n["classes_"+s]<255?t("div",[t("span",{class:"item-"+r+"-sm",staticStyle:{"border-radius":"4px"},attrs:{title:e.dbClassesShort[s]}}),e._v("\n                  "+e._s(e.dbClassesShort[s])+"\n                  ("+e._s(n["classes_"+s])+")\n                  ")]):e._e()])})),0),t("td",{staticStyle:{"vertical-align":"middle"}},[t("eq-spell-effects",{attrs:{spell:n}})],1),t("td",{staticStyle:{"vertical-align":"middle"}},[e.spellMinis?t("v-runtime-template",{attrs:{template:"<span>"+e.spellMinis[n.id]+"</span>"}}):e._e()],1)])})),0)])]):e._e()])},E=[function(){var e=this,t=e._self._c;return t("thead",[t("tr",[t("th"),t("th",{staticStyle:{width:"auto","min-width":"100px","text-align":"center"}},[e._v("Level")]),t("th",{staticStyle:{width:"400px","text-align":"center"}},[e._v("Effects")]),t("th",{staticStyle:{width:"auto","min-width":"200px","text-align":"center"}},[e._v("Spell")])])])}],x=(n("ac4d"),n("8a81"),n("5df3"),n("1c4c"),n("7f7f"),n("6b54"),n("c511")),C=n("79a9"),k=n("80b0");function O(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=T(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,s=function(){};return{s:s,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}function T(e,t){if(e){if("string"==typeof e)return j(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?j(e,t):void 0}}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var B={name:"SpellPreviewTableSelector",components:{EqSpellDescription:C["a"],EqSpellEffects:x["a"],EqSpellPreview:f["a"],EqWindow:c["a"],"v-runtime-template":function(){return n.e("chunk-2d2293ca").then(n.bind(null,"dd1e"))}},data:function(){return{debug:v["a"].DEBUG,debugSpellEffects:!1,itemCdnUrl:v["a"].ASSET_ITEM_ICON_BASE_URL,spellEffectInfo:[],itemData:{},sideLoadedSpellData:{},componentId:"",reagents:[],effectDescription:"",recourseLink:"",title:"",spellMinis:{},dbClassIcons:h["a"],dbClassesShort:m["b"],selectedSpellId:0}},created:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,n,r,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=[],n=O(this.spells),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=12;break}return s=r.value,y["a"].setSpell(s["id"],s),e.next=9,y["a"].renderSpellMini("0",s["id"],30);case 9:t[s["id"]]=e.sent;case 10:e.next=4;break;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e["catch"](2),n.e(e.t0);case 17:return e.prev=17,n.f(),e.finish(17);case 20:this.spellMinis=t,this.sideLoadedSpellData=y["a"].data,this.title="Spells ("+this.spells.length+")";case 23:case"end":return e.stop()}}),e,this,[[2,14,17,20]])})));function t(){return e.apply(this,arguments)}return t}(),props:{spells:Array},methods:{isSpellSelected:function(e){return e.id===this.selectedSpellId},selectSpell:function(e){var t={spellId:e};this.$emit("input",t),this.selectedSpellId=e},selectAsEffect:function(e,t){var n={field:e,spell:t};this.$emit("input",n)},getClasses:function(e){return y["a"].getClasses(e)},getTargetTypeColor:function(e){return y["a"].getTargetTypeColor(e)},getTargetTypeName:function(e){return g["j"][e]?g["j"][e]:"Unknown Target ("+e+")"},humanTime:function(e){var t="";if(0===e)t="time";else{var n=Math.floor(e/3600),r=Math.floor((e-3600*n)/60),s=e-3600*n-60*r;t=(n>1?n+" hours ":"")+(1===n?"1 hour ":"")+(r>0?r+" min ":"")+(s>0?s+" sec":"")}return t},getBuffDuration:function(e){return y["a"].getBuffDuration(e)},editSpell:function(e){this.$router.push({path:p["format"](k["a"].SPELL_EDIT,e),query:{}}).catch((function(){}))}}},L=B,q=(n("4797"),n("2877")),R=Object(q["a"])(L,w,E,!1,null,"8c7b12c0",null),P=R.exports,I=n("e40e"),A={name:"SpellSelector",components:{SpellSpellPreviewTableSelector:P,EqWindowSimple:_["a"],EqSpellPreviewTable:b["a"],EqSpellPreview:f["a"],EqItemCardPreview:d["default"],EqWindow:c["a"]},data:function(){return{loaded:!1,spells:null,limit:100,beginRange:1e4,endRange:1e5,dbClassIcons:h["a"],dbClassesShort:m["b"],dbClasses:m["d"],dbSpellEffects:g["d"],itemCdnUrl:v["a"].ASSET_ITEM_ICON_BASE_URL,selectedClass:0,spellName:"",spellEffect:"",selectedSpa:-1,selectedLevel:0,selectedLevelType:0,message:"",listType:"table"}},mounted:function(){0===Object.keys(this.$route.query).length&&y["a"].preloadDbstr(),this.loaded=!0},methods:{bubbleToParent:function(e){this.$emit("input",e)},resetForm:function(){this.selectedClass=0,this.spellName="",this.spellEffect="",this.selectedSpa=-1,this.selectedLevel=0,this.selectedLevelType=0,this.spells=null},selectClass:function(e){this.selectedClass=e,this.spellName="",this.selectedSpa=-1,this.listSpells()},triggerState:function(){this.listSpells()},isClassSelected:function(e){return e===this.selectedClass},listSpells:function(){var e=this;this.loaded=!1,this.message="";var t=Object(a["a"])(o["Gb"],Object(l["a"])(u["SpireApi"].cfg())),n=new I["a"];this.selectedClass>0&&0===this.selectedLevel&&(n.where("classes"+this.selectedClass,">=","1"),n.where("classes"+this.selectedClass,"<=","250"));var r="=";if(1===parseInt(this.selectedLevelType)&&(r=">="),2===parseInt(this.selectedLevelType)&&(r="<="),this.selectedLevel>0&&this.selectedClass>0&&(n.where("classes"+this.selectedClass,r,this.selectedLevel),n.where("classes"+this.selectedClass,"<=","250")),0===this.selectedClass&&this.selectedLevel>0)for(var s=1;s<16;s++)n.whereOr("classes"+s,r,this.selectedLevel);if(!isNaN(this.spellName)&&this.spellName?n.whereOr("id","=",this.spellName):this.spellName&&n.whereOr("name","like",this.spellName),this.selectedSpa>0)for(var c=1;c<=12;c++)n.whereOr("effectid"+c,"=",this.selectedSpa);n.limit(this.limit),this.selectedClass>0&&n.orderBy([p["format"]("classes%s",this.selectedClass)]),t.listSpellsNews(n.get()).then(function(){var n=Object(i["a"])(regeneratorRuntime.mark((function n(r){var s,i,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(200!==r.status){n.next=11;break}return e.spells=r.data,s=[],i=[],r.data.forEach((function(e){for(var t=1;t<=12;t++){var n=y["a"].getSpellIdFromEffectIfExists(e,t);n>0&&s.push(n);var r=y["a"].getItemIdFromEffectIfExists(e,t);r>0&&i.push(r)}})),r.data.forEach((function(e){for(var t=0;t<4;t++)e["components_"+t]>0&&i.push(e["components_"+t])})),n.next=8,Object(a["a"])(o["G"],Object(l["a"])(u["SpireApi"].cfg())).getItemsBulk({body:{ids:i}});case 8:c=n.sent,200==c.status&&c.data&&parseInt(c.data.length)>0&&c.data.forEach((function(e){S["a"].setItem(e.id,e)})),t.getSpellsNewsBulk({body:{ids:s}}).then((function(t){200==t.status&&t.data&&parseInt(t.data.length)>0&&t.data.forEach((function(e){y["a"].setSpell(e.id,e)})),e.loaded=!0}));case 11:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())}}},N=A,D=Object(q["a"])(N,r,s,!1,null,null,null);t["a"]=D.exports},"093e":function(e,t,n){"use strict";var r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"eq-window-simple"},[e.title?t("div",{staticClass:"eq-window-title-bar",style:"font-weight: "+(e.boldTitle?"bold":"normal")+";"},[e._v(e._s(e.title)+"\n  ")]):e._e(),t("div",{class:e.classes,style:"padding: "+("undefined"!==typeof e.padding?e.padding:10)+"px"},[e._t("default")],2)])},s=[],i=(n("c5f6"),{name:"EqWindowSimple",props:{title:{type:String,required:!1},padding:{type:Number,required:!1,default:10},classes:{type:String,required:!1,default:""},boldTitle:{type:Boolean,required:!1,default:!1}}}),a=i,l=n("2877"),o=Object(l["a"])(a,r,s,!1,null,"4db0cdea",null);t["a"]=o.exports},"0a49":function(e,t,n){var r=n("9b43"),s=n("626a"),i=n("4bf8"),a=n("9def"),l=n("cd1c");e.exports=function(e,t){var n=1==e,o=2==e,c=3==e,u=4==e,d=6==e,p=5==e||d,f=t||l;return function(t,l,h){for(var v,m,g=i(t),b=s(g),y=r(l,h,3),S=a(b.length),_=0,w=n?f(t,S):o?f(t,0):void 0;S>_;_++)if((p||_ in b)&&(v=b[_],m=y(v,_,g),e))if(n)w[_]=m;else if(m)switch(e){case 3:return!0;case 5:return v;case 6:return _;case 2:w.push(v)}else if(u)return!1;return d?-1:c||u?u:w}}},"0ac6":function(e,t,n){"use strict";n.r(t);n("6762"),n("2fdb"),n("ac6a"),n("456d"),n("7f7f");var r=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"row"},[t("div",{class:e.areSelectorsActive()?"col-7":"col-12"},[e.spellSet?t("eq-window",{staticClass:"p-0",attrs:{title:"Bot Spells Editor ID (".concat(e.spellSet.id,") [").concat(e.spellSet.name,"] Count (").concat(e.spellSet.bot_spells_entries?e.spellSet.bot_spells_entries.length:0,")")}},[t("div",{staticClass:"row mb-2"},[t("div",{staticClass:"col-4"},[t("div",{staticClass:"mt-4 ml-3"},[t("div",{staticClass:"btn-group d-inline-block",attrs:{role:"group"}},[t("b-button",{attrs:{size:"sm",variant:"outline-success"},on:{click:e.goBack}},[t("i",{staticClass:"fa fa-arrow-left mr-1"}),e._v("\n                  Go back to Spell Lists\n                ")]),t("b-button",{attrs:{size:"sm",variant:"outline-warning"},on:{click:function(t){return e.addSpellListEntry()}}},[t("i",{staticClass:"fa fa-plus mr-1"}),e._v("\n                  Add Spell\n                ")])],1)])]),t("div",{staticClass:"col-8"},[t("info-error-banner",{staticClass:"mr-1",staticStyle:{"margin-top":"20px"},attrs:{notification:e.notification,error:e.error,slim:!0},on:{"dismiss-error":function(t){e.error=""},"dismiss-notification":function(t){e.notification=""}}})],1)]),t("div",{staticStyle:{"max-height":"90vh","overflow-y":"scroll","overflow-x":"hidden"},attrs:{id:"bot-spell-preview-list-viewport"}},[t("bot-spell-preview",{attrs:{spells:e.spellSet,"edit-buttons":!0,"highlighted-spell":e.highlightedSpellId},on:{"reload-parent":function(t){return e.init()},"edit-spell":function(t){return e.editSpell(t)},error:function(t){e.error=t},notification:function(t){e.notification=t}}})],1)]):e._e()],1),t("div",{class:e.areSelectorsActive()?"col-5":""},[e.selectorActive["spell-selector"]?t("div",{staticClass:"fade-in",staticStyle:{width:"auto"}},[t("spell-selector",{on:{input:function(t){return e.addSpellToList(t.spellId)}}})],1):e._e(),e.editingSpellEntryId>0?t("div",[t("eq-window",{attrs:{title:"Editing Bot Spell List (".concat(e.editingSpellEntryId,")")}},[e._l(e.editingSpellEntryFields,(function(n){return t("div",{key:n.field,class:"row minified-inputs"},["checkbox"===n.fType?t("div",{staticClass:"col-4 text-right p-0 m-0 mr-1 mt-3",staticStyle:{position:"relative",bottom:"6px"}},[n.category?t("span",{staticClass:"font-weight-bold"},[e._v(e._s(n.category))]):e._e(),e._v("\n              "+e._s(n.desc)+"\n            ")]):e._e(),"checkbox"!==n.fType?t("div",{staticClass:"col-4 text-right p-0 m-0 mr-3",staticStyle:{"margin-top":"10px !important"}},[n.category?t("span",{staticClass:"font-weight-bold"},[e._v(e._s(n.category))]):e._e(),e._v("\n              "+e._s(n.desc)+"\n            ")]):e._e(),t("div",{staticClass:"col-7 text-left p-0 mt-2"},["spellid"===n.field&&e.editingSpellEntry.spells_new&&e.editingSpellEntry.spells_new.id>0?t("div",{staticClass:"text-left"},[Object.keys(e.editingSpellEntry.spells_new).length>0&&e.editingSpellEntry.spells_new?t("spell-popover",{staticClass:"mt-2",attrs:{spell:e.editingSpellEntry.spells_new,size:20}}):e._e()],1):e._e(),"checkbox"===n.fType?t("div",{class:"text-left ml-2 mt-1"},[t("eq-checkbox",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.v-dark.right",modifiers:{hover:!0,"v-dark":!0,right:!0}}],staticClass:"d-inline-block text-center",attrs:{title:e.getFieldDescription(n.field),"true-value":"undefined"!==typeof n.true?n.true:1,"false-value":"undefined"!==typeof n.false?n.false:0},on:{input:function(t){e.editingSpellEntry[n.field]=t}},model:{value:e.editingSpellEntry[n.field],callback:function(t){e.$set(e.editingSpellEntry,n.field,e._n(t))},expression:"editingSpellEntry[field.field]"}})],1):e._e(),"number"===n.fType?t("b-form-input",e._g({directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.v-dark.right",modifiers:{hover:!0,"v-dark":!0,right:!0}}],staticClass:"m-0 mt-1",style:0===e.editingSpellEntry[n.field]?"opacity: .5":"",attrs:{id:n.field,title:e.getFieldDescription(n.field)},model:{value:e.editingSpellEntry[n.field],callback:function(t){e.$set(e.editingSpellEntry,n.field,e._n(t))},expression:"editingSpellEntry[field.field]"}},n.e?e.getEventHandlers(n.e,n.field):{})):e._e(),"text"===n.fType?t("b-form-input",e._g({directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.v-dark.right",modifiers:{hover:!0,"v-dark":!0,right:!0}}],staticClass:"m-0 mt-1",style:e.editingSpellEntry[n.field]<=("undefined"!==typeof n.zeroValue?n.zeroValue:0)?"opacity: .5":"",attrs:{id:n.field,title:e.getFieldDescription(n.field)},model:{value:e.editingSpellEntry[n.field],callback:function(t){e.$set(e.editingSpellEntry,n.field,t)},expression:"editingSpellEntry[field.field]"}},n.e?e.getEventHandlers(n.e,n.field):{})):e._e(),["manacost","recast_delay"].includes(n.field)&&-1===parseInt(e.editingSpellEntry[n.field])&&e.editingSpellEntry.spells_new?t("div",{staticClass:"text-center"},[t("span",{staticClass:"font-weight-bold"},[e._v("(Spell) "+e._s(n.desc))]),e._v("\n                "+e._s(e.editingSpellEntry.spells_new[n.spellField])+"\n              ")]):e._e(),"textarea"===n.fType?t("b-textarea",e._g({directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.v-dark.right",modifiers:{hover:!0,"v-dark":!0,right:!0}}],staticClass:"m-0 mt-1",style:(""===e.editingSpellEntry[n.field]?"opacity: .5":"")+";",attrs:{id:n.field,rows:"2","max-rows":"6",title:e.getFieldDescription(n.field)},model:{value:e.editingSpellEntry[n.field],callback:function(t){e.$set(e.editingSpellEntry,n.field,t)},expression:"editingSpellEntry[field.field]"}},n.e?e.getEventHandlers(n.e,n.field):{})):e._e(),n.selectData?t("select",e._g({directives:[{name:"model",rawName:"v-model.number",value:e.editingSpellEntry[n.field],expression:"editingSpellEntry[field.field]",modifiers:{number:!0}},{name:"b-tooltip",rawName:"v-b-tooltip.hover.v-dark.right",modifiers:{hover:!0,"v-dark":!0,right:!0}}],staticClass:"form-control m-0 mt-1",attrs:{id:n.field,title:e.getFieldDescription(n.field)},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(t){var n="_value"in t?t._value:t.value;return e._n(n)}));e.$set(e.editingSpellEntry,n.field,t.target.multiple?r:r[0])}}},n.e?e.getEventHandlers(n.e,n.field):{}),e._l(n.selectData,(function(n,r){return t("option",{key:r,domProps:{value:parseInt(r)}},[e._v("\n                  "+e._s(r)+") "+e._s(n)+"\n                ")])})),0):e._e()],1)])})),t("div",{staticClass:"text-center"},[t("b-button",{staticClass:"mt-3",attrs:{size:"sm",variant:"outline-warning"},on:{click:function(t){return e.saveSpellListEntry()}}},[t("i",{staticClass:"fa fa-save"}),e._v("\n              Save\n            ")])],1)],2)],1):e._e()])])])},s=[],i=n("768b"),a=(n("ffc1"),n("7514"),n("a481"),n("9a04")),l=n("75fc"),o=(n("96cf"),n("3b8d")),c=n("935a"),u=n("2fea"),d=n("e40e"),p=n("a7a1"),f=n("0d95"),h=n("084f"),v=n("a56f"),m=n("f501"),g=n("5afa"),b=n("80b0"),y=n("3022"),S=n.n(y),_=n("46f9"),w=n("646b"),E=n("5a63"),x=n("0329"),C={0:"Equal To",1:"Not Equal To",2:"Greater Than or Equal To",3:"Lesser Than or Equal To",4:"Greater Than",5:"Lesser Than",6:"Any (Pipe Seperated Values)",7:"Not Any (Pipe Seperated Values)",8:"Between (Pipe Seperated Values)",9:"Not Between (Pipe Seperated Values)"},k={name:"BotSpellListEditor",components:{SpellPopover:w["a"],EqCheckbox:_["a"],InfoErrorBanner:g["a"],SpellSelector:h["a"],BotSpellPreview:u["a"],EqWindow:c["a"]},data:function(){return{spellSet:{},notification:"",error:"",selectorActive:{},editingSpellEntryId:0,editingSpellEntry:{},lastResetTime:Date.now(),rerenderProbability:0,highlightedSpellId:0,editingSpellEntryFields:[{desc:"Spell Type",field:"type",fType:"select",selectData:E["a"]},{desc:"Priority",field:"priority",fType:"number"},{desc:"Mana Cost",field:"manacost",fType:"number",spellField:"mana"},{desc:"Recast Delay",field:"recast_delay",fType:"number",spellField:"recast_time"},{desc:"Minimum Level",field:"minlevel",fType:"number"},{desc:"Maximum Level",field:"maxlevel",fType:"number"},{desc:"Min HP",field:"min_hp",fType:"number"},{desc:"Max HP",field:"max_hp",fType:"number"},{desc:"Resist Adjust",field:"resist_adjust",fType:"number"},{desc:"Bucket Name",field:"bucket_name",fType:"text"},{desc:"Bucket Value",field:"bucket_value",fType:"text"},{desc:"Bucket Comparison",field:"bucket_comparison",fType:"select",selectData:C}]}},mounted:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.init();case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),watch:{$route:function(){console.log("route trigger"),this.reset(),this.init()}},methods:{hasSpellEntries:function(){return this.spellSet.bot_spells_entries&&this.spellSet.bot_spells_entries.length},areSelectorsActive:function(){return this.editingSpellEntryId>0||this.selectorActive["spell-selector"]},saveSpellListEntry:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t=Object(a["a"])(v["a"],Object(l["a"])(f["SpireApi"].cfg())),n=JSON.parse(JSON.stringify(this.editingSpellEntry)),delete n.spells_new,console.log("entry is ",n),e.next=7,t.updateBotSpellsEntry({id:n.id,botSpellsEntry:n});case 7:r=e.sent,200===r.status&&(this.notification="Updated spell list entry!",this.init()),e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](0),e.t0.response.data.error&&e.t0.response&&e.t0.response.data&&e.t0.response.data.error&&(this.error="Error! "+e.t0.response.data.error);case 14:case"end":return e.stop()}}),e,this,[[0,11]])})));function t(){return e.apply(this,arguments)}return t}(),getFieldDescription:function(e){var t={priority:"Lower this number, the more likely-hood the Bot will choose to cast this Spell",minlevel:"Spell only casts if Bot is above this level (default 1)",maxlevel:"Spell only casts if Bot is below this level (default 255)",manacost:"How much this spell costs when the Bot casts (-2 no cast time) (-1 use mana cost from spell data)",recast_delay:"Milliseconds before Bot can recast spell (-1 - Spell default)",resist_adjust:"",min_hp:"Spell only casts if above this number if non-zero",max_hp:"Spell only casts if below this number if non-zero",bucket_name:"Spell only casts if a matching Character or Bot Data bucket name is found",bucket_value:"Spell only casts if a matching Data bucket value is found",bucket_comparison:"Comparison Types"},n=e.toLowerCase().replace("_","");for(var r in t){var s=r.toLowerCase().replace("_","");if(s===n)return t[r]}},getEventHandlers:function(e,t){var n={};return e.onclick&&(n.click=function(){return e.onclick(t)}),e.onmouseover&&(n.mouseover=function(){return e.onmouseover(t)}),n},updateQueryState:function(){var e={};0!==this.editingSpellEntryId&&(e.id=this.editingSpellEntryId);var t=parseInt(this.$route.params.id);this.$router.push({path:S.a.format(b["a"].BOT_SPELL_EDIT,t),query:e}).catch((function(){}))},loadQueryState:function(){console.log("loading query state"),this.$route.query.id>=0&&(this.editingSpellEntryId=parseInt(this.$route.query.id)),console.log("query params",this.$route.query)},editSpell:function(e){console.log("we got it!",e),this.editingSpellEntryId=e.id,this.updateQueryState()},reset:function(){this.resetPreviewComponents(),this.resetNotifications(),this.highlightedSpellId=0,this.editingSpellEntryId=0},resetNotifications:function(){this.error="",this.notification=""},init:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.loadQueryState(),e.next=3,this.getBotSpell();case 3:this.spellSet=e.sent,this.editingSpellEntryId>0&&(t=this.spellSet.bot_spells_entries.find((function(e){return e.id===n.editingSpellEntryId})),Object.keys(t).length>0&&(this.editingSpellEntry=t),this.scrollToSpellListEntry(this.editingSpellEntryId));case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),goBack:function(){this.$router.push({path:b["a"].BOT_SPELLS_EDIT}).catch((function(){}))},addSpellListEntry:function(){var e=this;this.reset(),this.resetNotifications(),this.updateQueryState(),setTimeout((function(){e.setSelectorActive("spell-selector")}),50)},calculateBotSpellTypeFromSpell:function(e){for(var t=1;t<=12;t++){if([33,106,71].includes(e["effectid_"+t]))return console.log("[bot-spell-list-editor] detected pet spell SPA [%s]",e["effectid_"+t]),5;if([22].includes(e["effectid_"+t]))return console.log("[bot-spell-list-editor] detected charm spell SPA [%s]",e["effectid_"+t]),12;if([128].includes(e["effectid_"+t]))return console.log("[bot-spell-list-editor] detected snare spell SPA [%s]",e["effectid_"+t]),7;if([209].includes(e["effectid_"+t]))return console.log("[bot-spell-list-editor] detected dispell spell SPA [%s]",e["effectid_"+t]),9;if([31].includes(e["effectid_"+t]))return console.log("[bot-spell-list-editor] detected mez spell SPA [%s]",e["effectid_"+t]),11;if(0===e["effectid_"+t]&&e["effect_base_value_"+t]>0&&1===e.good_effect)return console.log("[bot-spell-list-editor] detected heal SPA [%s]",e["effectid_"+t]),1;if(0===e["effectid_"+t]&&e["effect_base_value_"+t]>0&&0===e.good_effect)return console.log("[bot-spell-list-editor] detected nuke SPA [%s]",e["effectid_"+t]),0;if(0===e["effectid_"+t]&&0!==e["effect_base_value_"+t]&&0===e.good_effect&&e.buffduration>0)return console.log("[bot-spell-list-editor] detected DOT SPA [%s]",e["effectid_"+t]),8;if(1===e.good_effect)return console.log("[bot-spell-list-editor] detected buff SPA [%s]",e["effectid_"+t]),3}return 0},addSpellToList:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var n,r,s,i,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.resetNotifications(),console.log(this.$route.params),e.next=4,x["a"].getSpell(t);case 4:return n=e.sent,e.prev=5,r=parseInt(this.$route.params.id),s=Object(a["a"])(v["a"],Object(l["a"])(f["SpireApi"].cfg())),e.next=10,s.createBotSpellsEntry({botSpellsEntry:{npc_spells_id:r,spell_id:parseInt(t),type:this.calculateBotSpellTypeFromSpell(n),minlevel:0,maxlevel:0,manacost:-1,recast_delay:-1,priority:1,resist_adjust:0,min_hp:0,max_hp:0,bucket_name:"",bucket_value:"",bucket_comparison:0}});case 10:i=e.sent,this.scrollToSpellListEntry(i.data.id),this.notification="Added spell to list!",this.init(),console.log("highlighted spell id",this.highlightedSpellId),e.next=28;break;case 17:if(e.prev=17,e.t0=e["catch"](5),!e.t0.response.data.error){e.next=28;break}if(!(e.t0.response&&e.t0.response.data&&e.t0.response.data.error)){e.next=28;break}if(!e.t0.response.data.error.includes("Duplicate")){e.next=27;break}return console.log("We're getting spell",t),o=this.spellSet.bot_spells_entries.find((function(e){return e.spells_new&&e.spells_new.id===t})),Object.keys(o).length>0&&this.scrollToSpellListEntry(o.id),this.error="This spell is already in this list!",e.abrupt("return");case 27:this.error="Error! "+e.t0.response.data.error;case 28:case"end":return e.stop()}}),e,this,[[5,17]])})));function t(t){return e.apply(this,arguments)}return t}(),scrollToSpellListEntry:function(e){this.highlightedSpellId=e,setTimeout((function(){Object(m["b"])("bot-spell-preview-list-viewport","spell-list-entry-"+e)}),100)},getBotSpell:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=(new d["a"]).includes(["BotSpellsEntries.SpellsNew"]),e.prev=1,e.next=4,Object(a["a"])(p["NpcSpellApi"],Object(l["a"])(f["SpireApi"].cfg())).getNpcSpell({id:this.$route.params.id},{query:t.get()});case 4:if(n=e.sent,200!==n.status||!n.data){e.next=7;break}return e.abrupt("return",n.data);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](1),e.t0.response.data.error&&e.t0.response&&e.t0.response.data&&e.t0.response.data.error&&(this.error="Error! "+e.t0.response.data.error);case 12:case"end":return e.stop()}}),e,this,[[1,9]])})));function t(){return e.apply(this,arguments)}return t}(),resetPreviewComponents:function(){for(var e=0,t=Object.entries(this.selectorActive);e<t.length;e++){var n=Object(i["a"])(t[e],2),r=n[0];n[1];this.selectorActive[r]=!1}},setSelectorActive:function(e){this.resetPreviewComponents(),this.lastResetTime=Date.now(),this.selectorActive[e]=!0,this.$forceUpdate()}}},O=k,T=n("2877"),j=Object(T["a"])(O,r,s,!1,null,"aad61372",null);t["default"]=j.exports},"0b24":function(e,t,n){"use strict";n("ac6a"),n("456d");var r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"eq-window-simple p-0 mb-0",style:"margin-bottom: 40px; "+(e.title?"padding-top: 30px":"padding-top: 0px !important")},[t("div",{style:(e.title,"")},[0===e.spells.length?t("div",{staticClass:"eq-window-nested-blue text-center p-5"},[e._v("\n      No spells were found\n    ")]):e._e(),e.spells.length>0?t("div",{staticClass:"spell-table fill-screen",staticStyle:{"overflow-y":"scroll","overflow-x":"hidden"}},[t("table",{staticClass:"eq-table bordered eq-highlight-rows",attrs:{id:"spell-table"}},[e._m(0),t("tbody",e._l(e.spells,(function(n,r){return t("tr",{key:n.id},[t("td",{staticClass:"p-0 text-center"},[t("b-button",{staticClass:"btn-dark mr-2",staticStyle:{width:"28px",height:"28px"},attrs:{variant:"outline-danger",size:"sm",title:"Delete"},on:{click:function(t){return e.deleteSpell(n)}}},[t("i",{staticClass:"fa fa-trash"})]),t("b-button",{staticClass:"btn btn-dark btn-outline-success mr-2",staticStyle:{width:"28px",height:"28px"},attrs:{size:"sm",title:"Edit"},on:{click:function(t){return e.editSpell(n.id)}}},[t("i",{staticClass:"fa fa-pencil-square"})]),t("b-button",{staticStyle:{width:"30px",height:"28px"},attrs:{size:"sm",title:"Clone",variant:"outline-light"},on:{click:function(t){return e.editSpell(n.id,!0)}}},[t("i",{staticClass:"ra ra-double-team"})])],1),t("td",[e._v("\n            "+e._s(n.id)+"\n          ")]),t("td",{staticClass:"text-left"},[Object.keys(n).length>0&&n?t("spell-popover",{staticClass:"mt-2",attrs:{spell:n,size:30,"spell-name-length":25}}):e._e()],1),t("td",{staticClass:"text-left"},e._l(e.dbClassIcons,(function(r,s){return t("span",[n["classes_"+s]>0&&n["classes_"+s]<255?t("div",{staticClass:"d-inline-block mr-2"},[t("span",{class:"item-"+r+"-sm",staticStyle:{"border-radius":"4px"},attrs:{title:e.dbClassesShort[s]}}),e._v("\n                  "+e._s(e.dbClassesShort[s])+"\n                  ("+e._s(n["classes_"+s])+")\n                  ")]):e._e()])})),0),t("td",{staticStyle:{"text-align":"left"}},[t("eq-spell-effects",{attrs:{spell:n}})],1),t("td",[e._v(e._s(n["mana"]>0?n["mana"]:""))]),t("td",[e._v(" "+e._s(n["cast_time"]/1e3)+" sec")]),t("td",[e._v(" "+e._s(n["recast_time"]/1e3)+" sec")]),n["buffduration"]?t("td",[e._v(" "+e._s(e.humanTime(6*e.getBuffDuration(n)))+" "+e._s(e.getBuffDuration(n))+" tic(s)")]):t("td",[e._v("N/A")]),t("td",[e._v(" "+e._s(e.getTargetTypeName(n["targettype"])))])])})),0)])]):e._e()])])},s=[function(){var e=this,t=e._self._c;return t("thead",{staticClass:"eq-table-floating-header"},[t("tr",[t("th",{staticStyle:{width:"200px"}}),t("th",{staticStyle:{width:"auto"}},[e._v("Id")]),t("th",{staticStyle:{width:"auto","min-width":"270px"}},[e._v("Spell")]),t("th",{staticStyle:{width:"auto","min-width":"300px"}},[e._v("Level")]),t("th",{staticStyle:{width:"400px"}},[e._v("Effects")]),t("th",[e._v("Mana")]),t("th",{staticStyle:{width:"80px"}},[e._v("Cast")]),t("th",{staticStyle:{width:"80px"}},[e._v("Recast")]),t("th",{staticStyle:{width:"120px"}},[e._v("Duration")]),t("th",[e._v("Target")])])])}],i=(n("7f7f"),n("96cf"),n("3b8d")),a=n("0329"),l=n("935a"),o=n("c511"),c=n("adf0"),u=n("4ac1"),d=n("79a9"),p=n("d6b6"),f=n("f4a8"),h=n("a50e"),v=n("80b0"),m=n("3022"),g=n("646b"),b=(n("5201"),n("d73b")),y={name:"EqSpellPreviewTable",components:{SpellPopover:g["a"],EqSpellDescription:d["a"],EqSpellEffects:o["a"],EqSpellPreview:c["a"],EqWindow:l["a"]},data:function(){return{debug:u["a"].DEBUG,debugSpellEffects:!1,title:"",dbClassIcons:f["a"],dbClassesShort:h["b"]}},created:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.title="Spells ("+this.spells.length+")";case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),mounted:function(){setTimeout((function(){b["a"].resizeFillScreenElements()}),100)},props:{spells:Array},methods:{deleteSpell:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!confirm("Are you sure you want to permanently delete this spell? [".concat(t.name,"] (").concat(t.id,")"))){e.next=4;break}return e.next=3,a["a"].deleteSpell(t.id);case 3:this.$emit("reload-list",!0);case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),getClasses:function(e){return a["a"].getClasses(e)},getTargetTypeColor:function(e){return a["a"].getTargetTypeColor(e)},getTargetTypeName:function(e){return p["j"][e]?p["j"][e]:"Unknown Target ("+e+")"},humanTime:function(e){var t="";if(0===e)t="";else{var n=Math.floor(e/3600),r=Math.floor((e-3600*n)/60),s=e-3600*n-60*r;t=(n>1?n+" hours ":"")+(1===n?"1 hour ":"")+(r>0?r+" min ":"")+(s>0?s+" sec":"")}return t},getBuffDuration:function(e){return a["a"].getBuffDuration(e)},editSpell:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.$router.push({path:m["format"](v["a"].SPELL_EDIT+(t?"?clone":""),e),query:{}}).catch((function(){}))}}},S=y,_=(n("eb7d"),n("2877")),w=Object(_["a"])(S,r,s,!1,null,"bd2e8756",null);t["a"]=w.exports},"28f5":function(e,t,n){},"2fea":function(e,t,n){"use strict";n("ac6a"),n("456d");var r=function(){var e=this,t=e._self._c;return e.spells?t("div",[e.spells&&!e.spells.bot_spells_entries?t("div",{staticClass:"mt-3 text-center font-weight-bold p-3"},[e._v("\n    No spells found in table\n  ")]):e._e(),e.spells&&e.spells.bot_spells_entries?t("table",{staticClass:"eq-table bordered eq-highlight-rows",staticStyle:{"font-size":"14px"},attrs:{id:"bot-spell-preview-list-table"}},[t("thead",{staticClass:"eq-table-floating-header"},[t("tr",[e.editButtons?t("th"):e._e(),t("th",[e._v("Spell")]),t("th",[e._v("Type")]),t("th",[e._v("Mana")]),t("th",[e._v("Priority")]),t("th",[e._v("Recast")]),t("th",[e._v("Min Lvl")]),t("th",[e._v("Max Lvl")]),t("th",[e._v("Bucket Name")]),t("th",[e._v("Bucket Value")]),t("th",[e._v("Bucket Comparison")])])]),t("tbody",e._l(e.spellsList,(function(n){return t("tr",{key:"spell-"+n.id,class:e.highlightedSpell&&n.id===e.highlightedSpell?"pulsate-highlight-white":"",style:n.is_parented?"background-color: rgb(0 255 255 / 20%);":"",attrs:{id:"spell-list-entry-"+n.id}},[e.editButtons?t("td",{staticClass:"text-center pl-0 pr-0",staticStyle:{"min-width":"80px"}},[e._v("\n        "+e._s(n.is_parented?"Parent List (".concat(n.bot_spells_id,")"):"")+"\n\n        "),n.is_parented?e._e():t("b-button",{staticClass:"btn-dark btn-sm btn-outline-success",staticStyle:{padding:"0px 6px"},attrs:{variant:"primary",title:"Edit spell entry"},on:{click:function(t){return e.editSpellListEntry(n)}}},[t("i",{staticClass:"fa fa-pencil-square"})]),n.is_parented?e._e():t("b-button",{staticClass:"btn btn-dark btn-sm btn-outline-danger ml-1 btn-primary",staticStyle:{padding:"0px 6px"},attrs:{variant:"primary",title:"Delete spell entry"},on:{click:function(t){return e.deleteSpellListEntry(n)}}},[t("i",{staticClass:"fa fa-trash"})])],1):e._e(),t("td",{staticStyle:{"min-width":"220px"}},[Object.keys(n.spells_new).length>0&&n.spells_new?t("spell-popover",{staticClass:"mt-2",attrs:{spell:n.spells_new,size:20}}):e._e()],1),t("td",[e._v(e._s(e.BOT_SPELL_TYPES[n.type]?e.BOT_SPELL_TYPES[n.type]:""))]),t("td",[e._v(e._s(e.getManacost(n)))]),t("td",[e._v(e._s(n.priority))]),t("td",[e._v(e._s(e.getRecastDelay(n))+"s")]),t("td",[e._v(e._s(n.minlevel))]),t("td",[e._v(e._s(n.maxlevel))]),t("td",[e._v(e._s(n.bucket_name))]),t("td",[e._v(e._s(n.bucket_value))]),t("td",[e._v(e._s(n.bucket_comparison))])])})),0)]):e._e()]):e._e()},s=[],i=(n("ac4d"),n("8a81"),n("5df3"),n("1c4c"),n("6b54"),n("a481"),n("55dd"),n("768b")),a=(n("6762"),n("2fdb"),n("9a04")),l=n("75fc"),o=(n("7f7f"),n("c5f6"),n("96cf"),n("3b8d")),c=n("646b"),u=n("dd86"),d=n("5a63"),p=n("e40e"),f=n("a7a1"),h=n("0d95"),v=n("7dc0"),m=n("a56f");function g(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=b(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,s=function(){};return{s:s,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}function b(e,t){if(e){if("string"==typeof e)return y(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(e,t):void 0}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var S={name:"BotSpellPreview",components:{EqDebug:u["a"],SpellPopover:c["a"]},data:function(){return{BOT_SPELL_TYPES:d["a"],spellsList:[],fields:{type:0,minlevel:1,maxlevel:255,manacost:-1,recast_delay:-1,priority:0,resist_adjust:0,bucket_name:"",bucket_value:"",bucket_comparison:0}}},watch:{spells:{deep:!0,handler:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.init();case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},highlightedSpell:{handler:function(){}}},props:{spells:{type:Object,required:!1},editButtons:{type:Boolean,required:!1,default:!1},highlightedSpell:{type:[Number,String],required:!1,default:0}},mounted:function(){this.init()},methods:{editSpellListEntry:function(e){console.log("edit spell",e),this.$emit("edit-spell",e)},deleteSpellListEntry:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!confirm("Are you sure you want to delete this spell? \n\n(".concat(t.spells_new.name,") (").concat(t.spells_new.id,")?"))){e.next=9;break}return e.prev=1,e.next=4,Object(a["a"])(m["a"],Object(l["a"])(h["SpireApi"].cfg())).deleteBotSpellsEntry({id:t.id}).then((function(){n.$emit("reload-parent",!0),n.$emit("notification","Spell deleted successfully!")}));case 4:e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](1),e.t0.response.data.error&&e.t0.response&&e.t0.response.data&&e.t0.response.data.error&&this.$emit("error",e.t0.response.data.error);case 9:case"end":return e.stop()}}),e,this,[[1,6]])})));function t(t){return e.apply(this,arguments)}return t}(),init:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,n,r,s,o,c,u,d;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(console.log("spell preview watcher"),t=this.spells&&this.spells.bot_spells_entries&&this.spells.bot_spells_entries.length>0?JSON.parse(JSON.stringify(this.spells.bot_spells_entries)):[],!(this.spells.parent_list>0)){e.next=16;break}return e.prev=3,n=Object(a["a"])(f["NpcSpellApi"],Object(l["a"])(h["SpireApi"].cfg())),e.next=7,n.getNpcSpell({id:this.spells.parent_list},{query:(new p["a"]).includes(["BotSpellsEntries.SpellsNew"]).limit(1e5).get()});case 7:r=e.sent,s=g(r.data.bot_spells_entries.entries());try{for(s.s();!(o=s.n()).done;)c=Object(i["a"])(o.value,2),u=c[0],c[1],r.data.bot_spells_entries[u].is_parented=!0}catch(m){s.e(m)}finally{s.f()}200===r.status&&r.data&&r.data.bot_spells_entries&&(t=t.concat(r.data.bot_spells_entries)),e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](3),e.t0.response.data.error&&console.log("Error fetching parent list",e.t0);case 16:this.spellsList=t.sort((function(e,t){return e.minlevel===t.minlevel?e.spells_new&&t.spells_new&&t.spells_new.name&&e.spells_new.name&&e.spells_new.name.localeCompare(t.spells_new.name):t.minlevel<e.minlevel?1:-1})),d=document.getElementById("bot-spell-preview-list-table"),d&&setTimeout((function(){new v["a"](d)}),100);case 19:case"end":return e.stop()}}),e,this,[[3,13]])})));function t(){return e.apply(this,arguments)}return t}(),getRecastDelay:function(e){return-2===e.recast_delay?0:-1===e.recast_delay?e.spells_new.recast_time/1e3:e.recast_delay/1e3},getManacost:function(e){return-1===e.manacost?e.spells_new.mana:e.manacost},toTitleCase:function(e){return e.replace(/\w\S*/g,(function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()}))}}},_=S,w=n("2877"),E=Object(w["a"])(_,r,s,!1,null,"60346682",null);t["a"]=E.exports},"46f9":function(e,t,n){"use strict";var r=n("bd86"),s=function(){var e=this,t=e._self._c;return e.id?t("div",{style:e.getStyle(),on:{mouseover:function(t){e.hovered=!0},mouseout:function(t){e.hovered=!1}}},[e.label?t("span",[e._v(e._s(e.label))]):e._e(),t("input",{directives:[{name:"model",rawName:"v-model",value:e.inputVal,expression:"inputVal"}],staticClass:"eq-checkbox",attrs:{type:"checkbox",id:e.id,"true-value":e.trueValue,"false-value":e.falseValue,disabled:1===e.disabled},domProps:Object(r["a"])({checked:e.inputVal>0},"checked",Array.isArray(e.inputVal)?e._i(e.inputVal,null)>-1:e._q(e.inputVal,e.trueValue)),on:{change:[function(t){var n=e.inputVal,r=t.target,s=r.checked?e.trueValue:e.falseValue;if(Array.isArray(n)){var i=null,a=e._i(n,i);r.checked?a<0&&(e.inputVal=n.concat([i])):a>-1&&(e.inputVal=n.slice(0,a).concat(n.slice(a+1)))}else e.inputVal=s},function(t){return e.change()}]}}),t("label",{staticClass:"eq-checkbox-label",attrs:{for:e.id}}),e.labelRight?t("span",{staticClass:"ml-3"},[e._v(e._s(e.labelRight))]):e._e()]):e._e()},i=[],a=(n("6b54"),n("c5f6"),{name:"EqCheckbox",data:function(){return{id:"",hovered:!1}},computed:{inputVal:{get:function(){return this.value},set:function(e){this.$emit("input",e)}}},props:{isChecked:{type:Boolean,required:!1,default:!1},disabled:{default:0},fadeWhenNotTrue:{type:Boolean,required:!1,default:!1},label:{type:String,required:!1,default:""},labelRight:{type:String,required:!1,default:""},value:{type:[Number,String,Boolean],required:!1,default:0},trueValue:{type:[Number,String,Boolean],required:!1,default:1},falseValue:{type:[Number,String,Boolean],required:!1,default:0}},mounted:function(){this.init()},methods:{change:function(){this.$emit("change",this.value)},getStyle:function(){return this.fadeWhenNotTrue?this.hovered?"opacity: 1; font-weight: bold;":this.value!==this.trueValue?"opacity: .3":"opacity: 1":""},init:function(){this.id=this.randId()},randId:function(){return"_"+Math.random().toString(36).substr(2,9)}}}),l=a,o=n("2877"),c=Object(o["a"])(l,s,i,!1,null,null,null);t["a"]=c.exports},4797:function(e,t,n){"use strict";n("28f5")},4917:function(e,t,n){"use strict";var r=n("cb7c"),s=n("9def"),i=n("0390"),a=n("5f1b");n("214f")("match",1,(function(e,t,n,l){return[function(n){var r=e(this),s=void 0==n?void 0:n[t];return void 0!==s?s.call(n,r):new RegExp(n)[t](String(r))},function(e){var t=l(n,e,this);if(t.done)return t.value;var o=r(e),c=String(this);if(!o.global)return a(o,c);var u=o.unicode;o.lastIndex=0;var d,p=[],f=0;while(null!==(d=a(o,c))){var h=String(d[0]);p[f]=h,""===h&&(o.lastIndex=i(c,s(o.lastIndex),u)),f++}return 0===f?null:p}]}))},"5a63":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={0:"Nuke",1:"RegularHeal",2:"Root",3:"Buff",4:"Escape",5:"Pet",6:"Lifetap",7:"Snare",8:"DOT",9:"Dispel",10:"InCombatBuff",11:"Mez",12:"Charm",13:"Slow",14:"Debuff",15:"Cure",16:"Resurrect",17:"HateRedux",18:"InCombatBuffSong",19:"OutOfCombatBuffSong",20:"PreCombatBuff",21:"PreCombatBuffSong",22:"Fear",23:"Stun",24:"HateLine",25:"GroupCures",26:"CompleteHeal",27:"FastHeals",28:"VeryFastHeals",29:"GroupHeals",30:"GroupCompleteHeals",31:"GroupHoTHeals",32:"HoTHeals",33:"AENukes",34:"AERains",35:"AEMez",36:"AEStun",37:"AEDebuff",38:"AESlow",39:"AESnare",40:"AEFear",41:"AEDispel",42:"AERoot",43:"AEDoT",44:"AELifetap",45:"AEHateLine",46:"PBAENuke",47:"PetBuffs",48:"PetRegularHeals",49:"PetCompleteHeals",50:"PetFastHeals",51:"PetVeryFastHeals",52:"PetHoTHeals",53:"PetCures",54:"DamageShields",55:"ResistBuffs",56:"PetDamageShields",57:"PetResistBuffs",100:"Teleport",101:"Lull",102:"Succor",103:"BindAffinity",104:"Identify",105:"Levitate",106:"Rune",107:"WaterBreathing",108:"Size",109:"Invisibility",110:"MovementSpeed",111:"SendHome",112:"SummonCorpse",113:"AELull",200:"Discipline",201:"DiscAggressive",202:"DiscDefensive",203:"DiscUtility"}},"646b":function(e,t,n){"use strict";n("7f7f");var r=function(){var e=this,t=e._self._c;return e.spell?t("div",{staticClass:"d-inline-block"},[t("div",{attrs:{id:e.spell.id+"-"+e.popoverId+"-popover"}},[t("span",{class:"d-inline-block spell-"+e.spell.new_icon+e.getIconClassLabelFromSize(),style:e.getBorderStyling(),attrs:{title:e.spell.icon}}),t("span",{class:e.getLeftMargin(),style:"position:relative;"+e.getTextTopOffset()},[e._v(e._s(e.clampSpellName(e.spell.name))+" "+e._s(e.annotation))])]),t("b-popover",{staticStyle:{width:"500px !important"},attrs:{target:e.spell.id+"-"+e.popoverId+"-popover","custom-class":"no-bg",placement:"right",delay:"0",boundary:"viewport","no-fade":!0,triggers:"hover focus"}},[t("eq-window",{staticStyle:{width:"auto",height:"100%"}},[t("eq-spell-preview",{attrs:{"spell-data":e.spell}})],1)],1)],1):e._e()},s=[],i=(n("6b54"),n("c5f6"),n("935a")),a=n("adf0"),l=n("0329"),o={name:"SpellPopover",props:{spell:Object,size:{type:[Number,String],required:!1,default:40},spellNameLength:{type:Number,required:!1},annotation:{type:String,required:!1,default:""}},watch:{spell:{deep:!0,handler:function(){}}},data:function(){return{popoverId:Math.random().toString(16).slice(2),spellEffectInfo:[],spellData:{},sideLoadedSpellData:{},reagents:[]}},methods:{truncate:function(e,t){return e.length>t?e.substring(0,t)+"...":e},clampSpellName:function(e){return this.spellNameLength?this.truncate(e,this.spellNameLength):e},getLeftMargin:function(){return this.size<=12||this.size<=20?"ml-2":(this.size,"ml-3")},getIconClassLabelFromSize:function(){return this.size<=12?"-12":this.size<=20?"-20":this.size<=30?"-30":"-40"},getBorderStyling:function(){return this.size<=12?" border: 1px solid "+this.getTargetTypeColor():this.size<=20?"position: relative; top: 5px; border-radius: 5px; border: .5px solid "+this.getTargetTypeColor():(this.size,"border-radius: 5px; border: 1px solid "+this.getTargetTypeColor())},getTextTopOffset:function(){return this.size<=12?"top: -3px":this.size<=20?"top: 0px":this.size<=30?"top: -10px":"top: -15px"},getTargetTypeColor:function(){return l["a"].getTargetTypeColor(this.spell["targettype"])}},mounted:function(){this.sideLoadedSpellData=l["a"].data},components:{EqSpellPreview:a["a"],EqSpellCardPreview:a["a"],EqWindow:i["a"]}},c=o,u=n("2877"),d=Object(u["a"])(c,r,s,!1,null,null,null);t["a"]=d.exports},7514:function(e,t,n){"use strict";var r=n("5ca1"),s=n("0a49")(5),i="find",a=!0;i in[]&&Array(1)[i]((function(){a=!1})),r(r.P+r.F*a,"Array",{find:function(e){return s(this,e,arguments.length>1?arguments[1]:void 0)}}),n("9c6c")(i)},"79a9":function(e,t,n){"use strict";var r=function(){var e=this,t=e._self._c;return t("div",[e.spell["descnum"]>0&&""!==e.effectDescription&&e.loaded?t("div",[e._v("\n    "+e._s(e.effectDescription)+"\n  ")]):e._e(),t("app-loader",{attrs:{"is-loading":!e.loaded,size:"15"}})],1)},s=[],i=n("0329"),a=n("ec53"),l=n("adf0"),o=n("935a"),c={name:"EqSpellDescription",components:{"v-runtime-template":function(){return n.e("chunk-2d2293ca").then(n.bind(null,"dd1e"))},EqItemCardPreview:a["default"],EqSpellPreview:l["a"],EqWindow:o["a"]},created:function(){var e=this;i["a"].getSpellDescription(this.spell).then((function(t){t&&""!==t.trim()&&(e.effectDescription=t),e.loaded=!0}))},data:function(){return{effectDescription:"",loaded:!1}},props:{spell:Object}},u=c,d=n("2877"),p=Object(d["a"])(u,r,s,!1,null,"6c6269d0",null);t["a"]=p.exports},"7dc0":function(e,t,n){"use strict";(function(e){n("4917"),n("a481"),n("55dd"),n("7f7f"),n("7514");function r(e,t){if(!(this instanceof r))return new r(e,t);if(!e||"TABLE"!==e.tagName)throw new Error("Element must be a table");this.init(e,t||{})}var s=[],i=function(e){var t;return window.CustomEvent&&"function"===typeof window.CustomEvent?t=new CustomEvent(e):(t=document.createEvent("CustomEvent"),t.initCustomEvent(e,!1,!1,void 0)),t},a=function(e,t){return e.getAttribute(t.sortAttribute||"data-sort")||e.textContent||e.innerText||""},l=function(e,t){return e=e.trim().toLowerCase(),t=t.trim().toLowerCase(),e===t?0:e<t?1:-1},o=function(e,t){return[].slice.call(e).find((function(e){return e.getAttribute("data-sort-column-key")===t}))},c=function(e,t){return function(n,r){var s=e(n.td,r.td);return 0===s?t?r.index-n.index:n.index-r.index:s}};r.extend=function(e,t,n){if("function"!==typeof t||"function"!==typeof n)throw new Error("Pattern and sort must be a function");s.push({name:e,pattern:t,sort:n})},r.prototype={init:function(e,t){var n,r,s,i,a=this;if(a.table=e,a.thead=!1,a.options=t,e.rows&&e.rows.length>0)if(e.tHead&&e.tHead.rows.length>0){for(s=0;s<e.tHead.rows.length;s++)if("thead"===e.tHead.rows[s].getAttribute("data-sort-method")){n=e.tHead.rows[s];break}n||(n=e.tHead.rows[e.tHead.rows.length-1]),a.thead=!0}else n=e.rows[0];if(n){var l=function(){a.current&&a.current!==this&&a.current.removeAttribute("aria-sort"),a.current=this,a.sortTable(this)};for(s=0;s<n.cells.length;s++)i=n.cells[s],i.setAttribute("role","columnheader"),"none"!==i.getAttribute("data-sort-method")&&(i.tabindex=0,i.addEventListener("click",l,!1),null!==i.getAttribute("data-sort-default")&&(r=i));r&&(a.current=r,a.sortTable(r))}},sortTable:function(e,t){var n=this,r=e.getAttribute("data-sort-column-key"),u=e.cellIndex,d=l,p="",f=[],h=n.thead?0:1,v=e.getAttribute("data-sort-method"),m=e.getAttribute("aria-sort");if(n.table.dispatchEvent(i("beforeSort")),t||(m="ascending"===m?"descending":"descending"===m?"ascending":n.options.descending?"descending":"ascending",e.setAttribute("aria-sort",m)),!(n.table.rows.length<2)){if(!v){while(f.length<3&&h<n.table.tBodies[0].rows.length)w=r?o(n.table.tBodies[0].rows[h].cells,r):n.table.tBodies[0].rows[h].cells[u],p=w?a(w,n.options):"",p=p.trim(),p.length>0&&f.push(p),h++;if(!f)return}for(h=0;h<s.length;h++)if(p=s[h],v){if(p.name===v){d=p.sort;break}}else if(f.every(p.pattern)){d=p.sort;break}for(n.col=u,h=0;h<n.table.tBodies.length;h++){var g,b=[],y={},S=0,_=0;if(!(n.table.tBodies[h].rows.length<2)){for(g=0;g<n.table.tBodies[h].rows.length;g++){var w;p=n.table.tBodies[h].rows[g],"none"===p.getAttribute("data-sort-method")?y[S]=p:(w=r?o(p.cells,r):p.cells[n.col],b.push({tr:p,td:w?a(w,n.options):"",index:S})),S++}for("descending"===m?b.sort(c(d,!0)):(b.sort(c(d,!1)),b.reverse()),g=0;g<S;g++)y[g]?(p=y[g],_++):p=b[g-_].tr,n.table.tBodies[h].appendChild(p)}}n.table.dispatchEvent(i("afterSort"))}},refresh:function(){void 0!==this.current&&this.sortTable(this.current,!0)}},e.exports?e.exports=r:window.Tablesort=r;var u=function(e){return e.replace(/[^\-?0-9.]/g,"")},d=function(e,t){return e=parseFloat(e),t=parseFloat(t),e=isNaN(e)?0:e,t=isNaN(t)?0:t,e-t};r.extend("number",(function(e){return e.match(/^[-+]?[\x24]?\d+\s*([,\.]\d{0,2})/)||e.match(/^[-+]?\d+\s*([,\.]\d{0,2})?[\x24]/)||e.match(/^[-+]?(\d)*-?([,\.]){0,1}-?(\d)+([E,e][\-+][\d]+)?%?$/)}),(function(e,t){return e=u(e),t=u(t),d(t,e)})),t["a"]=r}).call(this,n("dd40")(e))},a56f:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));n("2397"),n("6762"),n("2fdb");var r=n("d225"),s=n("b0b4"),i=n("308d"),a=n("6bb5"),l=n("4e2b"),o=(n("a481"),n("6b54"),n("386d"),n("96cf"),n("9ab4")),c=n("bc3a"),u=n.n(c),d=n("d3e6");function p(e,t,n){return t=Object(a["a"])(t),Object(i["a"])(e,f()?Reflect.construct(t,n||[],Object(a["a"])(e).constructor):t.apply(e,n))}function f(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(f=function(){return!!e})()}var h=function(e){var t=this;return{createBotSpellsEntry:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(o["d"])(t,void 0,void 0,regeneratorRuntime.mark((function t(){var s,i,a,l,o,c,u,p,f,h,v,m;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(null!==n&&void 0!==n){t.next=2;break}throw new d["c"]("botSpellsEntry","Required parameter botSpellsEntry was null or undefined when calling createBotSpellsEntry.");case 2:for(p in s="/bot_spells_entry",i=new URL(s,"https://example.com"),e&&(a=e.baseOptions),l=Object.assign(Object.assign({method:"PUT"},a),r),o={},c={},o["Content-Type"]="application/json",u=new URLSearchParams(i.search),c)u.set(p,c[p]);for(f in r.query)u.set(f,r.query[f]);return i.search=new URLSearchParams(u).toString(),h=a&&a.headers?a.headers:{},l.headers=Object.assign(Object.assign(Object.assign({},o),h),r.headers),v="string"!==typeof n,m=v&&e&&e.isJsonMime?e.isJsonMime(l.headers["Content-Type"]):v,l.data=m?JSON.stringify(void 0!==n?n:{}):n||"",t.abrupt("return",{url:i.pathname+i.search+i.hash,options:l});case 19:case"end":return t.stop()}}),t)})))},deleteBotSpellsEntry:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(o["d"])(t,void 0,void 0,regeneratorRuntime.mark((function t(){var s,i,a,l,o,c,u,p,f,h;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(null!==n&&void 0!==n){t.next=2;break}throw new d["c"]("id","Required parameter id was null or undefined when calling deleteBotSpellsEntry.");case 2:for(p in s="/bot_spells_entry/{id}".replace("{".concat("id","}"),encodeURIComponent(String(n))),i=new URL(s,"https://example.com"),e&&(a=e.baseOptions),l=Object.assign(Object.assign({method:"DELETE"},a),r),o={},c={},u=new URLSearchParams(i.search),c)u.set(p,c[p]);for(f in r.query)u.set(f,r.query[f]);return i.search=new URLSearchParams(u).toString(),h=a&&a.headers?a.headers:{},l.headers=Object.assign(Object.assign(Object.assign({},o),h),r.headers),t.abrupt("return",{url:i.pathname+i.search+i.hash,options:l});case 15:case"end":return t.stop()}}),t)})))},getBotSpellsEntriesBulk:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(o["d"])(t,void 0,void 0,regeneratorRuntime.mark((function t(){var s,i,a,l,o,c,u,p,f,h,v,m;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(null!==n&&void 0!==n){t.next=2;break}throw new d["c"]("body","Required parameter body was null or undefined when calling getBotSpellsEntriesBulk.");case 2:for(p in s="/bot_spells_entries/bulk",i=new URL(s,"https://example.com"),e&&(a=e.baseOptions),l=Object.assign(Object.assign({method:"POST"},a),r),o={},c={},o["Content-Type"]="application/json",u=new URLSearchParams(i.search),c)u.set(p,c[p]);for(f in r.query)u.set(f,r.query[f]);return i.search=new URLSearchParams(u).toString(),h=a&&a.headers?a.headers:{},l.headers=Object.assign(Object.assign(Object.assign({},o),h),r.headers),v="string"!==typeof n,m=v&&e&&e.isJsonMime?e.isJsonMime(l.headers["Content-Type"]):v,l.data=m?JSON.stringify(void 0!==n?n:{}):n||"",t.abrupt("return",{url:i.pathname+i.search+i.hash,options:l});case 19:case"end":return t.stop()}}),t)})))},getBotSpellsEntriesCount:function(n,r,s,i,a,l,c,u,d){var p=arguments.length>9&&void 0!==arguments[9]?arguments[9]:{};return Object(o["d"])(t,void 0,void 0,regeneratorRuntime.mark((function t(){var o,f,h,v,m,g,b,y,S,_;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(y in o="/bot_spells_entries/count",f=new URL(o,"https://example.com"),e&&(h=e.baseOptions),v=Object.assign(Object.assign({method:"GET"},h),p),m={},g={},void 0!==n&&(g["includes"]=n),void 0!==r&&(g["where"]=r),void 0!==s&&(g["whereOr"]=s),void 0!==i&&(g["groupBy"]=i),void 0!==a&&(g["limit"]=a),void 0!==l&&(g["page"]=l),void 0!==c&&(g["orderBy"]=c),void 0!==u&&(g["orderDirection"]=u),void 0!==d&&(g["select"]=d),b=new URLSearchParams(f.search),g)b.set(y,g[y]);for(S in p.query)b.set(S,p.query[S]);return f.search=new URLSearchParams(b).toString(),_=h&&h.headers?h.headers:{},v.headers=Object.assign(Object.assign(Object.assign({},m),_),p.headers),t.abrupt("return",{url:f.pathname+f.search+f.hash,options:v});case 22:case"end":return t.stop()}}),t)})))},getBotSpellsEntry:function(n,r,s){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return Object(o["d"])(t,void 0,void 0,regeneratorRuntime.mark((function t(){var a,l,o,c,u,p,f,h,v,m;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(null!==n&&void 0!==n){t.next=2;break}throw new d["c"]("id","Required parameter id was null or undefined when calling getBotSpellsEntry.");case 2:for(h in a="/bot_spells_entry/{id}".replace("{".concat("id","}"),encodeURIComponent(String(n))),l=new URL(a,"https://example.com"),e&&(o=e.baseOptions),c=Object.assign(Object.assign({method:"GET"},o),i),u={},p={},void 0!==r&&(p["includes"]=r),void 0!==s&&(p["select"]=s),f=new URLSearchParams(l.search),p)f.set(h,p[h]);for(v in i.query)f.set(v,i.query[v]);return l.search=new URLSearchParams(f).toString(),m=o&&o.headers?o.headers:{},c.headers=Object.assign(Object.assign(Object.assign({},u),m),i.headers),t.abrupt("return",{url:l.pathname+l.search+l.hash,options:c});case 17:case"end":return t.stop()}}),t)})))},listBotSpellsEntries:function(n,r,s,i,a,l,c,u,d){var p=arguments.length>9&&void 0!==arguments[9]?arguments[9]:{};return Object(o["d"])(t,void 0,void 0,regeneratorRuntime.mark((function t(){var o,f,h,v,m,g,b,y,S,_;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(y in o="/bot_spells_entries",f=new URL(o,"https://example.com"),e&&(h=e.baseOptions),v=Object.assign(Object.assign({method:"GET"},h),p),m={},g={},void 0!==n&&(g["includes"]=n),void 0!==r&&(g["where"]=r),void 0!==s&&(g["whereOr"]=s),void 0!==i&&(g["groupBy"]=i),void 0!==a&&(g["limit"]=a),void 0!==l&&(g["page"]=l),void 0!==c&&(g["orderBy"]=c),void 0!==u&&(g["orderDirection"]=u),void 0!==d&&(g["select"]=d),b=new URLSearchParams(f.search),g)b.set(y,g[y]);for(S in p.query)b.set(S,p.query[S]);return f.search=new URLSearchParams(b).toString(),_=h&&h.headers?h.headers:{},v.headers=Object.assign(Object.assign(Object.assign({},m),_),p.headers),t.abrupt("return",{url:f.pathname+f.search+f.hash,options:v});case 22:case"end":return t.stop()}}),t)})))},updateBotSpellsEntry:function(n,r){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object(o["d"])(t,void 0,void 0,regeneratorRuntime.mark((function t(){var i,a,l,o,c,u,p,f,h,v,m,g;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(null!==n&&void 0!==n){t.next=2;break}throw new d["c"]("id","Required parameter id was null or undefined when calling updateBotSpellsEntry.");case 2:if(null!==r&&void 0!==r){t.next=4;break}throw new d["c"]("botSpellsEntry","Required parameter botSpellsEntry was null or undefined when calling updateBotSpellsEntry.");case 4:for(f in i="/bot_spells_entry/{id}".replace("{".concat("id","}"),encodeURIComponent(String(n))),a=new URL(i,"https://example.com"),e&&(l=e.baseOptions),o=Object.assign(Object.assign({method:"PATCH"},l),s),c={},u={},c["Content-Type"]="application/json",p=new URLSearchParams(a.search),u)p.set(f,u[f]);for(h in s.query)p.set(h,s.query[h]);return a.search=new URLSearchParams(p).toString(),v=l&&l.headers?l.headers:{},o.headers=Object.assign(Object.assign(Object.assign({},c),v),s.headers),m="string"!==typeof r,g=m&&e&&e.isJsonMime?e.isJsonMime(o.headers["Content-Type"]):m,o.data=g?JSON.stringify(void 0!==r?r:{}):r||"",t.abrupt("return",{url:a.pathname+a.search+a.hash,options:o});case 21:case"end":return t.stop()}}),t)})))}}},v=function(e){return{createBotSpellsEntry:function(t,n){return Object(o["d"])(this,void 0,void 0,regeneratorRuntime.mark((function r(){var s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,h(e).createBotSpellsEntry(t,n);case 2:return s=r.sent,r.abrupt("return",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u.a,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d["a"],r=Object.assign(Object.assign({},s.options),{url:((null===e||void 0===e?void 0:e.basePath)||n)+s.url});return t.request(r)}));case 4:case"end":return r.stop()}}),r)})))},deleteBotSpellsEntry:function(t,n){return Object(o["d"])(this,void 0,void 0,regeneratorRuntime.mark((function r(){var s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,h(e).deleteBotSpellsEntry(t,n);case 2:return s=r.sent,r.abrupt("return",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u.a,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d["a"],r=Object.assign(Object.assign({},s.options),{url:((null===e||void 0===e?void 0:e.basePath)||n)+s.url});return t.request(r)}));case 4:case"end":return r.stop()}}),r)})))},getBotSpellsEntriesBulk:function(t,n){return Object(o["d"])(this,void 0,void 0,regeneratorRuntime.mark((function r(){var s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,h(e).getBotSpellsEntriesBulk(t,n);case 2:return s=r.sent,r.abrupt("return",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u.a,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d["a"],r=Object.assign(Object.assign({},s.options),{url:((null===e||void 0===e?void 0:e.basePath)||n)+s.url});return t.request(r)}));case 4:case"end":return r.stop()}}),r)})))},getBotSpellsEntriesCount:function(t,n,r,s,i,a,l,c,p,f){return Object(o["d"])(this,void 0,void 0,regeneratorRuntime.mark((function o(){var v;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return o.next=2,h(e).getBotSpellsEntriesCount(t,n,r,s,i,a,l,c,p,f);case 2:return v=o.sent,o.abrupt("return",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u.a,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d["a"],r=Object.assign(Object.assign({},v.options),{url:((null===e||void 0===e?void 0:e.basePath)||n)+v.url});return t.request(r)}));case 4:case"end":return o.stop()}}),o)})))},getBotSpellsEntry:function(t,n,r,s){return Object(o["d"])(this,void 0,void 0,regeneratorRuntime.mark((function i(){var a;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,h(e).getBotSpellsEntry(t,n,r,s);case 2:return a=i.sent,i.abrupt("return",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u.a,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d["a"],r=Object.assign(Object.assign({},a.options),{url:((null===e||void 0===e?void 0:e.basePath)||n)+a.url});return t.request(r)}));case 4:case"end":return i.stop()}}),i)})))},listBotSpellsEntries:function(t,n,r,s,i,a,l,c,p,f){return Object(o["d"])(this,void 0,void 0,regeneratorRuntime.mark((function o(){var v;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return o.next=2,h(e).listBotSpellsEntries(t,n,r,s,i,a,l,c,p,f);case 2:return v=o.sent,o.abrupt("return",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u.a,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d["a"],r=Object.assign(Object.assign({},v.options),{url:((null===e||void 0===e?void 0:e.basePath)||n)+v.url});return t.request(r)}));case 4:case"end":return o.stop()}}),o)})))},updateBotSpellsEntry:function(t,n,r){return Object(o["d"])(this,void 0,void 0,regeneratorRuntime.mark((function s(){var i;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,h(e).updateBotSpellsEntry(t,n,r);case 2:return i=s.sent,s.abrupt("return",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u.a,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d["a"],r=Object.assign(Object.assign({},i.options),{url:((null===e||void 0===e?void 0:e.basePath)||n)+i.url});return t.request(r)}));case 4:case"end":return s.stop()}}),s)})))}}},m=function(e){function t(){return Object(r["a"])(this,t),p(this,t,arguments)}return Object(l["a"])(t,e),Object(s["a"])(t,[{key:"createBotSpellsEntry",value:function(e,t){var n=this;return v(this.configuration).createBotSpellsEntry(e.botSpellsEntry,t).then((function(e){return e(n.axios,n.basePath)}))}},{key:"deleteBotSpellsEntry",value:function(e,t){var n=this;return v(this.configuration).deleteBotSpellsEntry(e.id,t).then((function(e){return e(n.axios,n.basePath)}))}},{key:"getBotSpellsEntriesBulk",value:function(e,t){var n=this;return v(this.configuration).getBotSpellsEntriesBulk(e.body,t).then((function(e){return e(n.axios,n.basePath)}))}},{key:"getBotSpellsEntriesCount",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return v(this.configuration).getBotSpellsEntriesCount(t.includes,t.where,t.whereOr,t.groupBy,t.limit,t.page,t.orderBy,t.orderDirection,t.select,n).then((function(t){return t(e.axios,e.basePath)}))}},{key:"getBotSpellsEntry",value:function(e,t){var n=this;return v(this.configuration).getBotSpellsEntry(e.id,e.includes,e.select,t).then((function(e){return e(n.axios,n.basePath)}))}},{key:"listBotSpellsEntries",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return v(this.configuration).listBotSpellsEntries(t.includes,t.where,t.whereOr,t.groupBy,t.limit,t.page,t.orderBy,t.orderDirection,t.select,n).then((function(t){return t(e.axios,e.basePath)}))}},{key:"updateBotSpellsEntry",value:function(e,t){var n=this;return v(this.configuration).updateBotSpellsEntry(e.id,e.botSpellsEntry,t).then((function(e){return e(n.axios,n.basePath)}))}}])}(d["b"])},bd86:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("454f"),s=n.n(r),i=n("a6fa");function a(e,t,n){return(t=Object(i["a"])(t))in e?s()(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},c511:function(e,t,n){"use strict";var r=function(){var e=this,t=e._self._c;return t("div",[e.spellEffectInfo.length>0&&e.loaded?t("div",e._l(e.spellEffectInfo,(function(n){return t("div",["undefined"!==typeof n?t("v-runtime-template",{staticClass:"pb-6 mt-3 doc",attrs:{template:"<span>"+n+"</span>"}}):e._e()],1)})),0):e._e(),t("app-loader",{attrs:{"is-loading":!e.loaded,size:"15"}})],1)},s=[],i=(n("96cf"),n("3b8d")),a=n("0329"),l=(n("4ac1"),n("ec53")),o=n("adf0"),c=n("935a"),u=n("5201"),d={name:"EqSpellEffects",components:{"v-runtime-template":function(){return n.e("chunk-2d2293ca").then(n.bind(null,"dd1e"))},EqItemCardPreview:l["default"],EqSpellPreview:o["a"],EqWindow:c["a"]},created:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,n,r,s,i=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(t=1;t<=12;t++)254!==this.spell["effectid_"+t]&&a["a"].getSpellEffectInfo(this.spell,t).then((function(e){i.spellEffectInfo[e.index]=e.info,i.$forceUpdate()}));n=[],r=0;case 3:if(!(r<4)){e.next=14;break}if(!(this.spell["components_"+r]>0)){e.next=11;break}return s={},s.id=this.spell["components_"+r],e.next=9,u["a"].getItem(this.spell["components_"+r]);case 9:s.item=e.sent,n.push(s);case 11:r++,e.next=3;break;case 14:this.sideLoadedSpellData=a["a"].data,this.itemData=u["a"].items,this.loaded=!0;case 17:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),data:function(){return{spellEffectInfo:[],componentId:"",sideLoadedSpellData:{},loaded:!1,itemData:{}}},props:{spell:Object}},p=d,f=n("2877"),h=Object(f["a"])(p,r,s,!1,null,"22b2869c",null);t["a"]=h.exports},cd1c:function(e,t,n){var r=n("e853");e.exports=function(e,t){return new(r(e))(t)}},cdd0:function(e,t,n){},dd40:function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},e853:function(e,t,n){var r=n("d3f4"),s=n("1169"),i=n("2b4c")("species");e.exports=function(e){var t;return s(e)&&(t=e.constructor,"function"!=typeof t||t!==Array&&!s(t.prototype)||(t=void 0),r(t)&&(t=t[i],null===t&&(t=void 0))),void 0===t?Array:t}},eb7d:function(e,t,n){"use strict";n("cdd0")}}]);