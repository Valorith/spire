(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-767f719e"],{"02f6":function(e,t,s){"use strict";var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"container-fluid content-area"},[t("div",{staticClass:"panel-body"},[t("div",{staticClass:"panel panel-default"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-12 mt-3"},[e._t("default")],2)])])])])},l=[],a={name:"ContentArea"},n=a,r=s("2877"),o=Object(r["a"])(n,i,l,!1,null,"4665fdac",null);t["a"]=o.exports},"093e":function(e,t,s){"use strict";var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"eq-window-simple"},[e.title?t("div",{staticClass:"eq-window-title-bar",style:"font-weight: "+(e.boldTitle?"bold":"normal")+";"},[e._v(e._s(e.title)+"\n  ")]):e._e(),t("div",{class:e.classes,style:"padding: "+("undefined"!==typeof e.padding?e.padding:10)+"px"},[e._t("default")],2)])},l=[],a=(s("c5f6"),{name:"EqWindowSimple",props:{title:{type:String,required:!1},padding:{type:Number,required:!1,default:10},classes:{type:String,required:!1,default:""},boldTitle:{type:Boolean,required:!1,default:!1}}}),n=a,r=s("2877"),o=Object(r["a"])(n,i,l,!1,null,"4db0cdea",null);t["a"]=o.exports},"0b24":function(e,t,s){"use strict";s("ac6a"),s("456d");var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"eq-window-simple p-0 mb-0",style:"margin-bottom: 40px; "+(e.title?"padding-top: 30px":"padding-top: 0px !important")},[t("div",{style:(e.title,"")},[0===e.spells.length?t("div",{staticClass:"eq-window-nested-blue text-center p-5"},[e._v("\n      No spells were found\n    ")]):e._e(),e.spells.length>0?t("div",{staticClass:"spell-table fill-screen",staticStyle:{"overflow-y":"scroll","overflow-x":"hidden"}},[t("table",{staticClass:"eq-table bordered eq-highlight-rows",attrs:{id:"spell-table"}},[e._m(0),t("tbody",e._l(e.spells,(function(s,i){return t("tr",{key:s.id},[t("td",{staticClass:"p-0 text-center"},[t("b-button",{staticClass:"btn-dark mr-2",staticStyle:{width:"28px",height:"28px"},attrs:{variant:"outline-danger",size:"sm",title:"Delete"},on:{click:function(t){return e.deleteSpell(s)}}},[t("i",{staticClass:"fa fa-trash"})]),t("b-button",{staticClass:"btn btn-dark btn-outline-success mr-2",staticStyle:{width:"28px",height:"28px"},attrs:{size:"sm",title:"Edit"},on:{click:function(t){return e.editSpell(s.id)}}},[t("i",{staticClass:"fa fa-pencil-square"})]),t("b-button",{staticStyle:{width:"30px",height:"28px"},attrs:{size:"sm",title:"Clone",variant:"outline-light"},on:{click:function(t){return e.editSpell(s.id,!0)}}},[t("i",{staticClass:"ra ra-double-team"})])],1),t("td",[e._v("\n            "+e._s(s.id)+"\n          ")]),t("td",{staticClass:"text-left"},[Object.keys(s).length>0&&s?t("spell-popover",{staticClass:"mt-2",attrs:{spell:s,size:30,"spell-name-length":25}}):e._e()],1),t("td",{staticClass:"text-left"},e._l(e.dbClassIcons,(function(i,l){return t("span",[s["classes_"+l]>0&&s["classes_"+l]<255?t("div",{staticClass:"d-inline-block mr-2"},[t("span",{class:"item-"+i+"-sm",staticStyle:{"border-radius":"4px"},attrs:{title:e.dbClassesShort[l]}}),e._v("\n                  "+e._s(e.dbClassesShort[l])+"\n                  ("+e._s(s["classes_"+l])+")\n                  ")]):e._e()])})),0),t("td",{staticStyle:{"text-align":"left"}},[t("eq-spell-effects",{attrs:{spell:s}})],1),t("td",[e._v(e._s(s["mana"]>0?s["mana"]:""))]),t("td",[e._v(" "+e._s(s["cast_time"]/1e3)+" sec")]),t("td",[e._v(" "+e._s(s["recast_time"]/1e3)+" sec")]),s["buffduration"]?t("td",[e._v(" "+e._s(e.humanTime(6*e.getBuffDuration(s)))+" "+e._s(e.getBuffDuration(s))+" tic(s)")]):t("td",[e._v("N/A")]),t("td",[e._v(" "+e._s(e.getTargetTypeName(s["targettype"])))])])})),0)])]):e._e()])])},l=[function(){var e=this,t=e._self._c;return t("thead",{staticClass:"eq-table-floating-header"},[t("tr",[t("th",{staticStyle:{width:"200px"}}),t("th",{staticStyle:{width:"auto"}},[e._v("Id")]),t("th",{staticStyle:{width:"auto","min-width":"270px"}},[e._v("Spell")]),t("th",{staticStyle:{width:"auto","min-width":"300px"}},[e._v("Level")]),t("th",{staticStyle:{width:"400px"}},[e._v("Effects")]),t("th",[e._v("Mana")]),t("th",{staticStyle:{width:"80px"}},[e._v("Cast")]),t("th",{staticStyle:{width:"80px"}},[e._v("Recast")]),t("th",{staticStyle:{width:"120px"}},[e._v("Duration")]),t("th",[e._v("Target")])])])}],a=(s("7f7f"),s("96cf"),s("3b8d")),n=s("0329"),r=s("935a"),o=s("c511"),c=s("adf0"),u=s("4ac1"),d=s("79a9"),p=s("d6b6"),f=s("f4a8"),h=s("a50e"),m=s("80b0"),v=s("3022"),g=s("646b"),b=(s("5201"),s("d73b")),y={name:"EqSpellPreviewTable",components:{SpellPopover:g["a"],EqSpellDescription:d["a"],EqSpellEffects:o["a"],EqSpellPreview:c["a"],EqWindow:r["a"]},data:function(){return{debug:u["a"].DEBUG,debugSpellEffects:!1,title:"",dbClassIcons:f["a"],dbClassesShort:h["b"]}},created:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.title="Spells ("+this.spells.length+")";case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),mounted:function(){setTimeout((function(){b["a"].resizeFillScreenElements()}),100)},props:{spells:Array},methods:{deleteSpell:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!confirm("Are you sure you want to permanently delete this spell? [".concat(t.name,"] (").concat(t.id,")"))){e.next=4;break}return e.next=3,n["a"].deleteSpell(t.id);case 3:this.$emit("reload-list",!0);case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),getClasses:function(e){return n["a"].getClasses(e)},getTargetTypeColor:function(e){return n["a"].getTargetTypeColor(e)},getTargetTypeName:function(e){return p["j"][e]?p["j"][e]:"Unknown Target ("+e+")"},humanTime:function(e){var t="";if(0===e)t="";else{var s=Math.floor(e/3600),i=Math.floor((e-3600*s)/60),l=e-3600*s-60*i;t=(s>1?s+" hours ":"")+(1===s?"1 hour ":"")+(i>0?i+" min ":"")+(l>0?l+" sec":"")}return t},getBuffDuration:function(e){return n["a"].getBuffDuration(e)},editSpell:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.$router.push({path:v["format"](m["a"].SPELL_EDIT+(t?"?clone":""),e),query:{}}).catch((function(){}))}}},_=y,w=(s("eb7d"),s("2877")),S=Object(w["a"])(_,i,l,!1,null,"bd2e8756",null);t["a"]=S.exports},"3c4b":function(e,t,s){"use strict";s.r(t);var i=function(){var e=this,t=e._self._c;return t("div",[t("eq-window-simple",{staticClass:"pt-0 mt-0"},[t("div",{staticClass:"row"},e._l(e.dbClassIcons,(function(s,i){return t("div",{staticClass:"text-center"},[t("div",{staticClass:"text-center p-0 mr-3 col-lg-12 col-sm-12"},[e._v("\n          "+e._s(e.dbClassesShort[i])+"\n          "),t("div",{staticClass:"text-center"},[t("span",{class:"hover-highlight-inner item-"+s+" "+(e.isClassSelected(i)?"highlight-selected-inner":""),style:"width:40px;"+(e.isClassSelected(i),"border-radius: 7px;"),on:{click:function(t){return e.selectClass(i)}}})])])])})),0),t("div",{staticClass:"row mt-2"},[t("div",{staticClass:"col-lg-2 col-sm-12 text-center pl-0"},[e._v("\n        Spell Name or ID\n        "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.spellName,expression:"spellName"}],staticClass:"form-control",attrs:{name:"spell_name",type:"text",autofocus:"",placeholder:"Name or ID",id:"spell_name",value:""},domProps:{value:e.spellName},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.triggerState.apply(null,arguments)},input:function(t){t.target.composing||(e.spellName=t.target.value)}}})]),t("div",{staticClass:"col-lg-2 col-sm-12 text-center"},[e._v("\n        Spell Effect SPA\n        "),t("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedSpa,expression:"selectedSpa"}],staticClass:"form-control",attrs:{name:"class",id:"spell_effect"},on:{change:[function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selectedSpa=t.target.multiple?s:s[0]},function(t){return e.triggerState()}]}},[t("option",{attrs:{value:"-1"}},[e._v("-- Select --")]),e._l(e.dbSpellEffects,(function(s,i){return t("option",{domProps:{value:i}},[e._v("\n            "+e._s(i)+") "+e._s(s)+"\n          ")])}))],2)]),t("div",{staticClass:"col-lg-1 col-sm-12 text-center"},[e._v("\n        Level\n        "),t("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedLevel,expression:"selectedLevel"}],staticClass:"form-control",attrs:{name:"class",id:"Class"},on:{change:[function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selectedLevel=t.target.multiple?s:s[0]},function(t){return e.selectClass(e.selectedClass)}]}},[t("option",{attrs:{value:"0"}},[e._v("-- Select --")]),e._l(105,(function(s){return t("option",{domProps:{value:s}},[e._v("\n            "+e._s(s)+"\n          ")])}))],2)]),t("div",{staticClass:"col-lg-6 col-sm-12 mt-3 pl-0 pr-0"},[e.selectedLevel?t("div",{staticClass:"btn-group ml-3",attrs:{role:"group"}},[t("b-button",{attrs:{size:"sm",variant:0===parseInt(e.selectedLevelType)?"warning":"outline-warning"},on:{click:function(t){e.selectedLevelType=0,e.triggerStateDelayed()}}},[e._v("Only\n          ")]),t("b-button",{attrs:{size:"sm",variant:1===parseInt(e.selectedLevelType)?"warning":"outline-warning"},on:{click:function(t){e.selectedLevelType=1,e.triggerStateDelayed()}}},[e._v("Higher\n          ")]),t("b-button",{attrs:{size:"sm",variant:2===parseInt(e.selectedLevelType)?"warning":"outline-warning"},on:{click:function(t){e.selectedLevelType=2,e.triggerStateDelayed()}}},[e._v("Lower\n          ")])],1):e._e(),t("div",{staticClass:"btn-group ml-3",attrs:{role:"group","aria-label":"Basic example"}},[t("b-button",{attrs:{alt:"Display as table",size:"sm",variant:"table"===e.listType?"warning":"outline-warning"},on:{click:function(t){e.listType="table"}}},[t("i",{staticClass:"fa fa-table"})]),t("b-button",{attrs:{alt:"Display as grid",size:"sm",variant:"card"===e.listType?"warning":"outline-warning"},on:{click:function(t){e.listType="card"}}},[t("i",{staticClass:"fa fa-th"})])],1),t("div",{staticClass:"btn-group ml-3",attrs:{role:"group","aria-label":"Basic example"}},[t("b-button",{attrs:{size:"sm",variant:10===parseInt(e.limit)?"warning":"outline-warning"},on:{click:function(t){e.limit=10,e.triggerStateDelayed()}}},[e._v("10\n          ")]),t("b-button",{attrs:{size:"sm",variant:100===parseInt(e.limit)?"warning":"outline-warning"},on:{click:function(t){e.limit=100,e.triggerStateDelayed()}}},[e._v("100\n          ")]),t("b-button",{attrs:{size:"sm",variant:250===parseInt(e.limit)?"warning":"outline-warning"},on:{click:function(t){e.limit=250,e.triggerStateDelayed()}}},[e._v("250\n          ")]),t("b-button",{attrs:{size:"sm",variant:1e3===parseInt(e.limit)?"warning":"outline-warning"},on:{click:function(t){e.limit=1e3,e.triggerStateDelayed()}}},[e._v("1000\n          ")])],1),t("div",{class:"text-center btn-xs eq-button-fancy ml-3",staticStyle:{"line-height":"25px"},on:{click:function(t){return e.resetForm()}}},[e._v("\n          Reset Form\n        ")])])]),t("div",{staticClass:"row mt-3"},[t("div",{staticClass:"col-12 p-0"},[e.spellFields&&e.filters?t("db-column-filter",{attrs:{"set-filters":e.filters,columns:e.spellFields},on:{input:function(t){return e.handleDbColumnFilters(t)}}}):e._e()],1)]),e.message?t("div",[e._v("\n      "+e._s(e.message)+"\n    ")]):e._e()]),t("app-loader",{attrs:{"is-loading":!e.loaded,padding:"4"}}),e.loaded&&"card"===e.listType?t("div",{staticClass:"row",staticStyle:{"justify-content":"center"}},e._l(e.spells,(function(e,s){return t("div",{key:e.id,staticClass:"col-lg-4 col-sm-9 mb-3",staticStyle:{display:"inline-block","vertical-align":"top"}},[t("eq-window",{staticStyle:{"margin-right":"1px",width:"auto",height:"100%"}},[t("eq-spell-preview",{attrs:{"spell-data":e}})],1)],1)})),0):e._e(),e.loaded&&"table"===e.listType&&e.spells?t("eq-spell-preview-table",{attrs:{spells:e.spells},on:{"reload-list":function(t){return e.listSpells()}}}):e._e()],1)},l=[],a=s("9a04"),n=s("75fc"),r=(s("7f7f"),s("ac6a"),s("456d"),s("96cf"),s("3b8d")),o=s("94bf"),c=s("935a"),u=s("0d95"),d=s("ec53"),p=s("3022"),f=s("adf0"),h=s("f4a8"),m=s("a50e"),v=s("d6b6"),g=s("0b24"),b=s("0329"),y=s("5201"),_=s("80b0"),w=s("093e"),S=s("e40e"),C=s("41de"),x=s("75df"),q=s("02f6"),T={name:"Spells",components:{ContentArea:q["a"],DbColumnFilter:C["a"],EqWindowSimple:w["a"],EqSpellPreviewTable:g["a"],EqSpellPreview:f["a"],EqItemCardPreview:d["default"],EqWindow:c["a"],"page-header":function(){return s.e("chunk-2d226c5c").then(s.bind(null,"e9a3"))}},data:function(){return{loaded:!1,limit:100,beginRange:1e4,endRange:1e5,dbClassIcons:h["a"],dbClassesShort:m["b"],dbClasses:m["d"],dbSpellEffects:v["d"],selectedClass:0,spellName:"",spellEffect:"",selectedSpa:-1,selectedLevel:0,selectedLevelType:0,message:"",filters:[],spellFields:[],listType:"table"}},watch:{$route:function(){this.loadQueryState(),this.listSpells()}},created:function(){this.spells=null},mounted:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return 0!==Object.keys(this.$route.query).length&&(this.loadQueryState(),b["a"].preloadDbstr().then((function(e){t.listSpells()}))),0===Object.keys(this.$route.query).length&&(b["a"].preloadDbstr(),this.loaded=!0),e.next=4,x["a"].getTableColumns("spells_new");case 4:this.spellFields=e.sent;case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),methods:{handleDbColumnFilters:function(e){this.filters=e,this.updateQueryState()},updateQueryState:function(){var e={};0!==this.selectedClass&&(e.class=this.selectedClass),""!==this.listType&&(e.listType=this.listType),""!==this.spellName&&(e.name=this.spellName),-1!==this.selectedSpa&&(e.spa=this.selectedSpa),0!==this.selectedLevel&&(e.level=this.selectedLevel),0!==this.selectedLevelType&&(e.levelType=this.selectedLevelType),this.filters&&this.filters.length>0&&(e.filters=JSON.stringify(this.filters)),this.$router.push({path:_["a"].SPELLS_LIST,query:e}).catch((function(){}))},resetForm:function(){this.filters=[],this.selectedClass=0,this.spellName="",this.spellEffect="",this.selectedSpa=-1,this.selectedLevel=0,this.selectedLevelType=0,this.listType="table",this.spells=null,this.updateQueryState()},loadQueryState:function(){this.$route.query.class&&(this.selectedClass=this.$route.query.class),this.$route.query.spa&&(this.selectedSpa=this.$route.query.spa),this.$route.query.name&&(this.spellName=this.$route.query.name),this.$route.query.level&&(this.selectedLevel=this.$route.query.level),this.$route.query.levelType&&(this.selectedLevelType=this.$route.query.levelType),this.$route.query.listType&&(this.listType=this.$route.query.listType),this.$route.query.filters?this.filters=JSON.parse(this.$route.query.filters):this.filters=[]},selectClass:function(e){this.selectedClass=e,this.spellName="",this.selectedSpa=-1,this.updateQueryState(),this.listSpells()},triggerStateDelayed:function(){var e=this;setTimeout((function(){e.triggerState()}),100)},triggerState:function(){this.updateQueryState(),this.listSpells()},isClassSelected:function(e){return e===this.selectedClass},listSpells:function(){var e=this;this.loaded=!1,this.message="";var t=Object(a["a"])(o["Gb"],Object(n["a"])(u["SpireApi"].cfg())),s=new S["a"];this.selectedClass>0&&0===this.selectedLevel&&(s.where("classes"+this.selectedClass,">=","1"),s.where("classes"+this.selectedClass,"<=","250"));var i="=";if(1===parseInt(this.selectedLevelType)&&(i=">="),2===parseInt(this.selectedLevelType)&&(i="<="),this.selectedLevel>0&&this.selectedClass>0&&(s.where("classes"+this.selectedClass,i,this.selectedLevel),s.where("classes"+this.selectedClass,"<=","250")),0===this.selectedClass&&this.selectedLevel>0)for(var l=1;l<16;l++)s.whereOr("classes"+l,i,this.selectedLevel);if(!isNaN(this.spellName)&&this.spellName?s.where("id","=",this.spellName):this.spellName&&s.where("name","like",this.spellName),this.selectedSpa>0)for(var c=1;c<=12;c++)s.whereOr("effectid"+c,"=",this.selectedSpa);s.limit(this.limit),this.selectedClass>0&&s.orderBy([p["format"]("classes%s",this.selectedClass)]),this.filters&&this.filters.length>0&&this.filters.forEach((function(e){s.where(e.f,e.o,e.v)})),t.listSpellsNews(s.get()).then(function(){var s=Object(r["a"])(regeneratorRuntime.mark((function s(i){var l,r,c;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(200!==i.status){s.next=11;break}return e.spells=i.data,l=[],r=[],i.data.forEach((function(e){for(var t=1;t<=12;t++){var s=b["a"].getSpellIdFromEffectIfExists(e,t);s>0&&l.push(s);var i=b["a"].getItemIdFromEffectIfExists(e,t);i>0&&r.push(i)}})),i.data.forEach((function(e){for(var t=0;t<4;t++)e["components_"+t]>0&&r.push(e["components_"+t])})),s.next=8,Object(a["a"])(o["G"],Object(n["a"])(u["SpireApi"].cfg())).getItemsBulk({body:{ids:r}});case 8:c=s.sent,200==c.status&&c.data&&parseInt(c.data.length)>0&&c.data.forEach((function(e){y["a"].setItem(e.id,e)})),t.getSpellsNewsBulk({body:{ids:l}}).then((function(t){200==t.status&&t.data&&parseInt(t.data.length)>0&&t.data.forEach((function(e){b["a"].isSpellSet(e.id)||b["a"].setSpell(e.id,e)})),e.loaded=!0}));case 11:case"end":return s.stop()}}),s)})));return function(e){return s.apply(this,arguments)}}())}}},k=T,E=s("2877"),L=Object(E["a"])(k,i,l,!1,null,null,null);t["default"]=L.exports},"41de":function(e,t,s){"use strict";var i=function(){var e=this,t=e._self._c;return t("div",[e.queuedAddFilter?e._e():t("b-button",{staticClass:"mt-1",attrs:{size:"sm",variant:"outline-warning"},on:{click:e.queueColumnFilter}},[t("i",{staticClass:"fa fa-plus"})]),e.queuedAddFilter?t("div",{staticClass:"d-inline-block"},[t("div",{staticClass:"input-group d-inline-flex"},[t("div",{staticClass:"input-group-prepend"},[t("select",{directives:[{name:"model",rawName:"v-model",value:e.fieldToAdd,expression:"fieldToAdd"}],staticClass:"form-control",on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.fieldToAdd=t.target.multiple?s:s[0]}}},e._l(e.columns,(function(s){return t("option",{key:s},[e._v(e._s(s)+"\n          ")])})),0)]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.operator,expression:"operator"}],staticClass:"form-control",on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.operator=t.target.multiple?s:s[0]}}},e._l(e.filterOptions,(function(s){return t("option",{key:s},[e._v(e._s(s)+"\n        ")])})),0),t("div",{staticClass:"input-group-append"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.fieldValue,expression:"fieldValue"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:e.fieldValue},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.addFilter.apply(null,arguments)},input:function(t){t.target.composing||(e.fieldValue=t.target.value)}}})])])]):e._e(),e.queuedAddFilter?t("b-button",{staticClass:"d-inline-block ml-3",attrs:{size:"sm",variant:"outline-warning"},on:{click:e.addFilter}},[t("i",{staticClass:"fa fa-plus"}),e._v(" Add Filter\n  ")]):e._e(),e.queuedAddFilter?t("b-button",{staticClass:"d-inline-block ml-3",attrs:{size:"sm",variant:"outline-danger"},on:{click:function(t){e.queuedAddFilter=!1}}},[t("i",{staticClass:"fa fa-ban"}),e._v(" Cancel\n  ")]):e._e(),e._l(e.filters,(function(s){return t("b-button",{key:s.f+"-"+s.o+"-"+s.v,staticClass:"d-inline-block ml-3",attrs:{size:"sm",variant:"warning"},on:{click:function(t){return e.removeFilter(s)}}},[t("i",{staticClass:"fa fa-remove"}),e._v(" "+e._s(e.formatFilterHuman(s))+"\n  ")])}))],2)},l=[],a=(s("ac6a"),s("3022")),n=s.n(a),r={name:"DbColumnFilter",props:{columns:{type:Array,required:!0},setFilters:{type:Array,required:!1}},data:function(){return{filters:[],fieldToAdd:"",operator:"",fieldValue:"",queuedAddFilter:!1,filterOptions:["=","!=","<=","<",">",">=","like","notlike"]}},watch:{setFilters:function(){this.filters=[],this.queuedAddFilter=!1,this.loadSetFilters()}},mounted:function(){this.reset(),this.loadSetFilters()},methods:{loadSetFilters:function(){this.filters=this.setFilters},reset:function(){var e=this;this.fieldValue="",setTimeout((function(){e.columns&&(e.fieldToAdd=e.columns[0],e.operator=e.filterOptions[0])}),100)},updateParent:function(){var e=[];this.filters.forEach((function(t){var s=t.o;e.push({f:t.f,o:s,v:t.v})})),this.$emit("input",e)},removeFilter:function(e){this.filters=this.filters.filter((function(t){var s=n.a.format("%s-%s-%s",t.field,t.operator,t.value),i=n.a.format("%s-%s-%s",e.field,e.operator,e.value);return s!==i})),this.updateParent()},formatFilterHuman:function(e){return n.a.format("%s %s %s",e.f,e.o,e.v)},addFilter:function(){this.filters.push({f:this.fieldToAdd,o:this.operator,v:this.fieldValue}),this.queuedAddFilter=!1,this.reset(),this.updateParent()},queueColumnFilter:function(){this.queuedAddFilter=!0}}},o=r,c=s("2877"),u=Object(c["a"])(o,i,l,!1,null,"1808f6c8",null);t["a"]=u.exports},"646b":function(e,t,s){"use strict";s("7f7f");var i=function(){var e=this,t=e._self._c;return e.spell?t("div",{staticClass:"d-inline-block"},[t("div",{attrs:{id:e.spell.id+"-"+e.popoverId+"-popover"}},[t("span",{class:"d-inline-block spell-"+e.spell.new_icon+e.getIconClassLabelFromSize(),style:e.getBorderStyling(),attrs:{title:e.spell.icon}}),t("span",{class:e.getLeftMargin(),style:"position:relative;"+e.getTextTopOffset()},[e._v(e._s(e.clampSpellName(e.spell.name))+" "+e._s(e.annotation))])]),t("b-popover",{staticStyle:{width:"500px !important"},attrs:{target:e.spell.id+"-"+e.popoverId+"-popover","custom-class":"no-bg",placement:"right",delay:"0",boundary:"viewport","no-fade":!0,triggers:"hover focus"}},[t("eq-window",{staticStyle:{width:"auto",height:"100%"}},[t("eq-spell-preview",{attrs:{"spell-data":e.spell}})],1)],1)],1):e._e()},l=[],a=(s("6b54"),s("c5f6"),s("935a")),n=s("adf0"),r=s("0329"),o={name:"SpellPopover",props:{spell:Object,size:{type:[Number,String],required:!1,default:40},spellNameLength:{type:Number,required:!1},annotation:{type:String,required:!1,default:""}},watch:{spell:{deep:!0,handler:function(){}}},data:function(){return{popoverId:Math.random().toString(16).slice(2),spellEffectInfo:[],spellData:{},sideLoadedSpellData:{},reagents:[]}},methods:{truncate:function(e,t){return e.length>t?e.substring(0,t)+"...":e},clampSpellName:function(e){return this.spellNameLength?this.truncate(e,this.spellNameLength):e},getLeftMargin:function(){return this.size<=12||this.size<=20?"ml-2":(this.size,"ml-3")},getIconClassLabelFromSize:function(){return this.size<=12?"-12":this.size<=20?"-20":this.size<=30?"-30":"-40"},getBorderStyling:function(){return this.size<=12?" border: 1px solid "+this.getTargetTypeColor():this.size<=20?"position: relative; top: 5px; border-radius: 5px; border: .5px solid "+this.getTargetTypeColor():(this.size,"border-radius: 5px; border: 1px solid "+this.getTargetTypeColor())},getTextTopOffset:function(){return this.size<=12?"top: -3px":this.size<=20?"top: 0px":this.size<=30?"top: -10px":"top: -15px"},getTargetTypeColor:function(){return r["a"].getTargetTypeColor(this.spell["targettype"])}},mounted:function(){this.sideLoadedSpellData=r["a"].data},components:{EqSpellPreview:n["a"],EqSpellCardPreview:n["a"],EqWindow:a["a"]}},c=o,u=s("2877"),d=Object(u["a"])(c,i,l,!1,null,null,null);t["a"]=d.exports},"75df":function(e,t,s){"use strict";s.d(t,"a",(function(){return c}));s("ac6a"),s("96cf");var i=s("d225"),l=s("b0b4"),a=s("9ab4"),n=s("0d95"),r=s("3022"),o=s.n(r),c=function(){function e(){Object(i["a"])(this,e)}return Object(l["a"])(e,null,[{key:"getTableSchema",value:function(e){return Object(a["d"])(this,void 0,void 0,regeneratorRuntime.mark((function t(){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,n["SpireApi"].v1().get(o.a.format("query/schema/table/%s",e));case 2:if(s=t.sent,!s.data||!s.data.data){t.next=5;break}return t.abrupt("return",s.data.data);case 5:return t.abrupt("return",{});case 6:case"end":return t.stop()}}),t)})))}},{key:"getTableColumns",value:function(e){return Object(a["d"])(this,void 0,void 0,regeneratorRuntime.mark((function t(){var s,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getTableSchema(e);case 2:return s=t.sent,i=[],s&&s.forEach((function(e){i.push(e.Column)})),t.abrupt("return",i);case 6:case"end":return t.stop()}}),t,this)})))}}])}()},"79a9":function(e,t,s){"use strict";var i=function(){var e=this,t=e._self._c;return t("div",[e.spell["descnum"]>0&&""!==e.effectDescription&&e.loaded?t("div",[e._v("\n    "+e._s(e.effectDescription)+"\n  ")]):e._e(),t("app-loader",{attrs:{"is-loading":!e.loaded,size:"15"}})],1)},l=[],a=s("0329"),n=s("ec53"),r=s("adf0"),o=s("935a"),c={name:"EqSpellDescription",components:{"v-runtime-template":function(){return s.e("chunk-2d2293ca").then(s.bind(null,"dd1e"))},EqItemCardPreview:n["default"],EqSpellPreview:r["a"],EqWindow:o["a"]},created:function(){var e=this;a["a"].getSpellDescription(this.spell).then((function(t){t&&""!==t.trim()&&(e.effectDescription=t),e.loaded=!0}))},data:function(){return{effectDescription:"",loaded:!1}},props:{spell:Object}},u=c,d=s("2877"),p=Object(d["a"])(u,i,l,!1,null,"6c6269d0",null);t["a"]=p.exports},c511:function(e,t,s){"use strict";var i=function(){var e=this,t=e._self._c;return t("div",[e.spellEffectInfo.length>0&&e.loaded?t("div",e._l(e.spellEffectInfo,(function(s){return t("div",["undefined"!==typeof s?t("v-runtime-template",{staticClass:"pb-6 mt-3 doc",attrs:{template:"<span>"+s+"</span>"}}):e._e()],1)})),0):e._e(),t("app-loader",{attrs:{"is-loading":!e.loaded,size:"15"}})],1)},l=[],a=(s("96cf"),s("3b8d")),n=s("0329"),r=(s("4ac1"),s("ec53")),o=s("adf0"),c=s("935a"),u=s("5201"),d={name:"EqSpellEffects",components:{"v-runtime-template":function(){return s.e("chunk-2d2293ca").then(s.bind(null,"dd1e"))},EqItemCardPreview:r["default"],EqSpellPreview:o["a"],EqWindow:c["a"]},created:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,s,i,l,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(t=1;t<=12;t++)254!==this.spell["effectid_"+t]&&n["a"].getSpellEffectInfo(this.spell,t).then((function(e){a.spellEffectInfo[e.index]=e.info,a.$forceUpdate()}));s=[],i=0;case 3:if(!(i<4)){e.next=14;break}if(!(this.spell["components_"+i]>0)){e.next=11;break}return l={},l.id=this.spell["components_"+i],e.next=9,u["a"].getItem(this.spell["components_"+i]);case 9:l.item=e.sent,s.push(l);case 11:i++,e.next=3;break;case 14:this.sideLoadedSpellData=n["a"].data,this.itemData=u["a"].items,this.loaded=!0;case 17:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),data:function(){return{spellEffectInfo:[],componentId:"",sideLoadedSpellData:{},loaded:!1,itemData:{}}},props:{spell:Object}},p=d,f=s("2877"),h=Object(f["a"])(p,i,l,!1,null,"22b2869c",null);t["a"]=h.exports},cdd0:function(e,t,s){},eb7d:function(e,t,s){"use strict";s("cdd0")}}]);