(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1640459e"],{"01de":function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));n("ac4d"),n("8a81"),n("5df3"),n("1c4c"),n("7f7f"),n("6b54"),n("a481"),n("7514"),n("ac6a");var i=n("9a04"),a=n("75fc"),r=(n("96cf"),n("28a5"),n("6762"),n("2fdb"),n("d225")),s=n("b0b4"),o=n("9ab4"),l={SUMMON:1,ENRAGE:2,RAMPAGE:3,AREA_RAMPAGE:4,FLURRY:5,TRIPLE:6,QUAD:7,INNATE_DW:8,BANE:9,MAGICAL:10,RANGED_ATK:11,UNSLOWABLE:12,UNMEZABLE:13,UNCHARMABLE:14,UNSTUNABLE:15,UNSNAREABLE:16,UNFEARABLE:17,UNDISPELLABLE:18,IMMUNE_MELEE:19,IMMUNE_MAGIC:20,IMMUNE_FLEEING:21,IMMUNE_MELEE_EXCEPT_BANE:22,IMMUNE_MELEE_NONMAGICAL:23,IMMUNE_AGGRO:24,IMMUNE_AGGRO_ON:25,IMMUNE_CASTING_FROM_RANGE:26,IMMUNE_FEIGN_DEATH:27,IMMUNE_TAUNT:28,NPC_TUNNELVISION:29,NPC_NO_BUFFHEAL_FRIENDS:30,IMMUNE_PACIFY:31,LEASH:32,TETHER:33,DESTRUCTIBLE_OBJECT:34,NO_HARM_FROM_CLIENT:35,ALWAYS_FLEE:36,FLEE_PERCENT:37,ALLOW_BENEFICIAL:38,DISABLE_MELEE:39,NPC_CHASE_DISTANCE:40,ALLOW_TO_TANK:41,IGNORE_ROOT_AGGRO_RULES:42,CASTING_RESIST_DIFF:43,COUNTER_AVOID_DAMAGE:44,PROX_AGGRO:45,IMMUNE_RANGED_ATTACKS:46,IMMUNE_DAMAGE_CLIENT:47,IMMUNE_DAMAGE_NPC:48,IMMUNE_AGGRO_CLIENT:49,IMMUNE_AGGRO_NPC:50,MODIFY_AVOID_DAMAGE:51,IMMUNE_FADING_MEMORIES:52,MAX_SPECIAL_ATTACK:53},c=n("a7a1"),d=n("0d95"),u=n("e40e");function p(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=h(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,o=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){o=!0,r=e},f:function(){try{s||null==n.return||n.return()}finally{if(o)throw r}}}}function h(e,t){if(e){if("string"==typeof e)return m(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,t):void 0}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}var f=function(){function e(){Object(r["a"])(this,e)}return Object(s["a"])(e,null,[{key:"getCleanName",value:function(e){return e=e.replaceAll("_"," "),e=e.replaceAll("#"," "),e}},{key:"getRaceImage",value:function(e){var t=e.texture,n=e.helmtexture;return this.isPlayableRace(e.race)&&(n>3&&(n=0),(t>16||t>3&&t<10)&&(t=0)),e.race+"-"+e.gender+"-"+t+"-"+n}},{key:"isPlayableRace",value:function(e){return[1,2,3,4,5,6,7,8,9,10,11,12,128,130,330,522].includes(e)}},{key:"specialAbilitiesToHuman",value:function(e){var t,n=[],i=p(e.split("^"));try{for(i.s();!(t=i.n()).done;){var a=t.value,r=a.split(","),s=r[0]?parseInt(r[0]):0,o=r[1]?parseInt(r[1]):0;s>0&&o&&(s===l.SUMMON&&n.push("Summon"+" (".concat(s,")")),s===l.ENRAGE&&n.push("Enrage "+" (".concat(s,")")),s===l.AREA_RAMPAGE&&n.push("Area Rampage "+" (".concat(s,")")),s===l.FLURRY&&n.push("Flurry "+" (".concat(s,")")),s===l.TRIPLE&&n.push("Triple "+" (".concat(s,")")),s===l.QUAD&&n.push("Quad "+" (".concat(s,")")),s===l.INNATE_DW&&n.push("Innate DW "+" (".concat(s,")")),s===l.BANE&&n.push("Bane "+" (".concat(s,")")),s===l.MAGICAL&&n.push("Magical "+" (".concat(s,")")),s===l.RANGED_ATK&&n.push("Ranged Attack "+" (".concat(s,")")),s===l.UNSLOWABLE&&n.push("Unslowable "+" (".concat(s,")")),s===l.UNMEZABLE&&n.push("Unmezable "+" (".concat(s,")")),s===l.UNCHARMABLE&&n.push("Uncharmable "+" (".concat(s,")")),s===l.UNSTUNABLE&&n.push("Unstunable "+" (".concat(s,")")),s===l.UNSNAREABLE&&n.push("Unsnareable "+" (".concat(s,")")),s===l.UNFEARABLE&&n.push("Unfearable "+" (".concat(s,")")),s===l.UNDISPELLABLE&&n.push("Undispellable "+" (".concat(s,")")),s===l.IMMUNE_MELEE&&n.push("Immune to Melee "+" (".concat(s,")")),s===l.IMMUNE_MAGIC&&n.push("Immune to Magic "+" (".concat(s,")")),s===l.IMMUNE_FLEEING&&n.push("Immune to Fleeing "+" (".concat(s,")")),s===l.IMMUNE_MELEE_EXCEPT_BANE&&n.push("Immune to Melee Except Bane "+" (".concat(s,")")),s===l.IMMUNE_MELEE_NONMAGICAL&&n.push("Immune to Melee Non-Magical "+" (".concat(s,")")),s===l.IMMUNE_AGGRO&&n.push("Immune to Aggro "+" (".concat(s,")")),s===l.IMMUNE_AGGRO_ON&&n.push("Immune to Aggro On "+" (".concat(s,")")),s===l.IMMUNE_CASTING_FROM_RANGE&&n.push("Immune to Casting from Range "+" (".concat(s,")")),s===l.IMMUNE_FEIGN_DEATH&&n.push("Immune to Feign Death "+" (".concat(s,")")),s===l.IMMUNE_TAUNT&&n.push("Immune to Taunt "+" (".concat(s,")")),s===l.NPC_TUNNELVISION&&n.push("NPC Tunnelvision "+" (".concat(s,")")),s===l.NPC_NO_BUFFHEAL_FRIENDS&&n.push("NPC doesn't buff or heal other NPC's "+" (".concat(s,")")),s===l.IMMUNE_PACIFY&&n.push("Immune to Pacify "+" (".concat(s,")")),s===l.LEASH&&n.push("Immune to Leash "+" (".concat(s,")")),s===l.TETHER&&n.push("Immune to Tether "+" (".concat(s,")")),s===l.DESTRUCTIBLE_OBJECT&&n.push("Destructible Object "+" (".concat(s,")")),s===l.NO_HARM_FROM_CLIENT&&n.push("Immune to Harm from Clients "+" (".concat(s,")")),s===l.ALWAYS_FLEE&&n.push("Always flees "+" (".concat(s,")")),s===l.FLEE_PERCENT&&n.push("Flees at percent X "+" (".concat(s,")")),s===l.ALLOW_BENEFICIAL&&n.push("Allow Beneficial "+" (".concat(s,")")),s===l.DISABLE_MELEE&&n.push("Disable Melee "+" (".concat(s,")")),s===l.NPC_CHASE_DISTANCE&&n.push("NPC Chase Distances "+" (".concat(s,")")),s===l.ALLOW_TO_TANK&&n.push("Allow to tank "+" (".concat(s,")")),s===l.IGNORE_ROOT_AGGRO_RULES&&n.push("Ignore root aggro rules "+" (".concat(s,")")),s===l.CASTING_RESIST_DIFF&&n.push("Casting resist diff "+" (".concat(s,")")),s===l.COUNTER_AVOID_DAMAGE&&n.push("Counter avoid damage "+" (".concat(s,")")),s===l.PROX_AGGRO&&n.push("Proximity Aggro "+" (".concat(s,")")),s===l.IMMUNE_RANGED_ATTACKS&&n.push("Immune to Ranged Attacks "+" (".concat(s,")")),s===l.IMMUNE_DAMAGE_CLIENT&&n.push("Immune to Damage from Clients "+" (".concat(s,")")),s===l.IMMUNE_DAMAGE_NPC&&n.push("Immune to Damage from NPCs "+" (".concat(s,")")),s===l.IMMUNE_AGGRO_CLIENT&&n.push("Immune to Aggro from Clients "+" (".concat(s,")")),s===l.IMMUNE_AGGRO_NPC&&n.push("Immune to Aggro from NPCs "+" (".concat(s,")")),s===l.MODIFY_AVOID_DAMAGE&&n.push("Modify avoid damage "+" (".concat(s,")")),s===l.IMMUNE_FADING_MEMORIES&&n.push("Immune to fading memories "+" (".concat(s,")")))}}catch(c){i.e(c)}finally{i.f()}return n}},{key:"updateNpc",value:function(e,t){return Object(o["d"])(this,void 0,void 0,regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=Object(i["a"])(c["NpcTypeApi"],Object(a["a"])(d["SpireApi"].cfg())),n.next=3,r.updateNpcType({id:e,npcType:t});case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}}),n)})))}},{key:"listNpcsByName",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Object(o["d"])(this,void 0,void 0,regeneratorRuntime.mark((function n(){var r,s,o,l;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=Object(i["a"])(c["NpcTypeApi"],Object(a["a"])(d["SpireApi"].cfg())),s=new u["a"],o=[],t.includes("all")?o=[].concat(Object(a["a"])(o),["NpcSpell.NpcSpellsEntries.SpellsNew","NpcFactions.NpcFactionEntries.FactionList","NpcFactions","NpcEmotes","Merchantlists.Items","Loottable.LoottableEntries.Lootdrop.LootdropEntries.Item"]):t.length>0&&(o=[].concat(Object(a["a"])(o),Object(a["a"])(t))),s.where("name","like",e),s.whereOr("lastname","like",e),s.includes(o),n.next=9,r.listNpcTypes(s.get());case 9:if(l=n.sent,200!==l.status){n.next=12;break}return n.abrupt("return",l.data);case 12:case"end":return n.stop()}}),n)})))}},{key:"getBaseNpcRelationships",value:function(){return["NpcSpell.NpcSpellsEntries.SpellsNew","NpcFactions.NpcFactionEntries.FactionList","NpcFactions","NpcEmotes","Merchantlists.Items","Loottable.LoottableEntries.Lootdrop.LootdropEntries.Item"]}},{key:"listNpcsByEmoteId",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Object(o["d"])(this,void 0,void 0,regeneratorRuntime.mark((function n(){var r,s,o,l;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=Object(i["a"])(c["NpcTypeApi"],Object(a["a"])(d["SpireApi"].cfg())),s=new u["a"],o=[],t.includes("all")?o=[].concat(Object(a["a"])(o),Object(a["a"])(this.getBaseNpcRelationships())):t.length>0&&(o=[].concat(Object(a["a"])(o),Object(a["a"])(t))),s.where("emoteid","=",e),s.includes(o),n.next=8,r.listNpcTypes(s.get());case 8:if(l=n.sent,200!==l.status){n.next=11;break}return n.abrupt("return",l.data);case 11:case"end":return n.stop()}}),n,this)})))}},{key:"listNpcsByNpcSpellsId",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Object(o["d"])(this,void 0,void 0,regeneratorRuntime.mark((function n(){var r,s,o,l;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=Object(i["a"])(c["NpcTypeApi"],Object(a["a"])(d["SpireApi"].cfg())),s=new u["a"],o=[],t.includes("all")?o=[].concat(Object(a["a"])(o),Object(a["a"])(this.getBaseNpcRelationships())):t.length>0&&(o=[].concat(Object(a["a"])(o),Object(a["a"])(t))),s.where("npc_spells_id","=",e),s.includes(o),s.limit(100),n.next=9,r.listNpcTypes(s.get());case 9:if(l=n.sent,200!==l.status){n.next=12;break}return n.abrupt("return",l.data);case 12:case"end":return n.stop()}}),n,this)})))}},{key:"getNpc",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Object(o["d"])(this,void 0,void 0,regeneratorRuntime.mark((function n(){var r,s,o,l;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!this.npc[e]){n.next=2;break}return n.abrupt("return",this.npc[e]);case 2:return r=Object(i["a"])(c["NpcTypeApi"],Object(a["a"])(d["SpireApi"].cfg())),s=new u["a"],o=[],t.includes("all")?o=[].concat(Object(a["a"])(o),["NpcSpell.NpcSpellsEntries.SpellsNew","NpcFactions.NpcFactionEntries.FactionList","NpcFactions","NpcEmotes","Merchantlists.Items","Loottable.LoottableEntries.Lootdrop.LootdropEntries.Item"]):t.length>0&&(o=[].concat(Object(a["a"])(o),Object(a["a"])(t))),s.includes(o),n.next=9,r.getNpcType({id:e},{query:s.get()});case 9:if(l=n.sent,200!==l.status){n.next=13;break}return this.npc[e]=l.data,n.abrupt("return",l.data);case 13:case"end":return n.stop()}}),n,this)})))}},{key:"getNpcsBulk",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Object(o["d"])(this,void 0,void 0,regeneratorRuntime.mark((function n(){var r,s,o,l,h,m,f;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(0!==e.length){n.next=2;break}return n.abrupt("return",[]);case 2:return r=Object(i["a"])(c["NpcTypeApi"],Object(a["a"])(d["SpireApi"].cfg())),s=new u["a"],o=[],t.includes("all")?o=[].concat(Object(a["a"])(o),["NpcSpell.NpcSpellsEntries.SpellsNew","NpcFactions.NpcFactionEntries.FactionList","NpcFactions","NpcEmotes","Merchantlists.Items","Loottable.LoottableEntries.Lootdrop.LootdropEntries.Item"]):t.length>0&&(o=[].concat(Object(a["a"])(o),Object(a["a"])(t))),s.includes(o),n.next=9,r.getNpcTypesBulk({body:{ids:e}},{query:s.get()});case 9:if(l=n.sent,200!==l.status){n.next=14;break}h=p(l.data);try{for(h.s();!(m=h.n()).done;)f=m.value,this.npc[f.id]=f}catch(v){h.e(v)}finally{h.f()}return n.abrupt("return",l.data);case 14:case"end":return n.stop()}}),n,this)})))}},{key:"getNpcsByZone",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{relations:[],uniqueEntries:!0};return Object(o["d"])(this,void 0,void 0,regeneratorRuntime.mark((function r(){var s,o,l,h,m,f,v,g,b,_,y;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return s=Object(i["a"])(c["Spawn2Api"],Object(a["a"])(d["SpireApi"].cfg())),o=new u["a"],o.where("zone","=",e),-1===t?o.where("version",">=",t):o.where("version","=",t),l=["Spawnentries.NpcType"],n.relations.includes("all")?l=[].concat(Object(a["a"])(l),["Spawnentries.NpcType.NpcSpell.NpcSpellsEntries.SpellsNew","Spawnentries.NpcType.NpcFactions.NpcFactionEntries.FactionList","Spawnentries.NpcType.NpcFactions","Spawnentries.NpcType.NpcEmotes","Spawnentries.NpcType.Merchantlists.Items","Spawnentries.NpcType.Loottable.LoottableEntries.Lootdrop.LootdropEntries.Item"]):n.relations.length>0&&(l=[].concat(Object(a["a"])(l),Object(a["a"])(n.relations))),o.limit(1e6),o.includes(l),r.next=10,s.listSpawn2s(o.get());case 10:if(h=r.sent,200!==h.status||!h.data){r.next=46;break}m=[],f=p(h.data),r.prev=14,f.s();case 16:if((v=f.n()).done){r.next=37;break}if(g=v.value,!g.spawnentries){r.next=35;break}b=p(g.spawnentries),r.prev=20,y=regeneratorRuntime.mark((function e(){var t,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=_.value,t.npc_type&&(n.uniqueEntries?(i=m.find((function(e){return e.id===t.npc_type.id})),i||m.push(t.npc_type)):m.push(t.npc_type));case 2:case"end":return e.stop()}}),e)})),b.s();case 23:if((_=b.n()).done){r.next=27;break}return r.delegateYield(y(),"t0",25);case 25:r.next=23;break;case 27:r.next=32;break;case 29:r.prev=29,r.t1=r["catch"](20),b.e(r.t1);case 32:return r.prev=32,b.f(),r.finish(32);case 35:r.next=16;break;case 37:r.next=42;break;case 39:r.prev=39,r.t2=r["catch"](14),f.e(r.t2);case 42:return r.prev=42,f.f(),r.finish(42);case 45:return r.abrupt("return",m);case 46:return r.abrupt("return",[]);case 47:case"end":return r.stop()}}),r,null,[[14,39,42,45],[20,29,32,35]])})))}},{key:"getFieldDescriptions",value:function(){return{id:"ID number of the NPC",name:"First Name of the NPC",lastname:"Last Name of the NPC",level:"Level of the NPC",race:"Race of the NPC",class:"Class of the NPC",bodytype:"Bodytype of the NPC",hp:"Maximum Hitpoints of the NPC",mana:"Maximum Mana of the NPC",gender:"Gender of the NPC",texture:"Texture of the NPC",helmtexture:"Helmet Texture of the NPC",herosforgemodel:"Heroes Forge Model used on the NPC",size:"Numerical size of the NPC",hp_regen_rate:"Hitpoint Regeneration Rate of the NPC",hp_regen_per_second:"Hitpoint Regeneration Rate (per second) of the NPC",mana_regen_rate:"Mana Regen Rate of the NPC",loottable_id:"Loottable Id of the NPC",merchant_id:"Merchant Id of the NPC",alt_currency_id:"Alt Currency Id used with the NPC",npc_spells_effects_id:"Npc Spells Effects Id used with the NPC",npc_faction_id:"Npc Faction Id of the NPC",adventure_template_id:"Adventure Template Id of the NPC",trap_template:"Trap Template of the NPC",mindmg:"Minimum damge of the NPC",maxdmg:"Maximum damage of the NPC",attack_count:"Attack Count of the NPC",npcspecialattks:"Special Attacks used by the NPC",special_abilities:"Special Abilities used by the NPC",aggroradius:"Aggro radius of the NPC",assistradius:"Assist radius of the NPC",face:"Face of the NPC",luclin_hairstyle:"Luclin Hairstyle used with the NPC",luclin_haircolor:"Luclin Haircolor used with the NPC",luclin_eyecolor:"Luclin Eyecolor used with the NPC",luclin_eyecolor_2:"Luclin Eyecolor 2 used with the NPC",luclin_beardcolor:"Luclin Beardcolor used with the NPC",luclin_beard:"Luclin Beard used with the NPC",drakkin_heritage:"Drakkin Heritage used with the NPC",drakkin_tattoo:"Drakkin Tattoo used with the NPC",drakkin_details:"Drakkin Details used with the NPC",armortint_id:"Armor tint Id used with the NPC",armortint_red:"Armor tint Red used with the NPC",armortint_green:"Armor tint Green used with the NPC",armortint_blue:"Armor tint Blue used with the NPC",d_melee_texture_1:"D Melee Texture 1 used with the NPC",d_melee_texture_2:"D Melee Texture 2 used with the NPC",ammo_idfile:"Ammo Id file used for the NPC",prim_melee_type:"Primary Melee Type of the NPC",sec_melee_type:"Secondary Melee Type of the NPC",ranged_type:"Ranged Type of the NPC",runspeed:"Runspeed of the NPC",mr:"Magic Resistance of the NPC",cr:"Cold Resistance of the NPC",dr:"Disease Resistance of the NPC",fr:"Fire Resistance of the NPC",pr:"Poison Resistance of the NPC",corrup:"Corruption Resistanceance of the NPC",ph_r:"",see_invis:"NPC Sees through invisibility",see_invis_undead:"NPC Sees through invisibility vs Undead",qglobal:"Qglobal enabled for the NPC",ac:"Armor Class of the NPC",npc_aggro:"NPC will aggro other NPCs",spawn_limit:"Spawn Limit of the NPC",attack_speed:"Attack Speed of the NPC",attack_delay:"Attack Delay of the NPC",findable:"NPC can be located with Find",str:"Strength of the NPC",sta:"Stamina of the NPC",dex:"Dexterity of the NPC",agi:"Agility of the NPC",_int:"Intelligence of the NPC",wis:"Wisdom of the NPC",cha:"Charisma of the NPC",see_hide:"NPC can see through hide",see_improved_hide:"NPC can see through improved hide",trackable:"NPC is trackable",isbot:"NPC is a bot",exclude:"",atk:"Attack rating of the NPC",accuracy:"Accuracy rating of the NPC",avoidance:"Avoidance rating of the NPC",slow_mitigation:"Slow Mitigation of the NPC",version:"Version of the NPC",maxlevel:"Maximum level of the NPC",scalerate:"Scale rate of the NPC",private_corpse:"",unique_spawn_by_name:"NPC is a Unique Spawn By Name",underwater:"Underwater NPC",isquest:"The NPC has a quest script",emoteid:"Emote id of the NPC",spellscale:"Spell scale of the NPC",healscale:"Heal scale of the NPC",no_target_hotkey:"",raidtarget:"NPC is a Raid Target",armtexture:"Arm texture of the NPC",bracertexture:"Bracer texture of the NPC",handtexture:"Hand texture of the NPC",legtexture:"Leg texture of the NPC",feettexture:"Feet texture of the NPC",light:"Light value of the NPC",walkspeed:"Walkspeed of the NPC",peqid:"",unique:"NPC is unique",fixed:"",ignore_despawn:"",show_name:"NPC name is shown",untargetable:"NPC is untargetable",charm_ac:"Charmed Armor Class of the NPC",charm_min_dmg:"Charmed Minimum Damage of the NPC",charm_max_dmg:"Charmed Maximum Damage of the NPC",charm_attack_delay:"Charmed Attack Delay of the NPC",charm_accuracy_rating:"Charmed Accuracy Rating of the NPC",charm_avoidance_rating:"Charmed Avoidance Rating of the NPC",charm_atk:"Charmed Attack Rating of the NPC",skip_global_loot:"Skip Global Loot on this NPC",rare_spawn:"NPC is a rare spawn",stuck_behavior:"Behavior followed if NPC is stuck",model:"Model of the NPC",flymode:"Flymode for the NPC",always_aggro:"NPC will always aggro",exp_mod:"Experience modifier for the NPC"}}},{key:"getFieldDescription",value:function(e){var t=e.toLowerCase().replace("_","");for(var n in this.getFieldDescriptions()){var i=n.toLowerCase().replace("_","");if(i===t)return this.getFieldDescriptions()[n]}return""}},{key:"cacheExists",value:function(e){return this.npc[e]}}])}();f.npc={}},"02f6":function(e,t,n){"use strict";var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"container-fluid content-area"},[t("div",{staticClass:"panel-body"},[t("div",{staticClass:"panel panel-default"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-12 mt-3"},[e._t("default")],2)])])])])},a=[],r={name:"ContentArea"},s=r,o=n("2877"),l=Object(o["a"])(s,i,a,!1,null,"4665fdac",null);t["a"]=l.exports},"0a49":function(e,t,n){var i=n("9b43"),a=n("626a"),r=n("4bf8"),s=n("9def"),o=n("cd1c");e.exports=function(e,t){var n=1==e,l=2==e,c=3==e,d=4==e,u=6==e,p=5==e||u,h=t||o;return function(t,o,m){for(var f,v,g=r(t),b=a(g),_=i(o,m,3),y=s(b.length),w=0,C=n?h(t,y):l?h(t,0):void 0;y>w;w++)if((p||w in b)&&(f=b[w],v=_(f,w,g),e))if(n)C[w]=v;else if(v)switch(e){case 3:return!0;case 5:return f;case 6:return w;case 2:C.push(f)}else if(d)return!1;return u?-1:c||d?d:C}}},"26df":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n("d225"),a=n("b0b4"),r={0:"original.gif",1:"kunarkicon.gif",2:"veliousicon.gif",3:"luclinicon.gif",4:"powericon.gif",5:"ykeshaicon.gif",6:"ldonicon.gif",7:"gatesicon.gif",8:"omensicon.gif",9:"donicon.gif",10:"dodicon.png",11:"poricon.png",12:"serpsicon.gif",13:"buried.gif",14:"secrets.gif",15:"seedsofdestruction.gif",16:"underfoot.gif",17:"thule.gif",18:"alaris.gif",19:"fear.gif",20:"calloftheforsaken.gif",21:"darkenedsea.gif",22:"brokenmirror.gif",23:"empires.gif",24:"scale.gif",25:"burning.gif",26:"torment.gif"},s=n("4ac1"),o=n("78ff"),l=function(){function e(){Object(i["a"])(this,e)}return Object(a["a"])(e,null,[{key:"getExpansionIconUrlSmall",value:function(e){return r[e]?s["a"].ASSET_EXPANSION_ICON_SMALL_URL+r[e]:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"}},{key:"getExpansionName",value:function(e){return o["b"][e]?o["b"][e]:-1===e?"All":"Unknown"}}])}()},"46f9":function(e,t,n){"use strict";var i=n("bd86"),a=function(){var e=this,t=e._self._c;return e.id?t("div",{style:e.getStyle(),on:{mouseover:function(t){e.hovered=!0},mouseout:function(t){e.hovered=!1}}},[e.label?t("span",[e._v(e._s(e.label))]):e._e(),t("input",{directives:[{name:"model",rawName:"v-model",value:e.inputVal,expression:"inputVal"}],staticClass:"eq-checkbox",attrs:{type:"checkbox",id:e.id,"true-value":e.trueValue,"false-value":e.falseValue,disabled:1===e.disabled},domProps:Object(i["a"])({checked:e.inputVal>0},"checked",Array.isArray(e.inputVal)?e._i(e.inputVal,null)>-1:e._q(e.inputVal,e.trueValue)),on:{change:[function(t){var n=e.inputVal,i=t.target,a=i.checked?e.trueValue:e.falseValue;if(Array.isArray(n)){var r=null,s=e._i(n,r);i.checked?s<0&&(e.inputVal=n.concat([r])):s>-1&&(e.inputVal=n.slice(0,s).concat(n.slice(s+1)))}else e.inputVal=a},function(t){return e.change()}]}}),t("label",{staticClass:"eq-checkbox-label",attrs:{for:e.id}}),e.labelRight?t("span",{staticClass:"ml-3"},[e._v(e._s(e.labelRight))]):e._e()]):e._e()},r=[],s=(n("6b54"),n("c5f6"),{name:"EqCheckbox",data:function(){return{id:"",hovered:!1}},computed:{inputVal:{get:function(){return this.value},set:function(e){this.$emit("input",e)}}},props:{isChecked:{type:Boolean,required:!1,default:!1},disabled:{default:0},fadeWhenNotTrue:{type:Boolean,required:!1,default:!1},label:{type:String,required:!1,default:""},labelRight:{type:String,required:!1,default:""},value:{type:[Number,String,Boolean],required:!1,default:0},trueValue:{type:[Number,String,Boolean],required:!1,default:1},falseValue:{type:[Number,String,Boolean],required:!1,default:0}},mounted:function(){this.init()},methods:{change:function(){this.$emit("change",this.value)},getStyle:function(){return this.fadeWhenNotTrue?this.hovered?"opacity: 1; font-weight: bold;":this.value!==this.trueValue?"opacity: .3":"opacity: 1":""},init:function(){this.id=this.randId()},randId:function(){return"_"+Math.random().toString(36).substr(2,9)}}}),o=s,l=n("2877"),c=Object(l["a"])(o,a,r,!1,null,null,null);t["a"]=c.exports},"4f7f":function(e,t,n){"use strict";var i=n("c26b"),a=n("b39a"),r="Set";e.exports=n("e0b8")(r,(function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(e){return i.def(a(this,r),e=0===e?0:e,e)}},i)},"646b":function(e,t,n){"use strict";n("7f7f");var i=function(){var e=this,t=e._self._c;return e.spell?t("div",{staticClass:"d-inline-block"},[t("div",{attrs:{id:e.spell.id+"-"+e.popoverId+"-popover"}},[t("span",{class:"d-inline-block spell-"+e.spell.new_icon+e.getIconClassLabelFromSize(),style:e.getBorderStyling(),attrs:{title:e.spell.icon}}),t("span",{class:e.getLeftMargin(),style:"position:relative;"+e.getTextTopOffset()},[e._v(e._s(e.clampSpellName(e.spell.name))+" "+e._s(e.annotation))])]),t("b-popover",{staticStyle:{width:"500px !important"},attrs:{target:e.spell.id+"-"+e.popoverId+"-popover","custom-class":"no-bg",placement:"right",delay:"0",boundary:"viewport","no-fade":!0,triggers:"hover focus"}},[t("eq-window",{staticStyle:{width:"auto",height:"100%"}},[t("eq-spell-preview",{attrs:{"spell-data":e.spell}})],1)],1)],1):e._e()},a=[],r=(n("6b54"),n("c5f6"),n("935a")),s=n("adf0"),o=n("0329"),l={name:"SpellPopover",props:{spell:Object,size:{type:[Number,String],required:!1,default:40},spellNameLength:{type:Number,required:!1},annotation:{type:String,required:!1,default:""}},watch:{spell:{deep:!0,handler:function(){}}},data:function(){return{popoverId:Math.random().toString(16).slice(2),spellEffectInfo:[],spellData:{},sideLoadedSpellData:{},reagents:[]}},methods:{truncate:function(e,t){return e.length>t?e.substring(0,t)+"...":e},clampSpellName:function(e){return this.spellNameLength?this.truncate(e,this.spellNameLength):e},getLeftMargin:function(){return this.size<=12||this.size<=20?"ml-2":(this.size,"ml-3")},getIconClassLabelFromSize:function(){return this.size<=12?"-12":this.size<=20?"-20":this.size<=30?"-30":"-40"},getBorderStyling:function(){return this.size<=12?" border: 1px solid "+this.getTargetTypeColor():this.size<=20?"position: relative; top: 5px; border-radius: 5px; border: .5px solid "+this.getTargetTypeColor():(this.size,"border-radius: 5px; border: 1px solid "+this.getTargetTypeColor())},getTextTopOffset:function(){return this.size<=12?"top: -3px":this.size<=20?"top: 0px":this.size<=30?"top: -10px":"top: -15px"},getTargetTypeColor:function(){return o["a"].getTargetTypeColor(this.spell["targettype"])}},mounted:function(){this.sideLoadedSpellData=o["a"].data},components:{EqSpellPreview:s["a"],EqSpellCardPreview:s["a"],EqWindow:r["a"]}},c=l,d=n("2877"),u=Object(d["a"])(c,i,a,!1,null,null,null);t["a"]=u.exports},"73b7":function(e,t,n){"use strict";var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"d-inline-block"},[e.filterData.min_expansion>0?t("div",{staticClass:"d-inline-block ml-3"},[t("expansion-icon",{attrs:{expansion:e.filterData.min_expansion,title:"Minimum Expansion Required "}})],1):e._e(),e.filterData.max_expansion>0?t("div",{staticClass:"d-inline-block ml-3"},[t("expansion-icon",{attrs:{expansion:e.filterData.max_expansion,title:"Max Expansion Required "}})],1):e._e(),t("content-flag-pills",{attrs:{"flags-enabled":e.filterData.content_flags}}),t("content-flag-pills",{attrs:{"flags-disabled":e.filterData.content_flags_disabled}})],1)},a=[],r=n("7eeb"),s=n("a332"),o={name:"ContentFilterDisplayPills",components:{ExpansionIcon:s["a"],ContentFlagPills:r["a"]},props:{filterData:{type:Object,required:!0}}},l=o,c=n("2877"),d=Object(c["a"])(l,i,a,!1,null,"fe0c6456",null);t["a"]=d.exports},7514:function(e,t,n){"use strict";var i=n("5ca1"),a=n("0a49")(5),r="find",s=!0;r in[]&&Array(1)[r]((function(){s=!1})),i(i.P+i.F*s,"Array",{find:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}}),n("9c6c")(r)},"78ff":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a}));var i=["Classic","The Ruins of Kunark","The Scars of Velious","The Shadows of Luclin","The Planes of Power","The Legacy of Ykesha","Lost Dungeons of Norrath","Gates of Discord","Omens of War","Dragons of Norrath","Depths of Darkhollow","Prophecy of Ro","The Serpent's Spine","The Buried Sea","Secrets of Faydwer","Seeds of Destruction","Underfoot","House of Thule","Veil of Alaris","Rain of Fear","Call of the Forsaken","The Darkened Sea","The Broken Mirror","Empires of Kunark","Ring of Scale","The Burning Lands","Torment of Velious"],a={0:{name:"Classic",mask:0,icon:"original.gif"},1:{name:"The Ruins of Kunark",mask:1,icon:"kunarkicon.gif"},2:{name:"The Scars of Velious",mask:2,icon:"veliousicon.gif"},3:{name:"The Shadows of Luclin",mask:4,icon:"luclinicon.gif"},4:{name:"The Planes of Power",mask:8,icon:"powericon.gif"},5:{name:"The Legacy of Ykesha",mask:16,icon:"ykeshaicon.gif"},6:{name:"Lost Dungeons of Norrath",mask:32,icon:"ldonicon.gif"},7:{name:"Gates of Discord",mask:64,icon:"gatesicon.gif"},8:{name:"Omens of War",mask:128,icon:"omensicon.gif"},9:{name:"Dragons of Norrath",mask:256,icon:"donicon.gif"},10:{name:"Depths of Darkhollow",mask:512,icon:"dodicon.png"},11:{name:"Prophecy of Ro",mask:1024,icon:"poricon.png"},12:{name:"The Serpent's Spine",mask:2048,icon:"serpsicon.gif"},13:{name:"The Buried Sea",mask:4096,icon:"buried.gif"},14:{name:"Secrets of Faydwer",mask:8192,icon:"secrets.gif"},15:{name:"Seeds of Destruction",mask:16384,icon:"seedsofdestruction.gif"},16:{name:"Underfoot",mask:32768,icon:"underfoot.gif"},17:{name:"House of Thule",mask:65536,icon:"thule.gif"},18:{name:"Veil of Alaris",mask:131072,icon:"alaris.gif"},19:{name:"Rain of Fear",mask:262144,icon:"fear.gif"},20:{name:"Call of the Forsaken",mask:524288,icon:"calloftheforsaken.gif"},21:{name:"The Darkened Sea",mask:1048576,icon:"darkenedsea.gif"},22:{name:"The Broken Mirror",mask:2097152,icon:"brokenmirror.gif"},23:{name:"Empires of Kunark",mask:4194304,icon:"empires.gif"},24:{name:"Ring of Scale",mask:8388608,icon:"scale.gif"},25:{name:"The Burning Lands",mask:16777216,icon:"burning.gif"},26:{name:"Torment of Velious",mask:33554432,icon:"torment.gif"}}},"7adb":function(e,t,n){},"7eeb":function(e,t,n){"use strict";n("28a5");var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"d-inline-block ml-1"},[e.flagsEnabled&&e.flagsEnabled.length>0?t("div",{staticClass:"d-inline-block"},e._l(e.flagsEnabled.split(","),(function(n){return t("b-badge",{key:n,attrs:{title:"Enabled when this content flag is enabled",pill:"",variant:"warning"}},[e._v(e._s(n)+"\n    ")])})),1):e._e(),e.flagsDisabled&&e.flagsDisabled.length>0?t("div",{staticClass:"d-inline-block"},e._l(e.flagsDisabled.split(","),(function(n){return t("b-badge",{key:n,attrs:{title:"Disabled when this content flag is enabled",pill:"",variant:"danger"}},[e._v(e._s(n)+"\n    ")])})),1):e._e()])},a=[],r={name:"ContentFlagPills",props:{flagsEnabled:{type:String,required:!1},flagsDisabled:{type:String,required:!1}}},s=r,o=n("2877"),l=Object(o["a"])(s,i,a,!1,null,"f1f957d2",null);t["a"]=l.exports},8915:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i={"-1":"None",0:"Grounded",1:"Flying",2:"Levitate",3:"Water",4:"Floating",5:"Levitate While Running"}},"8e6e":function(e,t,n){var i=n("5ca1"),a=n("990b"),r=n("6821"),s=n("11e9"),o=n("f1ae");i(i.S,"Object",{getOwnPropertyDescriptors:function(e){var t,n,i=r(e),l=s.f,c=a(i),d={},u=0;while(c.length>u)n=l(i,t=c[u++]),void 0!==n&&o(d,t,n);return d}})},"990b":function(e,t,n){var i=n("9093"),a=n("2621"),r=n("cb7c"),s=n("7726").Reflect;e.exports=s&&s.ownKeys||function(e){var t=i.f(r(e)),n=a.f;return n?t.concat(n(e)):t}},"9f2d":function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));n("2397"),n("6762"),n("2fdb");var i=n("d225"),a=n("b0b4"),r=n("308d"),s=n("6bb5"),o=n("4e2b"),l=(n("a481"),n("6b54"),n("386d"),n("96cf"),n("9ab4")),c=n("bc3a"),d=n.n(c),u=n("d3e6");function p(e,t,n){return t=Object(s["a"])(t),Object(r["a"])(e,h()?Reflect.construct(t,n||[],Object(s["a"])(e).constructor):t.apply(e,n))}function h(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(h=function(){return!!e})()}var m=function(e){var t=this;return{createLootdropEntry:function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(l["d"])(t,void 0,void 0,regeneratorRuntime.mark((function t(){var a,r,s,o,l,c,d,p,h,m,f,v;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(null!==n&&void 0!==n){t.next=2;break}throw new u["c"]("lootdropEntry","Required parameter lootdropEntry was null or undefined when calling createLootdropEntry.");case 2:for(p in a="/lootdrop_entry",r=new URL(a,"https://example.com"),e&&(s=e.baseOptions),o=Object.assign(Object.assign({method:"PUT"},s),i),l={},c={},l["Content-Type"]="application/json",d=new URLSearchParams(r.search),c)d.set(p,c[p]);for(h in i.query)d.set(h,i.query[h]);return r.search=new URLSearchParams(d).toString(),m=s&&s.headers?s.headers:{},o.headers=Object.assign(Object.assign(Object.assign({},l),m),i.headers),f="string"!==typeof n,v=f&&e&&e.isJsonMime?e.isJsonMime(o.headers["Content-Type"]):f,o.data=v?JSON.stringify(void 0!==n?n:{}):n||"",t.abrupt("return",{url:r.pathname+r.search+r.hash,options:o});case 19:case"end":return t.stop()}}),t)})))},deleteLootdropEntry:function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(l["d"])(t,void 0,void 0,regeneratorRuntime.mark((function t(){var a,r,s,o,l,c,d,p,h,m;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(null!==n&&void 0!==n){t.next=2;break}throw new u["c"]("id","Required parameter id was null or undefined when calling deleteLootdropEntry.");case 2:for(p in a="/lootdrop_entry/{id}".replace("{".concat("id","}"),encodeURIComponent(String(n))),r=new URL(a,"https://example.com"),e&&(s=e.baseOptions),o=Object.assign(Object.assign({method:"DELETE"},s),i),l={},c={},d=new URLSearchParams(r.search),c)d.set(p,c[p]);for(h in i.query)d.set(h,i.query[h]);return r.search=new URLSearchParams(d).toString(),m=s&&s.headers?s.headers:{},o.headers=Object.assign(Object.assign(Object.assign({},l),m),i.headers),t.abrupt("return",{url:r.pathname+r.search+r.hash,options:o});case 15:case"end":return t.stop()}}),t)})))},getLootdropEntriesBulk:function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(l["d"])(t,void 0,void 0,regeneratorRuntime.mark((function t(){var a,r,s,o,l,c,d,p,h,m,f,v;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(null!==n&&void 0!==n){t.next=2;break}throw new u["c"]("body","Required parameter body was null or undefined when calling getLootdropEntriesBulk.");case 2:for(p in a="/lootdrop_entries/bulk",r=new URL(a,"https://example.com"),e&&(s=e.baseOptions),o=Object.assign(Object.assign({method:"POST"},s),i),l={},c={},l["Content-Type"]="application/json",d=new URLSearchParams(r.search),c)d.set(p,c[p]);for(h in i.query)d.set(h,i.query[h]);return r.search=new URLSearchParams(d).toString(),m=s&&s.headers?s.headers:{},o.headers=Object.assign(Object.assign(Object.assign({},l),m),i.headers),f="string"!==typeof n,v=f&&e&&e.isJsonMime?e.isJsonMime(o.headers["Content-Type"]):f,o.data=v?JSON.stringify(void 0!==n?n:{}):n||"",t.abrupt("return",{url:r.pathname+r.search+r.hash,options:o});case 19:case"end":return t.stop()}}),t)})))},getLootdropEntriesCount:function(n,i,a,r,s,o,c,d,u){var p=arguments.length>9&&void 0!==arguments[9]?arguments[9]:{};return Object(l["d"])(t,void 0,void 0,regeneratorRuntime.mark((function t(){var l,h,m,f,v,g,b,_,y,w;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(_ in l="/lootdrop_entries/count",h=new URL(l,"https://example.com"),e&&(m=e.baseOptions),f=Object.assign(Object.assign({method:"GET"},m),p),v={},g={},void 0!==n&&(g["includes"]=n),void 0!==i&&(g["where"]=i),void 0!==a&&(g["whereOr"]=a),void 0!==r&&(g["groupBy"]=r),void 0!==s&&(g["limit"]=s),void 0!==o&&(g["page"]=o),void 0!==c&&(g["orderBy"]=c),void 0!==d&&(g["orderDirection"]=d),void 0!==u&&(g["select"]=u),b=new URLSearchParams(h.search),g)b.set(_,g[_]);for(y in p.query)b.set(y,p.query[y]);return h.search=new URLSearchParams(b).toString(),w=m&&m.headers?m.headers:{},f.headers=Object.assign(Object.assign(Object.assign({},v),w),p.headers),t.abrupt("return",{url:h.pathname+h.search+h.hash,options:f});case 22:case"end":return t.stop()}}),t)})))},getLootdropEntry:function(n,i,a){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return Object(l["d"])(t,void 0,void 0,regeneratorRuntime.mark((function t(){var s,o,l,c,d,p,h,m,f,v;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(null!==n&&void 0!==n){t.next=2;break}throw new u["c"]("id","Required parameter id was null or undefined when calling getLootdropEntry.");case 2:for(m in s="/lootdrop_entry/{id}".replace("{".concat("id","}"),encodeURIComponent(String(n))),o=new URL(s,"https://example.com"),e&&(l=e.baseOptions),c=Object.assign(Object.assign({method:"GET"},l),r),d={},p={},void 0!==i&&(p["includes"]=i),void 0!==a&&(p["select"]=a),h=new URLSearchParams(o.search),p)h.set(m,p[m]);for(f in r.query)h.set(f,r.query[f]);return o.search=new URLSearchParams(h).toString(),v=l&&l.headers?l.headers:{},c.headers=Object.assign(Object.assign(Object.assign({},d),v),r.headers),t.abrupt("return",{url:o.pathname+o.search+o.hash,options:c});case 17:case"end":return t.stop()}}),t)})))},listLootdropEntries:function(n,i,a,r,s,o,c,d,u){var p=arguments.length>9&&void 0!==arguments[9]?arguments[9]:{};return Object(l["d"])(t,void 0,void 0,regeneratorRuntime.mark((function t(){var l,h,m,f,v,g,b,_,y,w;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(_ in l="/lootdrop_entries",h=new URL(l,"https://example.com"),e&&(m=e.baseOptions),f=Object.assign(Object.assign({method:"GET"},m),p),v={},g={},void 0!==n&&(g["includes"]=n),void 0!==i&&(g["where"]=i),void 0!==a&&(g["whereOr"]=a),void 0!==r&&(g["groupBy"]=r),void 0!==s&&(g["limit"]=s),void 0!==o&&(g["page"]=o),void 0!==c&&(g["orderBy"]=c),void 0!==d&&(g["orderDirection"]=d),void 0!==u&&(g["select"]=u),b=new URLSearchParams(h.search),g)b.set(_,g[_]);for(y in p.query)b.set(y,p.query[y]);return h.search=new URLSearchParams(b).toString(),w=m&&m.headers?m.headers:{},f.headers=Object.assign(Object.assign(Object.assign({},v),w),p.headers),t.abrupt("return",{url:h.pathname+h.search+h.hash,options:f});case 22:case"end":return t.stop()}}),t)})))},updateLootdropEntry:function(n,i){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object(l["d"])(t,void 0,void 0,regeneratorRuntime.mark((function t(){var r,s,o,l,c,d,p,h,m,f,v,g;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(null!==n&&void 0!==n){t.next=2;break}throw new u["c"]("id","Required parameter id was null or undefined when calling updateLootdropEntry.");case 2:if(null!==i&&void 0!==i){t.next=4;break}throw new u["c"]("lootdropEntry","Required parameter lootdropEntry was null or undefined when calling updateLootdropEntry.");case 4:for(h in r="/lootdrop_entry/{id}".replace("{".concat("id","}"),encodeURIComponent(String(n))),s=new URL(r,"https://example.com"),e&&(o=e.baseOptions),l=Object.assign(Object.assign({method:"PATCH"},o),a),c={},d={},c["Content-Type"]="application/json",p=new URLSearchParams(s.search),d)p.set(h,d[h]);for(m in a.query)p.set(m,a.query[m]);return s.search=new URLSearchParams(p).toString(),f=o&&o.headers?o.headers:{},l.headers=Object.assign(Object.assign(Object.assign({},c),f),a.headers),v="string"!==typeof i,g=v&&e&&e.isJsonMime?e.isJsonMime(l.headers["Content-Type"]):v,l.data=g?JSON.stringify(void 0!==i?i:{}):i||"",t.abrupt("return",{url:s.pathname+s.search+s.hash,options:l});case 21:case"end":return t.stop()}}),t)})))}}},f=function(e){return{createLootdropEntry:function(t,n){return Object(l["d"])(this,void 0,void 0,regeneratorRuntime.mark((function i(){var a;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,m(e).createLootdropEntry(t,n);case 2:return a=i.sent,i.abrupt("return",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d.a,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u["a"],i=Object.assign(Object.assign({},a.options),{url:((null===e||void 0===e?void 0:e.basePath)||n)+a.url});return t.request(i)}));case 4:case"end":return i.stop()}}),i)})))},deleteLootdropEntry:function(t,n){return Object(l["d"])(this,void 0,void 0,regeneratorRuntime.mark((function i(){var a;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,m(e).deleteLootdropEntry(t,n);case 2:return a=i.sent,i.abrupt("return",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d.a,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u["a"],i=Object.assign(Object.assign({},a.options),{url:((null===e||void 0===e?void 0:e.basePath)||n)+a.url});return t.request(i)}));case 4:case"end":return i.stop()}}),i)})))},getLootdropEntriesBulk:function(t,n){return Object(l["d"])(this,void 0,void 0,regeneratorRuntime.mark((function i(){var a;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,m(e).getLootdropEntriesBulk(t,n);case 2:return a=i.sent,i.abrupt("return",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d.a,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u["a"],i=Object.assign(Object.assign({},a.options),{url:((null===e||void 0===e?void 0:e.basePath)||n)+a.url});return t.request(i)}));case 4:case"end":return i.stop()}}),i)})))},getLootdropEntriesCount:function(t,n,i,a,r,s,o,c,p,h){return Object(l["d"])(this,void 0,void 0,regeneratorRuntime.mark((function l(){var f;return regeneratorRuntime.wrap((function(l){while(1)switch(l.prev=l.next){case 0:return l.next=2,m(e).getLootdropEntriesCount(t,n,i,a,r,s,o,c,p,h);case 2:return f=l.sent,l.abrupt("return",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d.a,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u["a"],i=Object.assign(Object.assign({},f.options),{url:((null===e||void 0===e?void 0:e.basePath)||n)+f.url});return t.request(i)}));case 4:case"end":return l.stop()}}),l)})))},getLootdropEntry:function(t,n,i,a){return Object(l["d"])(this,void 0,void 0,regeneratorRuntime.mark((function r(){var s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,m(e).getLootdropEntry(t,n,i,a);case 2:return s=r.sent,r.abrupt("return",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d.a,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u["a"],i=Object.assign(Object.assign({},s.options),{url:((null===e||void 0===e?void 0:e.basePath)||n)+s.url});return t.request(i)}));case 4:case"end":return r.stop()}}),r)})))},listLootdropEntries:function(t,n,i,a,r,s,o,c,p,h){return Object(l["d"])(this,void 0,void 0,regeneratorRuntime.mark((function l(){var f;return regeneratorRuntime.wrap((function(l){while(1)switch(l.prev=l.next){case 0:return l.next=2,m(e).listLootdropEntries(t,n,i,a,r,s,o,c,p,h);case 2:return f=l.sent,l.abrupt("return",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d.a,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u["a"],i=Object.assign(Object.assign({},f.options),{url:((null===e||void 0===e?void 0:e.basePath)||n)+f.url});return t.request(i)}));case 4:case"end":return l.stop()}}),l)})))},updateLootdropEntry:function(t,n,i){return Object(l["d"])(this,void 0,void 0,regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,m(e).updateLootdropEntry(t,n,i);case 2:return r=a.sent,a.abrupt("return",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d.a,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u["a"],i=Object.assign(Object.assign({},r.options),{url:((null===e||void 0===e?void 0:e.basePath)||n)+r.url});return t.request(i)}));case 4:case"end":return a.stop()}}),a)})))}}},v=function(e){function t(){return Object(i["a"])(this,t),p(this,t,arguments)}return Object(o["a"])(t,e),Object(a["a"])(t,[{key:"createLootdropEntry",value:function(e,t){var n=this;return f(this.configuration).createLootdropEntry(e.lootdropEntry,t).then((function(e){return e(n.axios,n.basePath)}))}},{key:"deleteLootdropEntry",value:function(e,t){var n=this;return f(this.configuration).deleteLootdropEntry(e.id,t).then((function(e){return e(n.axios,n.basePath)}))}},{key:"getLootdropEntriesBulk",value:function(e,t){var n=this;return f(this.configuration).getLootdropEntriesBulk(e.body,t).then((function(e){return e(n.axios,n.basePath)}))}},{key:"getLootdropEntriesCount",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return f(this.configuration).getLootdropEntriesCount(t.includes,t.where,t.whereOr,t.groupBy,t.limit,t.page,t.orderBy,t.orderDirection,t.select,n).then((function(t){return t(e.axios,e.basePath)}))}},{key:"getLootdropEntry",value:function(e,t){var n=this;return f(this.configuration).getLootdropEntry(e.id,e.includes,e.select,t).then((function(e){return e(n.axios,n.basePath)}))}},{key:"listLootdropEntries",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return f(this.configuration).listLootdropEntries(t.includes,t.where,t.whereOr,t.groupBy,t.limit,t.page,t.orderBy,t.orderDirection,t.select,n).then((function(t){return t(e.axios,e.basePath)}))}},{key:"updateLootdropEntry",value:function(e,t){var n=this;return f(this.configuration).updateLootdropEntry(e.id,e.lootdropEntry,t).then((function(e){return e(n.axios,n.basePath)}))}}])}(u["b"])},a006:function(e,t,n){"use strict";n("7f7f"),n("ac6a"),n("456d"),n("55dd"),n("6b54");var i=function(){var e=this,t=e._self._c;return e.npc?t("div",[t("span",{class:"race-models-ctn-"+e.getRaceImage(e.npc),staticStyle:{position:"absolute",right:"7%",opacity:".8",filter:"drop-shadow(10px 5px 2px #000)"}}),e.npc.d_melee_texture_1>0?t("span",{class:"mt-2 mb-2 object-ctn-"+e.npc.d_melee_texture_1,style:"position: absolute; right: "+(e.npc.d_melee_texture_2>0?25:20)+"%; top: 10px; opacity: 1; filter: drop-shadow(10px 5px 2px #000); z-index: 9999"}):e._e(),e.npc.d_melee_texture_2>0?t("span",{class:"mt-2 mb-2 object-ctn-"+e.npc.d_melee_texture_2,staticStyle:{position:"absolute",right:"20%",top:"10px",filter:"drop-shadow(10px 5px 2px #000)",opacity:".8"}}):e._e(),t("div",{staticClass:"row"},[t("div",{staticClass:"col-8"},[t("h6",{staticClass:"eq-header",staticStyle:{margin:"0px","margin-bottom":"10px"}},[e._v("\n        "+e._s(e.getCleanName())+" "+e._s(e.npc.lastname&&e.npc.lastname.length>0?"("+e.npc.lastname+")":"")+"\n      ")])]),t("div",{staticClass:"col-12"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-2 text-right font-weight-bold pr-0"},[e._v("\n          ID\n        ")]),t("div",{staticClass:"col-4 pl-3"},[e._v("\n          "+e._s(e.npc.id)+"\n        ")])]),t("div",{staticClass:"row"},[t("div",{staticClass:"col-2 text-right font-weight-bold pr-0"},[e._v("\n          Level\n        ")]),t("div",{staticClass:"col-4 pl-3"},[e._v("\n          "+e._s(e.npc.level)+"\n        ")])]),t("div",{staticClass:"row"},[t("div",{staticClass:"col-2 text-right font-weight-bold pr-0"},[e._v("\n          Class\n        ")]),t("div",{staticClass:"col-4 pl-3"},[e.getClassIcon().toString().length>0?t("span",{class:"item-"+e.getClassIcon()+"-sm",staticStyle:{display:"inline-block"}}):e._e(),t("span",{staticStyle:{position:"relative",top:"-2px"}},[e._v("\n            "+e._s(e.getClassName(e.npc.class))+" ("+e._s(e.npc.class)+")\n          ")])])]),t("div",{staticClass:"row"},[t("div",{staticClass:"col-2 text-right font-weight-bold pr-0"},[e._v("\n          Race\n        ")]),t("div",{staticClass:"col-4 pl-3"},[e.getRaceIcon().toString().length>0?t("span",{class:"item-"+e.getRaceIcon()+"-sm",staticStyle:{display:"inline-block"}}):e._e(),t("span",{staticStyle:{position:"relative",top:"-2px"}},[e._v("\n            "+e._s(e.getRaceName(e.npc.race))+" ("+e._s(e.npc.race)+")\n          ")])])]),t("div",{staticClass:"row"},[t("div",{staticClass:"col-2 text-right font-weight-bold pr-0"},[e._v("\n          Bodytype\n        ")]),t("div",{staticClass:"col-4 pl-3"},[e._v("\n          "+e._s(e.getBodytype())+" ("+e._s(e.npc.bodytype)+")\n        ")])]),e.npc.merchant_id>0?t("div",{staticClass:"row"},[t("div",{staticClass:"col-2 text-right font-weight-bold pr-0"},[e._v("\n          Merchant ID\n        ")]),t("div",{staticClass:"col-4 pl-3"},[e._v("\n          "+e._s(e.npc.merchant_id)+"\n        ")])]):e._e(),0!==e.npc.armortint_red||0!==e.npc.armortint_green||0!==e.npc.armortint_blue?t("div",{staticClass:"row"},[t("div",{staticClass:"col-2 text-right font-weight-bold pr-0"},[e._v("\n          Armor RGB\n        ")]),t("div",{staticClass:"col-4 pl-3"},[t("div",{staticClass:"mr-3",style:"width: 15px; height: 15px; margin-top: 3px; border-radius: 5px; background-color: rgb("+e.npc.armortint_red+", "+e.npc.armortint_green+", "+e.npc.armortint_blue+");"})])]):e._e()])]),e.noStats?e._e():t("div",{staticClass:"mt-4 mb-5"},e._l(e.rows,(function(n,i){return t("div",{key:i,staticClass:"row mt-3"},e._l(n.columns,(function(n,i){return t("div",{key:i,staticClass:"col-4"},e._l(n,(function(n){return"undefined"!==typeof n.showIf&&n.showIf||"undefined"===typeof n.showIf?t("div",{key:n.label,staticClass:"row"},[t("div",{staticClass:"col-8 text-left font-weight-bold pr-0"},[n.icon?t("span",{class:"item-"+n.icon+"-sm",staticStyle:{display:"inline-block"}}):e._e(),t("span",{staticStyle:{position:"relative",top:"-2px"}},[e._v("\n          "+e._s(n.label)+"\n          ")])]),t("div",{staticClass:"col-4 pl-1",staticStyle:{position:"relative",top:"-2px"}},[e._v("\n            "+e._s(parseInt(n.value)>0?e.commify(n.value):n.value)+"\n          ")])]):e._e()})),0)})),0)})),0),e.npc.special_abilities.length>0&&!e.noStats?t("div",{staticClass:"mt-3"},[t("div",{staticClass:"font-weight-bold mb-3"},[e._v("\n      This NPC has the following special abilities ("+e._s(e.parseSpecialAbilities(e.npc.special_abilities).length)+")\n    ")]),t("ul",{staticStyle:{"padding-left":"20px"}},e._l(e.parseSpecialAbilities(e.npc.special_abilities).sort((function(e,t){return e.localeCompare(t)})),(function(n){return t("li",{staticStyle:{display:"list-item","list-style-type":"circle"}},[e._v("\n        "+e._s(n)+"\n      ")])})),0)]):e._e(),e.npc.merchant_id>0?t("div",{staticClass:"mt-3"},[e.merchantitems&&e.merchantitems.length>0&&(e.merchantitems.length<e.maxDataEntries||e.showMerchantItems)?t("div",{},[t("div",{staticClass:"font-weight-bold mb-3"},[e._v("This NPC sells the following items ("+e._s(e.commify(e.merchantitems.length))+")\n        "),e.merchantitems.length>e.maxDataEntries?t("a",{attrs:{href:"javascript:void(0);"},on:{click:function(t){e.showMerchantItems=!1}}},[e._v("hide")]):e._e()]),t("table",{staticClass:"eq-table eq-highlight-rows",staticStyle:{width:"95%"}},[t("tbody",e._l(e.merchantitems,(function(n){return n.item&&"undefined"!==typeof n.item.price?t("tr",[t("td",[Object.keys(n.item).length>0&&n.item?t("item-popover",{staticClass:"d-inline-block",attrs:{item:n.item,size:"sm"}}):e._e(),e._v("\n            "+e._s(n.item.stacksize>0?"(".concat(n.item.stacksize,")"):"")+"\n\n            "),t("content-filter-display-pills",{attrs:{"filter-data":n.entry}})],1),t("td",[t("eq-cash-display",{staticClass:"ml-1",staticStyle:{"min-width":"150px"},attrs:{price:parseInt(n.item.price)}})],1)]):e._e()})),0)])]):e._e(),e.merchantitems&&e.merchantitems.length>0&&e.merchantitems.length>e.maxDataEntries&&!e.showMerchantItems?t("div",{staticClass:"font-weight-bold"},[e._v("\n      This NPC sells ("+e._s(e.commify(e.merchantitems.length))+") items, click "),t("a",{attrs:{href:"javascript:void(0);"},on:{click:function(t){e.showMerchantItems=!0}}},[e._v("here")]),e._v("\n      to view them all\n    ")]):e._e()]):e._e(),e.npc.npc_spells_id>0?t("div",{staticClass:"mt-3"},[e.castedSpells&&e.castedSpells.length>0&&(e.castedSpells.length<e.maxDataEntries||e.showCastedSpells)?t("div",{},[t("div",{staticClass:"font-weight-bold mb-3"},[e._v("This NPC casts the following spells ("+e._s(e.commify(e.castedSpells.length))+")\n        ("+e._s(e.npc.npc_spell.name)+")\n        "),e.castedSpells.length>e.maxDataEntries?t("a",{attrs:{href:"javascript:void(0);"},on:{click:function(t){e.showCastedSpells=!1}}},[e._v("hide")]):e._e()]),e._l(e.castedSpells,(function(n){return t("div",[Object.keys(n.spell).length>0&&n.spell?t("spell-popover",{staticClass:"mt-2",attrs:{spell:n.spell,size:20,"spell-name-length":25}}):e._e()],1)}))],2):e._e(),e.castedSpells&&e.castedSpells.length>0&&e.castedSpells.length>e.maxDataEntries&&!e.showCastedSpells?t("div",{staticClass:"font-weight-bold"},[e._v("\n      This NPC casts ("+e._s(e.commify(e.castedSpells.length))+") spells, click "),t("a",{attrs:{href:"javascript:void(0);"},on:{click:function(t){e.showCastedSpells=!0}}},[e._v("here")]),e._v("\n      to view them all\n    ")]):e._e()]):e._e(),e.npc.npc_spells_id>0?t("div",{staticClass:"mt-3"},[e.factionHits&&e.factionHits.length>0&&(e.factionHits.length<e.maxDataEntries||e.showFactionHits)?t("div",{},[t("div",{staticClass:"font-weight-bold mb-3"},[e._v("This NPC has the following faction hits ("+e._s(e.commify(e.factionHits.length))+")\n        "),e.factionHits.length>e.maxDataEntries?t("a",{attrs:{href:"javascript:void(0);"},on:{click:function(t){e.showFactionHits=!1}}},[e._v("hide")]):e._e()]),t("ul",{staticStyle:{"padding-left":"20px"}},e._l(e.factionHits,(function(n){return t("li",{staticStyle:{display:"list-item","list-style-type":"circle"}},[e._v("\n          "+e._s(n.name)+" ("+e._s(n.hitValue)+")\n        ")])})),0)]):e._e(),e.factionHits&&e.factionHits.length>0&&e.factionHits.length>e.maxDataEntries&&!e.showFactionHits?t("div",{staticClass:"font-weight-bold"},[e._v("\n      This NPC has ("+e._s(e.commify(e.factionHits.length))+") faction hits, click "),t("a",{attrs:{href:"javascript:void(0);"},on:{click:function(t){e.showFactionHits=!0}}},[e._v("here")]),e._v("to view them all\n    ")]):e._e()]):e._e(),e.npc.loottable_id>0?t("div",{staticClass:"mt-3"},[e.loot&&e.loot.length>0&&(e.loot.length<e.maxDataEntries||e.showLoot)?t("div",{},[t("div",{staticClass:"font-weight-bold mb-3"},[e._v("This NPC drops the following items ("+e._s(e.commify(e.loot.length))+")\n        "),e.loot.length>e.maxDataEntries?t("a",{attrs:{href:"javascript:void(0);"},on:{click:function(t){e.showLoot=!1}}},[e._v("hide")]):e._e()]),e._l(e.loot,(function(n){return t("div",[Object.keys(n.item).length>0&&n.item?t("item-popover",{staticClass:"d-inline-block",attrs:{item:n.item,size:"sm"}}):e._e()],1)}))],2):e._e(),e.loot&&e.loot.length>0&&e.loot.length>e.maxDataEntries&&!e.showLoot?t("div",{staticClass:"font-weight-bold"},[e._v("\n      This NPC drops ("+e._s(e.commify(e.loot.length))+") items, click "),t("a",{attrs:{href:"javascript:void(0);"},on:{click:function(t){e.showLoot=!0}}},[e._v("here")]),e._v("\n      to view them all\n    ")]):e._e()]):e._e(),t("eq-debug",{attrs:{data:e.npc}})],1):e._e()},a=[],r=(n("ac4d"),n("8a81"),n("5df3"),n("1c4c"),n("a481"),n("c5f6"),n("96cf"),n("3b8d")),s=n("dd86"),o=n("01de"),l=n("6023"),c=n("a50e"),d=n("573e"),u=n("8915"),p=n("cd97"),h=n("a78e"),m=n("646b"),f=n("a332"),v=n("7eeb"),g=n("73b7");function b(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=_(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,o=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){o=!0,r=e},f:function(){try{s||null==n.return||n.return()}finally{if(o)throw r}}}}function _(e,t){if(e){if("string"==typeof e)return y(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(e,t):void 0}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}var w={name:"EqNpcCardPreview",components:{ContentFilterDisplayPills:g["a"],ContentFlagPills:v["a"],ExpansionIcon:f["a"],SpellPopover:m["a"],EqCashDisplay:h["a"],ItemPopover:p["a"],EqDebug:s["a"]},data:function(){return{maxDataEntries:15,showLoot:!1,loot:{},merchantitems:[],showMerchantItems:!1,castedSpells:[],showCastedSpells:!1,factionHits:[],showFactionHits:!1,rows:this.getCardRows()}},mounted:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.init();case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),props:{npc:{type:Object,default:{},required:!0},noStats:{type:Boolean,required:!1,default:!1},limitEntries:{type:Number,required:!1,default:20}},watch:{npc:{deep:!0,handler:function(){this.init(),this.rows=this.getCardRows(),this.$forceUpdate()}}},methods:{getRaceImage:function(e){return o["a"].getRaceImage(e)},parseSpecialAbilities:function(e){return o["a"].specialAbilitiesToHuman(e)},commify:function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},getCleanName:function(){return o["a"].getCleanName(this.npc.name)},getRaceName:function(e){return l["c"][e]},getClassName:function(e){return c["a"][e]},getBodytype:function(){return d["a"][this.npc.bodytype]},getClassIcon:function(){return c["e"][this.npc.class]?c["e"][this.npc.class].icon:""},getRaceIcon:function(){return l["a"][this.npc.race]?l["a"][this.npc.race].icon:""},init:function(){if(console.log("[npc card] rendering for [%s]",this.npc.name),this.npc.merchant_id>0&&this.npc.merchantlists){var e,t=[],n=b(this.npc.merchantlists);try{for(n.s();!(e=n.n()).done;){var i=e.value;!i.items||i.items&&0===i.items.length?console.log("not a valid item"):t.push({item:i.items&&i.items.length>0?i.items[0]:{},entry:i})}}catch(x){n.e(x)}finally{n.f()}this.merchantitems=t}if(this.npc.loottable_id>0&&this.npc.loottable&&this.npc.loottable.loottable_entries){var a,r=[],s=b(this.npc.loottable.loottable_entries);try{for(s.s();!(a=s.n()).done;){var o,l=a.value,c=b(l.lootdrop.lootdrop_entries);try{var d=function(){var e=o.value;e.item&&0===r.filter((function(t){return t.item.id===e.item.id})).length&&r.push({item:e.item})};for(c.s();!(o=c.n()).done;)d()}catch(x){c.e(x)}finally{c.f()}}}catch(x){s.e(x)}finally{s.f()}this.loot=r.sort((function(e,t){return e.item.name.localeCompare(t.item.name)}))}if(this.npc.npc_spells_id>0&&this.npc.npc_spell&&this.npc.npc_spell.npc_spells_entries){var u,p=[],h=b(this.npc.npc_spell.npc_spells_entries);try{var m=function(){var e=u.value;0===p.filter((function(t){return t.spell.id===e.spells_new.id})).length&&p.push({spell:e.spells_new})};for(h.s();!(u=h.n()).done;)m()}catch(x){h.e(x)}finally{h.f()}this.castedSpells=p.sort((function(e,t){return e.spell.name.localeCompare(t.spell.name)}))}if(this.npc.npc_faction_id>0&&this.npc.npc_factions){var f,v=[],g=b(this.npc.npc_factions);try{for(g.s();!(f=g.n()).done;){var _=f.value;if(_.npc_faction_entries){var y,w=b(_.npc_faction_entries);try{var C=function(){var e=y.value;0===v.filter((function(t){return e.name===t.name})).length&&v.push({name:e.faction_list.name,hitValue:e.value})};for(w.s();!(y=w.n()).done;)C()}catch(x){w.e(x)}finally{w.f()}}}}catch(x){g.e(x)}finally{g.f()}this.factionHits=v.sort((function(e,t){return e.name.localeCompare(t.name)}))}console.log("[card preview] no stats",this.noStats),console.log("[card preview] no limit",this.limitEntries),this.limitEntries&&(this.maxDataEntries=this.limitEntries)},getCardRows:function(){return[{columns:[[{icon:"2052",label:"HP",value:this.npc["hp"],showIf:this.npc["hp"]>0},{icon:"2052",label:"(Sec) HP Regen",value:this.npc["hp_regen_per_second"],showIf:this.npc["hp_regen_per_second"]>0},{icon:"2052",label:"(Tic) HP Regen",value:this.npc["hp_regen_rate"],showIf:this.npc["hp_regen_rate"]>0},{icon:"2057",label:"Mana",value:this.npc["mana"],showIf:this.npc["mana"]>0},{icon:"2057",label:"(Tic) Mana Regen",value:this.npc["mana_regen_rate"],showIf:this.npc["mana_regen_rate"]>0}],[{icon:"5388",label:"Armor Class",value:this.npc["ac"],showIf:this.npc["ac"]>0},{icon:"1959",label:"Agility",value:this.npc["agi"],showIf:this.npc["agi"]>0},{icon:"1953",label:"Dexterity",value:this.npc["dex"],showIf:this.npc["dex"]>0},{icon:"1947",label:"Stamina",value:this.npc["sta"],showIf:this.npc["sta"]>0},{icon:"1941",label:"Strength",value:this.npc["str"],showIf:this.npc["str"]>0},{icon:"1965",label:"Charisma",value:this.npc["cha"],showIf:this.npc["cha"]>0},{icon:"1971",label:"Wisdom",value:this.npc["wis"],showIf:this.npc["wis"]>0},{icon:"1977",label:"Intelligence",value:this.npc["_int"],showIf:this.npc["_int"]>0}],[{icon:"2987",label:"Cold Resist",value:this.npc["cr"],showIf:this.npc["cr"]>0},{icon:"2994",label:"Disease Resist",value:this.npc["dr"],showIf:this.npc["dr"]>0},{icon:"2988",label:"Fire Resist",value:this.npc["fr"],showIf:this.npc["fr"]>0},{icon:"2984",label:"Magic Resist",value:this.npc["mr"],showIf:this.npc["mr"]>0},{icon:"2986",label:"Poison Resist",value:this.npc["pr"],showIf:this.npc["pr"]>0},{icon:"2995",label:"Corrup. Resist",value:this.npc["corrup"],showIf:this.npc["corrup"]>0},{icon:"2982",label:"Physical Resist",value:this.npc["ph_r"],showIf:this.npc["ph_r"]>0}]]},{columns:[[{icon:"",label:"See Hide",value:this.npc["see_hide"]?"Yes":"No",showIf:this.npc["see_hide"]>0},{icon:"",label:"See Improved Hide",value:this.npc["see_improved_hide"]?"Yes":"No",showIf:this.npc["see_improved_hide"]>0},{icon:"",label:"See Invisible",value:this.npc["see_invis"]?"Yes":"No",showIf:this.npc["see_invis"]>0},{icon:"",label:"See Invis Undead",value:this.npc["see_invis_undead"]?"Yes":"No",showIf:this.npc["see_invis_undead"]>0},{icon:"",label:"Show Name",value:this.npc["show_name"]?"Yes":"No",showIf:this.npc["show_name"]>0},{icon:"",label:"Skip Global Loot",value:this.npc["skip_global_loot"]?"Yes":"No",showIf:this.npc["skip_global_loot"]>0},{icon:"",label:"Spawn Limit",value:this.npc["spawn_limit"],showIf:this.npc["spawn_limit"]>0},{icon:"",label:"Trackable",value:this.npc["trackable"]?"Yes":"No",showIf:this.npc["trackable"]>0},{icon:"",label:"Stuck Behavior",value:this.npc["stuck_behavior"],showIf:this.npc["stuck_behavior"]>0},{icon:"",label:"No Target Hotkey",value:this.npc["no_target_hotkey"]?"Yes":"No",showIf:this.npc["no_target_hotkey"]>0},{icon:"",label:"Flymode",value:u["a"][this.npc["flymode"]]?u["a"][this.npc["flymode"]]:"",showIf:this.npc["flymode"]>0},{icon:"",label:"Findable",value:this.npc["findable"]?"Yes":"No",showIf:this.npc["findable"]>0},{icon:"",label:"Untargetable",value:this.npc["untargetable"]?"Yes":"No",showIf:this.npc["untargetable"]>0},{icon:"",label:"Underwater",value:this.npc["underwater"]?"Yes":"No",showIf:this.npc["underwater"]>0},{icon:"",label:"Unique Spawn By Name",value:this.npc["unique_spawn_by_name"]?"Yes":"No",showIf:this.npc["unique_spawn_by_name"]>0},{icon:"",label:"QGlobals Enabled",value:this.npc["qglobal"]?"Yes":"No",showIf:this.npc["qglobal"]>0},{icon:"",label:"Ignore Despawn",value:this.npc["ignore_despawn"]?"Yes":"No",showIf:this.npc["ignore_despawn"]>0},{icon:"",label:"Experience Modifier",value:this.npc["exp_mod"],showIf:100!==this.npc["exp_mod"]},{icon:"",label:"Bot NPC",value:this.npc["isbot"]?"Yes":"No",showIf:this.npc["isbot"]>0},{icon:"",label:"Quest NPC",value:this.npc["isquest"]?"Yes":"No",showIf:this.npc["isquest"]>0}],[],[{icon:"2087",label:"Min Damage",value:this.npc["mindmg"]},{icon:"2087",label:"Max Damage",value:this.npc["maxdmg"]},{icon:"2090",label:"Attack Count",value:this.npc["attack_count"],showIf:-1!==this.npc["attack_count"]},{icon:"2095",label:"Attack Delay",value:this.npc["attack_delay"]},{icon:"2102",label:"Attack Speed",value:this.npc["attack_speed"]},{icon:"778",label:"Heal Scale",value:this.npc["healscale"]+"%",showIf:100!==this.npc["healscale"]},{icon:"777",label:"Spell Scale",value:this.npc["spellscale"]+"%",showIf:100!==this.npc["spellscale"]},{icon:"778",label:"Scale Rate",value:this.npc["scalerate"]+"%",showIf:100!==this.npc["scalerate"]},{icon:"590",label:"Attack",value:this.npc["atk"],showIf:this.npc["atk"]>0},{icon:"597",label:"Accuracy",value:this.npc["accuracy"],showIf:this.npc["accuracy"]>0},{icon:"3656",label:"Avoidance",value:this.npc["avoidance"],showIf:this.npc["avoidance"]>0},{icon:"5388",label:"Charm Armor Class",value:this.npc["charm_ac"],showIf:this.npc["charm_ac"]>0},{icon:"597",label:"Charm Accuracy",value:this.npc["charm_accuracy_rating"],showIf:this.npc["charm_accuracy_rating"]>0},{icon:"590",label:"Charm Attack",value:this.npc["charm_atk"],showIf:this.npc["charm_atk"]>0},{icon:"2095",label:"Charm Attack Delay",value:this.npc["charm_attack_delay"],showIf:this.npc["charm_attack_delay"]>0},{icon:"3656",label:"Charm Avoidance",value:this.npc["charm_avoidance_rating"],showIf:this.npc["charm_avoidance_rating"]>0},{icon:"2087",label:"Charm Min Damage",value:this.npc["charm_min_dmg"],showIf:this.npc["charm_min_dmg"]>0},{icon:"2087",label:"Charm Max Damage",value:this.npc["charm_max_dmg"],showIf:this.npc["charm_max_dmg"]>0}]]}]}}},C=w,x=n("2877"),E=Object(x["a"])(C,i,a,!1,null,"3303983e",null);t["a"]=E.exports},a332:function(e,t,n){"use strict";n("6762"),n("2fdb");var i=function(){var e=this,t=e._self._c;return e.getExpansionIcon(e.expansion).includes("base64")?e._e():t("img",{staticClass:"mr-2 p-1 hover-highlight-inner",style:"width: 56px; opacity: .7; border: 2px solid rgb(218 218 218 / 30%); border-radius: 7px;",attrs:{alt:e.getExpansionName(e.expansion),title:e.title+e.getExpansionName(e.expansion)+" ("+e.expansion+")",src:e.getExpansionIcon(e.expansion)}})},a=[],r=(n("c5f6"),n("26df")),s={name:"ExpansionIcon",props:{expansion:{type:Number,required:!0},title:{type:String,required:!1,default:""}},methods:{getExpansionIcon:function(e){return r["a"].getExpansionIconUrlSmall(e)},getExpansionName:function(e){return r["a"].getExpansionName(e)}}},o=s,l=n("2877"),c=Object(l["a"])(o,i,a,!1,null,"54580cb1",null);t["a"]=c.exports},ae45:function(e,t){function n(e,t,n){var i,a,r,s,o;function l(){var c=Date.now()-s;c<t&&c>=0?i=setTimeout(l,t-c):(i=null,n||(o=e.apply(r,a),r=a=null))}null==t&&(t=100);var c=function(){r=this,a=arguments,s=Date.now();var c=n&&!i;return i||(i=setTimeout(l,t)),c&&(o=e.apply(r,a),r=a=null),o};return c.clear=function(){i&&(clearTimeout(i),i=null)},c.flush=function(){i&&(o=e.apply(r,a),r=a=null,clearTimeout(i),i=null)},c}n.debounce=n,e.exports=n},b39a:function(e,t,n){var i=n("d3f4");e.exports=function(e,t){if(!i(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},b3b6:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));n("2397"),n("6762"),n("2fdb");var i=n("d225"),a=n("b0b4"),r=n("308d"),s=n("6bb5"),o=n("4e2b"),l=(n("a481"),n("6b54"),n("386d"),n("96cf"),n("9ab4")),c=n("bc3a"),d=n.n(c),u=n("d3e6");function p(e,t,n){return t=Object(s["a"])(t),Object(r["a"])(e,h()?Reflect.construct(t,n||[],Object(s["a"])(e).constructor):t.apply(e,n))}function h(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(h=function(){return!!e})()}var m=function(e){var t=this;return{createLoottableEntry:function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(l["d"])(t,void 0,void 0,regeneratorRuntime.mark((function t(){var a,r,s,o,l,c,d,p,h,m,f,v;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(null!==n&&void 0!==n){t.next=2;break}throw new u["c"]("loottableEntry","Required parameter loottableEntry was null or undefined when calling createLoottableEntry.");case 2:for(p in a="/loottable_entry",r=new URL(a,"https://example.com"),e&&(s=e.baseOptions),o=Object.assign(Object.assign({method:"PUT"},s),i),l={},c={},l["Content-Type"]="application/json",d=new URLSearchParams(r.search),c)d.set(p,c[p]);for(h in i.query)d.set(h,i.query[h]);return r.search=new URLSearchParams(d).toString(),m=s&&s.headers?s.headers:{},o.headers=Object.assign(Object.assign(Object.assign({},l),m),i.headers),f="string"!==typeof n,v=f&&e&&e.isJsonMime?e.isJsonMime(o.headers["Content-Type"]):f,o.data=v?JSON.stringify(void 0!==n?n:{}):n||"",t.abrupt("return",{url:r.pathname+r.search+r.hash,options:o});case 19:case"end":return t.stop()}}),t)})))},deleteLoottableEntry:function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(l["d"])(t,void 0,void 0,regeneratorRuntime.mark((function t(){var a,r,s,o,l,c,d,p,h,m;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(null!==n&&void 0!==n){t.next=2;break}throw new u["c"]("id","Required parameter id was null or undefined when calling deleteLoottableEntry.");case 2:for(p in a="/loottable_entry/{id}".replace("{".concat("id","}"),encodeURIComponent(String(n))),r=new URL(a,"https://example.com"),e&&(s=e.baseOptions),o=Object.assign(Object.assign({method:"DELETE"},s),i),l={},c={},d=new URLSearchParams(r.search),c)d.set(p,c[p]);for(h in i.query)d.set(h,i.query[h]);return r.search=new URLSearchParams(d).toString(),m=s&&s.headers?s.headers:{},o.headers=Object.assign(Object.assign(Object.assign({},l),m),i.headers),t.abrupt("return",{url:r.pathname+r.search+r.hash,options:o});case 15:case"end":return t.stop()}}),t)})))},getLoottableEntriesBulk:function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(l["d"])(t,void 0,void 0,regeneratorRuntime.mark((function t(){var a,r,s,o,l,c,d,p,h,m,f,v;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(null!==n&&void 0!==n){t.next=2;break}throw new u["c"]("body","Required parameter body was null or undefined when calling getLoottableEntriesBulk.");case 2:for(p in a="/loottable_entries/bulk",r=new URL(a,"https://example.com"),e&&(s=e.baseOptions),o=Object.assign(Object.assign({method:"POST"},s),i),l={},c={},l["Content-Type"]="application/json",d=new URLSearchParams(r.search),c)d.set(p,c[p]);for(h in i.query)d.set(h,i.query[h]);return r.search=new URLSearchParams(d).toString(),m=s&&s.headers?s.headers:{},o.headers=Object.assign(Object.assign(Object.assign({},l),m),i.headers),f="string"!==typeof n,v=f&&e&&e.isJsonMime?e.isJsonMime(o.headers["Content-Type"]):f,o.data=v?JSON.stringify(void 0!==n?n:{}):n||"",t.abrupt("return",{url:r.pathname+r.search+r.hash,options:o});case 19:case"end":return t.stop()}}),t)})))},getLoottableEntriesCount:function(n,i,a,r,s,o,c,d,u){var p=arguments.length>9&&void 0!==arguments[9]?arguments[9]:{};return Object(l["d"])(t,void 0,void 0,regeneratorRuntime.mark((function t(){var l,h,m,f,v,g,b,_,y,w;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(_ in l="/loottable_entries/count",h=new URL(l,"https://example.com"),e&&(m=e.baseOptions),f=Object.assign(Object.assign({method:"GET"},m),p),v={},g={},void 0!==n&&(g["includes"]=n),void 0!==i&&(g["where"]=i),void 0!==a&&(g["whereOr"]=a),void 0!==r&&(g["groupBy"]=r),void 0!==s&&(g["limit"]=s),void 0!==o&&(g["page"]=o),void 0!==c&&(g["orderBy"]=c),void 0!==d&&(g["orderDirection"]=d),void 0!==u&&(g["select"]=u),b=new URLSearchParams(h.search),g)b.set(_,g[_]);for(y in p.query)b.set(y,p.query[y]);return h.search=new URLSearchParams(b).toString(),w=m&&m.headers?m.headers:{},f.headers=Object.assign(Object.assign(Object.assign({},v),w),p.headers),t.abrupt("return",{url:h.pathname+h.search+h.hash,options:f});case 22:case"end":return t.stop()}}),t)})))},getLoottableEntry:function(n,i,a){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return Object(l["d"])(t,void 0,void 0,regeneratorRuntime.mark((function t(){var s,o,l,c,d,p,h,m,f,v;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(null!==n&&void 0!==n){t.next=2;break}throw new u["c"]("id","Required parameter id was null or undefined when calling getLoottableEntry.");case 2:for(m in s="/loottable_entry/{id}".replace("{".concat("id","}"),encodeURIComponent(String(n))),o=new URL(s,"https://example.com"),e&&(l=e.baseOptions),c=Object.assign(Object.assign({method:"GET"},l),r),d={},p={},void 0!==i&&(p["includes"]=i),void 0!==a&&(p["select"]=a),h=new URLSearchParams(o.search),p)h.set(m,p[m]);for(f in r.query)h.set(f,r.query[f]);return o.search=new URLSearchParams(h).toString(),v=l&&l.headers?l.headers:{},c.headers=Object.assign(Object.assign(Object.assign({},d),v),r.headers),t.abrupt("return",{url:o.pathname+o.search+o.hash,options:c});case 17:case"end":return t.stop()}}),t)})))},listLoottableEntries:function(n,i,a,r,s,o,c,d,u){var p=arguments.length>9&&void 0!==arguments[9]?arguments[9]:{};return Object(l["d"])(t,void 0,void 0,regeneratorRuntime.mark((function t(){var l,h,m,f,v,g,b,_,y,w;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(_ in l="/loottable_entries",h=new URL(l,"https://example.com"),e&&(m=e.baseOptions),f=Object.assign(Object.assign({method:"GET"},m),p),v={},g={},void 0!==n&&(g["includes"]=n),void 0!==i&&(g["where"]=i),void 0!==a&&(g["whereOr"]=a),void 0!==r&&(g["groupBy"]=r),void 0!==s&&(g["limit"]=s),void 0!==o&&(g["page"]=o),void 0!==c&&(g["orderBy"]=c),void 0!==d&&(g["orderDirection"]=d),void 0!==u&&(g["select"]=u),b=new URLSearchParams(h.search),g)b.set(_,g[_]);for(y in p.query)b.set(y,p.query[y]);return h.search=new URLSearchParams(b).toString(),w=m&&m.headers?m.headers:{},f.headers=Object.assign(Object.assign(Object.assign({},v),w),p.headers),t.abrupt("return",{url:h.pathname+h.search+h.hash,options:f});case 22:case"end":return t.stop()}}),t)})))},updateLoottableEntry:function(n,i){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object(l["d"])(t,void 0,void 0,regeneratorRuntime.mark((function t(){var r,s,o,l,c,d,p,h,m,f,v,g;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(null!==n&&void 0!==n){t.next=2;break}throw new u["c"]("id","Required parameter id was null or undefined when calling updateLoottableEntry.");case 2:if(null!==i&&void 0!==i){t.next=4;break}throw new u["c"]("loottableEntry","Required parameter loottableEntry was null or undefined when calling updateLoottableEntry.");case 4:for(h in r="/loottable_entry/{id}".replace("{".concat("id","}"),encodeURIComponent(String(n))),s=new URL(r,"https://example.com"),e&&(o=e.baseOptions),l=Object.assign(Object.assign({method:"PATCH"},o),a),c={},d={},c["Content-Type"]="application/json",p=new URLSearchParams(s.search),d)p.set(h,d[h]);for(m in a.query)p.set(m,a.query[m]);return s.search=new URLSearchParams(p).toString(),f=o&&o.headers?o.headers:{},l.headers=Object.assign(Object.assign(Object.assign({},c),f),a.headers),v="string"!==typeof i,g=v&&e&&e.isJsonMime?e.isJsonMime(l.headers["Content-Type"]):v,l.data=g?JSON.stringify(void 0!==i?i:{}):i||"",t.abrupt("return",{url:s.pathname+s.search+s.hash,options:l});case 21:case"end":return t.stop()}}),t)})))}}},f=function(e){return{createLoottableEntry:function(t,n){return Object(l["d"])(this,void 0,void 0,regeneratorRuntime.mark((function i(){var a;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,m(e).createLoottableEntry(t,n);case 2:return a=i.sent,i.abrupt("return",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d.a,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u["a"],i=Object.assign(Object.assign({},a.options),{url:((null===e||void 0===e?void 0:e.basePath)||n)+a.url});return t.request(i)}));case 4:case"end":return i.stop()}}),i)})))},deleteLoottableEntry:function(t,n){return Object(l["d"])(this,void 0,void 0,regeneratorRuntime.mark((function i(){var a;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,m(e).deleteLoottableEntry(t,n);case 2:return a=i.sent,i.abrupt("return",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d.a,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u["a"],i=Object.assign(Object.assign({},a.options),{url:((null===e||void 0===e?void 0:e.basePath)||n)+a.url});return t.request(i)}));case 4:case"end":return i.stop()}}),i)})))},getLoottableEntriesBulk:function(t,n){return Object(l["d"])(this,void 0,void 0,regeneratorRuntime.mark((function i(){var a;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,m(e).getLoottableEntriesBulk(t,n);case 2:return a=i.sent,i.abrupt("return",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d.a,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u["a"],i=Object.assign(Object.assign({},a.options),{url:((null===e||void 0===e?void 0:e.basePath)||n)+a.url});return t.request(i)}));case 4:case"end":return i.stop()}}),i)})))},getLoottableEntriesCount:function(t,n,i,a,r,s,o,c,p,h){return Object(l["d"])(this,void 0,void 0,regeneratorRuntime.mark((function l(){var f;return regeneratorRuntime.wrap((function(l){while(1)switch(l.prev=l.next){case 0:return l.next=2,m(e).getLoottableEntriesCount(t,n,i,a,r,s,o,c,p,h);case 2:return f=l.sent,l.abrupt("return",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d.a,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u["a"],i=Object.assign(Object.assign({},f.options),{url:((null===e||void 0===e?void 0:e.basePath)||n)+f.url});return t.request(i)}));case 4:case"end":return l.stop()}}),l)})))},getLoottableEntry:function(t,n,i,a){return Object(l["d"])(this,void 0,void 0,regeneratorRuntime.mark((function r(){var s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,m(e).getLoottableEntry(t,n,i,a);case 2:return s=r.sent,r.abrupt("return",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d.a,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u["a"],i=Object.assign(Object.assign({},s.options),{url:((null===e||void 0===e?void 0:e.basePath)||n)+s.url});return t.request(i)}));case 4:case"end":return r.stop()}}),r)})))},listLoottableEntries:function(t,n,i,a,r,s,o,c,p,h){return Object(l["d"])(this,void 0,void 0,regeneratorRuntime.mark((function l(){var f;return regeneratorRuntime.wrap((function(l){while(1)switch(l.prev=l.next){case 0:return l.next=2,m(e).listLoottableEntries(t,n,i,a,r,s,o,c,p,h);case 2:return f=l.sent,l.abrupt("return",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d.a,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u["a"],i=Object.assign(Object.assign({},f.options),{url:((null===e||void 0===e?void 0:e.basePath)||n)+f.url});return t.request(i)}));case 4:case"end":return l.stop()}}),l)})))},updateLoottableEntry:function(t,n,i){return Object(l["d"])(this,void 0,void 0,regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,m(e).updateLoottableEntry(t,n,i);case 2:return r=a.sent,a.abrupt("return",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d.a,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u["a"],i=Object.assign(Object.assign({},r.options),{url:((null===e||void 0===e?void 0:e.basePath)||n)+r.url});return t.request(i)}));case 4:case"end":return a.stop()}}),a)})))}}},v=function(e){function t(){return Object(i["a"])(this,t),p(this,t,arguments)}return Object(o["a"])(t,e),Object(a["a"])(t,[{key:"createLoottableEntry",value:function(e,t){var n=this;return f(this.configuration).createLoottableEntry(e.loottableEntry,t).then((function(e){return e(n.axios,n.basePath)}))}},{key:"deleteLoottableEntry",value:function(e,t){var n=this;return f(this.configuration).deleteLoottableEntry(e.id,t).then((function(e){return e(n.axios,n.basePath)}))}},{key:"getLoottableEntriesBulk",value:function(e,t){var n=this;return f(this.configuration).getLoottableEntriesBulk(e.body,t).then((function(e){return e(n.axios,n.basePath)}))}},{key:"getLoottableEntriesCount",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return f(this.configuration).getLoottableEntriesCount(t.includes,t.where,t.whereOr,t.groupBy,t.limit,t.page,t.orderBy,t.orderDirection,t.select,n).then((function(t){return t(e.axios,e.basePath)}))}},{key:"getLoottableEntry",value:function(e,t){var n=this;return f(this.configuration).getLoottableEntry(e.id,e.includes,e.select,t).then((function(e){return e(n.axios,n.basePath)}))}},{key:"listLoottableEntries",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return f(this.configuration).listLoottableEntries(t.includes,t.where,t.whereOr,t.groupBy,t.limit,t.page,t.orderBy,t.orderDirection,t.select,n).then((function(t){return t(e.axios,e.basePath)}))}},{key:"updateLoottableEntry",value:function(e,t){var n=this;return f(this.configuration).updateLoottableEntry(e.id,e.loottableEntry,t).then((function(e){return e(n.axios,n.basePath)}))}}])}(u["b"])},b61c:function(e,t,n){"use strict";n.r(t);n("ac6a"),n("7f7f"),n("386d");var i=function(){var e=this,t=e._self._c;return t("content-area",{staticStyle:{padding:"0 !important"}},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-4"},[t("eq-window",{attrs:{title:"Loot Tables"}},[t("div",{staticClass:"d-flex mb-2"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.search,expression:"search"}],staticClass:"form-control form-control-sm",attrs:{type:"text",placeholder:"Search by name or ID..."},domProps:{value:e.search},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.doSearch.apply(null,arguments)},input:[function(t){t.target.composing||(e.search=t.target.value)},e.debouncedSearch]}}),t("b-button",{staticClass:"ml-2",attrs:{size:"sm",variant:"outline-warning",title:"Create New Loot Table"},on:{click:e.createNewLoottable}},[t("i",{staticClass:"fa fa-plus mr-1"}),e._v(" New\n          ")])],1),t("div",{staticClass:"loot-list",staticStyle:{height:"calc(100vh - 200px)","overflow-y":"auto"}},[e.loading?t("div",{staticClass:"text-center p-3"},[t("i",{staticClass:"fa fa-spinner fa-spin"}),e._v(" Loading...\n          ")]):e._e(),e.loading||e.tableData&&0!==e.tableData.length?e._e():t("div",{staticClass:"text-center p-3",staticStyle:{opacity:".5"}},[e._v("\n            No loot tables found\n          ")]),e._l(e.tableData,(function(n){return t("div",{key:n.id,staticClass:"loot-list-item",class:{active:e.selectedTable&&e.selectedTable.id===n.id},on:{click:function(t){return e.selectLoottable(n)}}},[t("div",{staticClass:"d-flex justify-content-between align-items-start"},[t("div",[t("div",{staticClass:"loot-list-name"},[e._v(e._s(n.name||"(unnamed)"))]),t("small",{staticClass:"text-muted"},[e._v("ID: "+e._s(n.id))])]),t("div",{staticClass:"text-right"},[e.getItemCount(n)>0?t("span",{staticClass:"badge badge-pill",staticStyle:{background:"rgba(255,193,7,0.2)",color:"#ffd54f"}},[e._v(e._s(e.getItemCount(n))+" items")]):e._e(),n.npc_types&&(n.npc_types||[]).length>0?t("br"):e._e(),n.npc_types&&(n.npc_types||[]).length>0?t("small",{staticStyle:{color:"#90caf9"}},[e._v(e._s((n.npc_types||[]).length)+" NPC"+e._s(1!==(n.npc_types||[]).length?"s":""))]):e._e()])]),n.mincash||n.maxcash?t("div",{staticClass:"mt-1"},[t("small",{staticStyle:{opacity:".6"}},[t("eq-cash-display",{attrs:{price:n.mincash||0,size:"xs"}}),e._v(" \n                "),t("eq-cash-display",{attrs:{price:n.maxcash||0,size:"xs"}})],1)]):e._e()])})),e.totalRows>0?t("div",{staticClass:"text-center mt-2 mb-2"},[t("b-pagination",{attrs:{size:"sm","total-rows":e.totalRows,"per-page":50,"hide-ellipsis":!0},on:{change:e.paginate},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1):e._e()],2)])],1),t("div",{staticClass:"col-8"},[e.selectedTable?e._e():t("eq-window",{attrs:{title:"Loot Editor"}},[t("div",{staticClass:"text-center p-5",staticStyle:{opacity:".4"}},[t("i",{staticClass:"fa fa-gem",staticStyle:{"font-size":"3em"}}),t("div",{staticClass:"mt-3"},[e._v("Select a loot table to edit")])])]),e.selectedTable?t("div",[t("eq-window",{staticClass:"p-0"},[t("div",{staticClass:"loot-editor-header"},[t("div",{staticClass:"d-flex justify-content-between align-items-center"},[t("div",{staticClass:"d-flex align-items-center"},[t("h5",{staticClass:"mb-0 mr-3",staticStyle:{color:"#ffd54f"}},[t("i",{staticClass:"fa fa-gem mr-2"}),e._v(e._s(e.editTable.name||"(unnamed)")+"\n                ")]),t("span",{staticClass:"badge mr-2",staticStyle:{background:"rgba(255,255,255,0.12)",color:"#fff"}},[e._v("ID: "+e._s(e.editTable.id))]),e.getItemCount(e.selectedTable)>0?t("span",{staticClass:"badge mr-2",staticStyle:{background:"rgba(255,193,7,0.2)",color:"#ffd54f"}},[e._v(e._s(e.getItemCount(e.selectedTable))+" items")]):e._e(),e.selectedTable.npc_types&&(e.selectedTable.npc_types||[]).length>0?t("span",{staticClass:"badge",staticStyle:{background:"rgba(144,202,249,0.2)",color:"#90caf9"}},[e._v(e._s((e.selectedTable.npc_types||[]).length)+" NPC"+e._s(1!==(e.selectedTable.npc_types||[]).length?"s":""))]):e._e()]),t("div",[t("b-button",{staticClass:"mr-1",attrs:{size:"sm",variant:"outline-info",title:"Clone this loot table"},on:{click:e.cloneLoottable}},[t("i",{staticClass:"fa fa-copy mr-1"}),e._v(" Clone\n                ")]),e.hasUnsavedChanges?t("b-button",{staticClass:"mr-1",attrs:{size:"sm",variant:"outline-secondary",disabled:e.saving},on:{click:e.confirmReset}},[t("i",{staticClass:"fa fa-undo mr-1"}),e._v(" Reset\n                ")]):e._e(),t("b-button",{class:{"save-btn-glow":e.hasUnsavedChanges},attrs:{size:"sm",variant:e.hasUnsavedChanges?"outline-danger":"outline-warning",disabled:e.saving},on:{click:e.saveLoottable}},[t("i",{staticClass:"fa fa-save mr-1"}),e._v(" "+e._s(e.saving?"Saving...":"Save")+"\n                ")])],1)]),t("div",{staticClass:"row mt-3"},[t("div",{staticClass:"col-4"},[t("label",{staticClass:"small mb-0",staticStyle:{opacity:".7"}},[e._v("Name")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.editTable.name,expression:"editTable.name"}],staticClass:"form-control form-control-sm",class:{"pending-edit":e.isFieldEdited("table-name")},domProps:{value:e.editTable.name},on:{input:[function(t){t.target.composing||e.$set(e.editTable,"name",t.target.value)},function(t){var n;return e.trackFieldEdit("table-name",(null===(n=e.originalValues.table)||void 0===n?void 0:n.name)||"",e.editTable.name)}]}})]),t("div",{staticClass:"col-2"},[t("label",{staticClass:"small mb-0",staticStyle:{opacity:".7"}},[e._v("Min Cash")]),t("input",{directives:[{name:"model",rawName:"v-model.number",value:e.editTable.mincash,expression:"editTable.mincash",modifiers:{number:!0}}],staticClass:"form-control form-control-sm",class:{"pending-edit":e.isFieldEdited("table-mincash")},attrs:{type:"number"},domProps:{value:e.editTable.mincash},on:{input:[function(t){t.target.composing||e.$set(e.editTable,"mincash",e._n(t.target.value))},function(t){var n;return e.trackFieldEdit("table-mincash",(null===(n=e.originalValues.table)||void 0===n?void 0:n.mincash)||0,e.editTable.mincash)}],blur:function(t){return e.$forceUpdate()}}})]),t("div",{staticClass:"col-2"},[t("label",{staticClass:"small mb-0",staticStyle:{opacity:".7"}},[e._v("Max Cash")]),t("input",{directives:[{name:"model",rawName:"v-model.number",value:e.editTable.maxcash,expression:"editTable.maxcash",modifiers:{number:!0}}],staticClass:"form-control form-control-sm",class:{"pending-edit":e.isFieldEdited("table-maxcash")},attrs:{type:"number"},domProps:{value:e.editTable.maxcash},on:{input:[function(t){t.target.composing||e.$set(e.editTable,"maxcash",e._n(t.target.value))},function(t){var n;return e.trackFieldEdit("table-maxcash",(null===(n=e.originalValues.table)||void 0===n?void 0:n.maxcash)||0,e.editTable.maxcash)}],blur:function(t){return e.$forceUpdate()}}})]),t("div",{staticClass:"col-2"},[t("label",{staticClass:"small mb-0",staticStyle:{opacity:".7"}},[e._v("Cash Preview")]),t("div",{staticClass:"mt-1"},[t("eq-cash-display",{attrs:{price:e.editTable.mincash||0,size:"sm"}}),t("span",{staticClass:"mx-1",staticStyle:{opacity:".5"}},[e._v("")]),t("eq-cash-display",{attrs:{price:e.editTable.maxcash||0,size:"sm"}})],1)])]),e.selectedTable.npc_types&&(e.selectedTable.npc_types||[]).length>0?t("div",{staticClass:"mt-3 pt-2",staticStyle:{"border-top":"1px solid rgba(255,255,255,0.06)"}},[t("div",{staticClass:"npc-section-header",on:{click:function(t){e.npcsExpanded=!e.npcsExpanded}}},[t("i",{staticClass:"fa mr-1",class:e.npcsExpanded?"fa-chevron-down":"fa-chevron-right",staticStyle:{width:"12px",opacity:".5"}}),t("i",{staticClass:"fa fa-users mr-1",staticStyle:{opacity:".5"}}),t("span",{staticStyle:{opacity:".7"}},[e._v("Used by")]),t("span",{staticClass:"ml-1 font-weight-bold",staticStyle:{color:"#90caf9"}},[e._v(e._s((e.selectedTable.npc_types||[]).length))]),t("span",{staticClass:"ml-1",staticStyle:{opacity:".7"}},[e._v("NPC"+e._s(1!==(e.selectedTable.npc_types||[]).length?"s":""))])]),e.npcsExpanded?t("div",{staticClass:"npc-table-wrap mt-2"},[t("table",{staticClass:"eq-table eq-highlight-rows w-100",staticStyle:{"font-size":"12px"}},[t("thead",[t("tr",[t("th",{staticStyle:{width:"15%"}},[e._v("ID")]),t("th",{staticStyle:{width:"45%"}},[e._v("Name")]),t("th",{staticClass:"text-center",staticStyle:{width:"15%"}},[e._v("Level")]),t("th",{staticClass:"text-center",staticStyle:{width:"25%"}},[e._v("Race")])])]),t("tbody",e._l((e.selectedTable.npc_types||[]).slice(0,50),(function(n){return t("tr",{key:"npc-"+n.id,staticClass:"npc-row",on:{click:function(t){return e.goToNpc(n.id)}}},[t("td",{staticStyle:{opacity:".5"}},[e._v(e._s(n.id))]),t("td",[t("npc-popover",{attrs:{npc:n}})],1),t("td",{staticClass:"text-center"},[e._v(e._s(n.level||""))]),t("td",{staticClass:"text-center",staticStyle:{opacity:".6"}},[e._v(e._s(n.race||""))])])})),0)]),(e.selectedTable.npc_types||[]).length>50?t("div",{staticClass:"text-center p-1",staticStyle:{opacity:".4","font-size":".8em"}},[e._v("\n                  +"+e._s((e.selectedTable.npc_types||[]).length-50)+" more NPCs\n                ")]):e._e()]):e._e()]):e._e()])]),t("eq-window",{staticClass:"p-0",attrs:{title:"Loot Drops"}},[t("div",{staticClass:"d-flex justify-content-end px-3 pt-3 pb-1"},[t("b-button",{staticStyle:{"font-size":".75em"},attrs:{size:"sm",variant:"outline-secondary"},on:{click:e.toggleAllLootdrops}},[t("i",{staticClass:"fa mr-1",class:e.allExpanded?"fa-compress":"fa-expand"}),e._v("\n              "+e._s(e.allExpanded?"Collapse All":"Expand All")+"\n            ")])],1),t("div",{staticClass:"lootdrops-container",staticStyle:{"max-height":"calc(100vh - 450px)","overflow-y":"auto"}},[e._l(e.editEntries,(function(n,i){return t("div",{key:"le-"+i,staticClass:"lootdrop-card",class:{"pending-add":n._pendingAdd,"pending-delete":n._pendingDelete}},[t("div",{staticClass:"lootdrop-header",on:{click:function(t){n._expanded=!n._expanded,e.$forceUpdate()}}},[t("div",{staticClass:"d-flex justify-content-between align-items-center"},[t("div",{staticClass:"d-flex align-items-center"},[t("i",{staticClass:"fa mr-2",class:n._expanded?"fa-chevron-down":"fa-chevron-right",staticStyle:{opacity:".5",width:"14px"}}),t("span",{staticClass:"lootdrop-name"},[e._v(e._s(n.lootdrop&&n.lootdrop.name||"Lootdrop #"+n.lootdrop_id))]),t("span",{staticClass:"badge ml-2",staticStyle:{background:"rgba(255,255,255,0.12)",color:"#fff"}},[e._v("ID: "+e._s(n.lootdrop_id))]),t("span",{staticClass:"badge ml-2",staticStyle:{background:"rgba(255,193,7,0.2)",color:"#ffd54f"}},[e._v("\n                      "+e._s(n.lootdrop&&n.lootdrop.lootdrop_entries?n.lootdrop.lootdrop_entries.length:0)+" items\n                    ")])]),t("div",{staticClass:"d-flex align-items-center",on:{click:function(e){e.stopPropagation()}}},[t("div",{staticClass:"lootdrop-stat mr-3"},[t("label",{staticClass:"small mb-0"},[e._v("Prob%")]),t("input",{directives:[{name:"model",rawName:"v-model.number",value:n.probability,expression:"le.probability",modifiers:{number:!0}}],staticClass:"form-control form-control-sm lootdrop-input",class:{"pending-edit":e.isFieldEdited("le-"+i+"-probability")},attrs:{type:"number",disabled:n._pendingDelete,min:"0",max:"100",step:"1"},domProps:{value:n.probability},on:{input:[function(t){t.target.composing||e.$set(n,"probability",e._n(t.target.value))},function(t){var a,r;return e.trackFieldEdit("le-"+i+"-probability",(null===(a=e.originalValues.entries)||void 0===a||null===(r=a[i])||void 0===r?void 0:r.probability)||100,n.probability)}],blur:function(t){return e.$forceUpdate()}}})]),t("div",{staticClass:"lootdrop-stat mr-3"},[t("label",{staticClass:"small mb-0"},[e._v("Multi")]),t("input",{directives:[{name:"model",rawName:"v-model.number",value:n.multiplier,expression:"le.multiplier",modifiers:{number:!0}}],staticClass:"form-control form-control-sm lootdrop-input",class:{"pending-edit":e.isFieldEdited("le-"+i+"-multiplier")},attrs:{type:"number",disabled:n._pendingDelete,min:"0",step:"1"},domProps:{value:n.multiplier},on:{input:[function(t){t.target.composing||e.$set(n,"multiplier",e._n(t.target.value))},function(t){var a,r;return e.trackFieldEdit("le-"+i+"-multiplier",(null===(a=e.originalValues.entries)||void 0===a||null===(r=a[i])||void 0===r?void 0:r.multiplier)||1,n.multiplier)}],blur:function(t){return e.$forceUpdate()}}})]),t("div",{staticClass:"lootdrop-stat mr-3"},[t("label",{staticClass:"small mb-0"},[e._v("Limit")]),t("input",{directives:[{name:"model",rawName:"v-model.number",value:n.droplimit,expression:"le.droplimit",modifiers:{number:!0}}],staticClass:"form-control form-control-sm lootdrop-input",class:{"pending-edit":e.isFieldEdited("le-"+i+"-droplimit")},attrs:{type:"number",disabled:n._pendingDelete,min:"0",step:"1"},domProps:{value:n.droplimit},on:{input:[function(t){t.target.composing||e.$set(n,"droplimit",e._n(t.target.value))},function(t){var a,r;return e.trackFieldEdit("le-"+i+"-droplimit",(null===(a=e.originalValues.entries)||void 0===a||null===(r=a[i])||void 0===r?void 0:r.droplimit)||0,n.droplimit)}],blur:function(t){return e.$forceUpdate()}}})]),t("div",{staticClass:"lootdrop-stat mr-2"},[t("label",{staticClass:"small mb-0"},[e._v("Min")]),t("input",{directives:[{name:"model",rawName:"v-model.number",value:n.mindrop,expression:"le.mindrop",modifiers:{number:!0}}],staticClass:"form-control form-control-sm lootdrop-input",class:{"pending-edit":e.isFieldEdited("le-"+i+"-mindrop")},attrs:{type:"number",disabled:n._pendingDelete,min:"0",step:"1"},domProps:{value:n.mindrop},on:{input:[function(t){t.target.composing||e.$set(n,"mindrop",e._n(t.target.value))},function(t){var a,r;return e.trackFieldEdit("le-"+i+"-mindrop",(null===(a=e.originalValues.entries)||void 0===a||null===(r=a[i])||void 0===r?void 0:r.mindrop)||0,n.mindrop)}],blur:function(t){return e.$forceUpdate()}}})]),n._pendingDelete?t("b-button",{staticClass:"ml-1",attrs:{size:"sm",variant:"outline-success",title:"Undo removal"},on:{click:function(t){return t.stopPropagation(),e.undoRemoveLootdrop(i)}}},[t("i",{staticClass:"fa fa-undo"}),e._v(" Undo\n                    ")]):t("b-button",{staticClass:"ml-1",attrs:{size:"sm",variant:"outline-danger",title:"Remove lootdrop"},on:{click:function(t){return t.stopPropagation(),e.removeLootdrop(i)}}},[t("i",{staticClass:"fa fa-trash"})])],1)])]),n._expanded&&n.lootdrop?t("div",{staticClass:"lootdrop-items"},[t("table",{staticClass:"eq-table eq-highlight-rows w-100",staticStyle:{"font-size":"13px"}},[t("thead",[t("tr",[t("th",{staticStyle:{width:"40%"}},[e._v("Item")]),t("th",{staticClass:"text-center",staticStyle:{width:"10%"}},[e._v("Chance")]),t("th",{staticClass:"text-center",staticStyle:{width:"8%"}},[e._v("Qty")]),t("th",{staticClass:"text-center",staticStyle:{width:"8%"}},[e._v("Equip")]),t("th",{staticClass:"text-center",staticStyle:{width:"12%"}},[e._v("NPC Lvl")]),t("th",{staticClass:"text-center",staticStyle:{width:"12%"}},[e._v("Trivial Lvl")]),t("th",{staticClass:"text-center",staticStyle:{width:"10%"}},[e._v("Actions")])])]),t("tbody",e._l(n.lootdrop.lootdrop_entries||[],(function(n,a){return t("tr",{key:"lde-"+n.lootdrop_id+"-"+n.item_id,class:{"pending-add":n._pendingAdd,"pending-delete":n._pendingDelete}},[t("td",[n.item?t("item-popover",{staticClass:"d-inline-block",attrs:{item:n.item,size:"sm"}}):t("span",{staticStyle:{opacity:".5"}},[e._v("Item #"+e._s(n.item_id))])],1),t("td",{staticClass:"text-center"},[t("input",{directives:[{name:"model",rawName:"v-model.number",value:n.chance,expression:"lde.chance",modifiers:{number:!0}}],staticClass:"form-control form-control-sm text-center entry-input",class:{"pending-edit":e.isFieldEdited("lde-"+i+"-"+a+"-chance")},attrs:{type:"number",disabled:n._pendingDelete,min:"0",max:"100",step:"0.1"},domProps:{value:n.chance},on:{input:[function(t){t.target.composing||e.$set(n,"chance",e._n(t.target.value))},function(t){var r,s,o,l;return e.trackFieldEdit("lde-"+i+"-"+a+"-chance",(null===(r=e.originalValues.entries)||void 0===r||null===(s=r[i])||void 0===s||null===(o=s.lootdrop_entries)||void 0===o||null===(l=o[a])||void 0===l?void 0:l.chance)||0,n.chance)}],blur:function(t){return e.$forceUpdate()}}})]),t("td",{staticClass:"text-center"},[t("input",{directives:[{name:"model",rawName:"v-model.number",value:n.multiplier,expression:"lde.multiplier",modifiers:{number:!0}}],staticClass:"form-control form-control-sm text-center entry-input",class:{"pending-edit":e.isFieldEdited("lde-"+i+"-"+a+"-multiplier")},attrs:{type:"number",disabled:n._pendingDelete,min:"1",step:"1"},domProps:{value:n.multiplier},on:{input:[function(t){t.target.composing||e.$set(n,"multiplier",e._n(t.target.value))},function(t){var r,s,o,l;return e.trackFieldEdit("lde-"+i+"-"+a+"-multiplier",(null===(r=e.originalValues.entries)||void 0===r||null===(s=r[i])||void 0===s||null===(o=s.lootdrop_entries)||void 0===o||null===(l=o[a])||void 0===l?void 0:l.multiplier)||1,n.multiplier)}],blur:function(t){return e.$forceUpdate()}}})]),t("td",{staticClass:"text-center"},[t("eq-checkbox",{staticClass:"d-inline-block",class:{"pending-edit":e.isFieldEdited("lde-"+i+"-"+a+"-equip_item")},attrs:{"true-value":1,"false-value":0,disabled:n._pendingDelete},on:{input:function(t){var r,s,o,l;n.equip_item=t,e.trackFieldEdit("lde-"+i+"-"+a+"-equip_item",(null===(r=e.originalValues.entries)||void 0===r||null===(s=r[i])||void 0===s||null===(o=s.lootdrop_entries)||void 0===o||null===(l=o[a])||void 0===l?void 0:l.equip_item)||0,n.equip_item)}},model:{value:n.equip_item,callback:function(t){e.$set(n,"equip_item",e._n(t))},expression:"lde.equip_item"}})],1),t("td",{staticClass:"text-center"},[t("div",{staticClass:"d-flex"},[t("input",{directives:[{name:"model",rawName:"v-model.number",value:n.npc_min_level,expression:"lde.npc_min_level",modifiers:{number:!0}}],staticClass:"form-control form-control-sm text-center entry-input",class:{"pending-edit":e.isFieldEdited("lde-"+i+"-"+a+"-npc_min_level")},staticStyle:{width:"50%"},attrs:{type:"number",disabled:n._pendingDelete,placeholder:"min",min:"0",step:"1"},domProps:{value:n.npc_min_level},on:{input:[function(t){t.target.composing||e.$set(n,"npc_min_level",e._n(t.target.value))},function(t){var r,s,o,l;return e.trackFieldEdit("lde-"+i+"-"+a+"-npc_min_level",(null===(r=e.originalValues.entries)||void 0===r||null===(s=r[i])||void 0===s||null===(o=s.lootdrop_entries)||void 0===o||null===(l=o[a])||void 0===l?void 0:l.npc_min_level)||0,n.npc_min_level)}],blur:function(t){return e.$forceUpdate()}}}),t("input",{directives:[{name:"model",rawName:"v-model.number",value:n.npc_max_level,expression:"lde.npc_max_level",modifiers:{number:!0}}],staticClass:"form-control form-control-sm text-center entry-input ml-1",class:{"pending-edit":e.isFieldEdited("lde-"+i+"-"+a+"-npc_max_level")},staticStyle:{width:"50%"},attrs:{type:"number",disabled:n._pendingDelete,placeholder:"max",min:"0",step:"1"},domProps:{value:n.npc_max_level},on:{input:[function(t){t.target.composing||e.$set(n,"npc_max_level",e._n(t.target.value))},function(t){var r,s,o,l;return e.trackFieldEdit("lde-"+i+"-"+a+"-npc_max_level",(null===(r=e.originalValues.entries)||void 0===r||null===(s=r[i])||void 0===s||null===(o=s.lootdrop_entries)||void 0===o||null===(l=o[a])||void 0===l?void 0:l.npc_max_level)||0,n.npc_max_level)}],blur:function(t){return e.$forceUpdate()}}})])]),t("td",{staticClass:"text-center"},[t("div",{staticClass:"d-flex"},[t("input",{directives:[{name:"model",rawName:"v-model.number",value:n.trivial_min_level,expression:"lde.trivial_min_level",modifiers:{number:!0}}],staticClass:"form-control form-control-sm text-center entry-input",class:{"pending-edit":e.isFieldEdited("lde-"+i+"-"+a+"-trivial_min_level")},staticStyle:{width:"50%"},attrs:{type:"number",disabled:n._pendingDelete,placeholder:"min",min:"0",step:"1"},domProps:{value:n.trivial_min_level},on:{input:[function(t){t.target.composing||e.$set(n,"trivial_min_level",e._n(t.target.value))},function(t){var r,s,o,l;return e.trackFieldEdit("lde-"+i+"-"+a+"-trivial_min_level",(null===(r=e.originalValues.entries)||void 0===r||null===(s=r[i])||void 0===s||null===(o=s.lootdrop_entries)||void 0===o||null===(l=o[a])||void 0===l?void 0:l.trivial_min_level)||0,n.trivial_min_level)}],blur:function(t){return e.$forceUpdate()}}}),t("input",{directives:[{name:"model",rawName:"v-model.number",value:n.trivial_max_level,expression:"lde.trivial_max_level",modifiers:{number:!0}}],staticClass:"form-control form-control-sm text-center entry-input ml-1",class:{"pending-edit":e.isFieldEdited("lde-"+i+"-"+a+"-trivial_max_level")},staticStyle:{width:"50%"},attrs:{type:"number",disabled:n._pendingDelete,placeholder:"max",min:"0",step:"1"},domProps:{value:n.trivial_max_level},on:{input:[function(t){t.target.composing||e.$set(n,"trivial_max_level",e._n(t.target.value))},function(t){var r,s,o,l;return e.trackFieldEdit("lde-"+i+"-"+a+"-trivial_max_level",(null===(r=e.originalValues.entries)||void 0===r||null===(s=r[i])||void 0===s||null===(o=s.lootdrop_entries)||void 0===o||null===(l=o[a])||void 0===l?void 0:l.trivial_max_level)||0,n.trivial_max_level)}],blur:function(t){return e.$forceUpdate()}}})])]),t("td",{staticClass:"text-center"},[n._pendingDelete?t("b-button",{attrs:{size:"sm",variant:"outline-success",title:"Undo removal"},on:{click:function(t){return e.undoRemoveItem(i,a)}}},[t("i",{staticClass:"fa fa-undo"}),e._v(" Undo\n                        ")]):t("b-button",{attrs:{size:"sm",variant:"outline-danger",title:"Remove item"},on:{click:function(t){return e.removeItem(i,a)}}},[t("i",{staticClass:"fa fa-times"})])],1)])})),0)]),n.lootdrop&&n.lootdrop.lootdrop_entries&&n.lootdrop.lootdrop_entries.length>0?t("div",{staticClass:"chance-bar mt-2 mb-2 mx-2"},[t("div",{staticClass:"chance-bar-label mb-1"},[t("small",{staticStyle:{opacity:".5"}},[e._v("Chance Distribution")]),t("small",{staticClass:"ml-2",style:100===e.getTotalChance(n)?"color: #81c784;":"color: #ef9a9a;"},[e._v(e._s(e.getTotalChance(n).toFixed(1))+"%")])]),t("div",{staticClass:"chance-bar-visual"},e._l(n.lootdrop.lootdrop_entries||[],(function(i,a){return t("div",{key:"cb-"+a,staticClass:"chance-segment",style:{width:i.chance/Math.max(e.getTotalChance(n),100)*100+"%",background:e.getChanceColor(a)},attrs:{title:(i.item?i.item.Name:"Item #"+i.item_id)+": "+i.chance+"%"}})})),0)]):e._e(),t("div",{staticClass:"p-2"},[n._addingItem?t("div",{staticClass:"add-item-search-wrap"},[t("div",{staticClass:"d-flex align-items-center"},[t("div",{staticClass:"position-relative flex-grow-1"},[t("input",{directives:[{name:"model",rawName:"v-model",value:n._itemSearchQuery,expression:"le._itemSearchQuery"}],ref:"itemSearch-"+i,refInFor:!0,staticClass:"form-control form-control-sm",attrs:{type:"text",placeholder:"Search items by name or ID...",autocomplete:"off"},domProps:{value:n._itemSearchQuery},on:{input:[function(t){t.target.composing||e.$set(n,"_itemSearchQuery",t.target.value)},function(t){return e.searchItems(i)}],keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"])?null:(t.preventDefault(),e.navigateResults(i,1))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"])?null:(t.preventDefault(),e.navigateResults(i,-1))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.selectHighlightedItem(i))},function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"escape",void 0,t.key,void 0))return null;n._addingItem=!1,e.$forceUpdate()}]}}),n._searchResults&&n._searchResults.length>0?t("div",{staticClass:"item-search-dropdown",style:e.getDropdownPosition(i)},[e._l(n._searchResults,(function(a,r){return t("div",{key:"sr-"+a.id,staticClass:"item-search-result",class:{highlighted:n._highlightIndex===r},on:{click:function(t){return e.addSearchedItem(i,a)},mouseenter:function(t){n._highlightIndex=r,e.$forceUpdate()}}},[t("div",{staticClass:"d-flex align-items-center"},[t("item-popover",{staticClass:"d-inline-block mr-2",attrs:{item:a,size:"sm"}}),t("small",{staticStyle:{opacity:".4","margin-left":"auto"}},[e._v("ID: "+e._s(a.id))])],1)])})),n._searchResults.length>=20?t("div",{staticClass:"text-center p-1",staticStyle:{opacity:".3","font-size":".75em"}},[e._v("\n                            Showing first 20 results  refine your search\n                          ")]):e._e()],2):e._e(),n._itemSearchQuery&&n._itemSearchQuery.length>=2&&n._searchResults&&0===n._searchResults.length&&!n._searching?t("div",{staticClass:"item-search-dropdown",style:e.getDropdownPosition(i)},[t("div",{staticClass:"text-center p-2",staticStyle:{opacity:".4","font-size":".85em"}},[e._v("No items found")])]):e._e(),n._searching?t("div",{staticClass:"item-search-dropdown",style:e.getDropdownPosition(i)},[t("div",{staticClass:"text-center p-2",staticStyle:{opacity:".5"}},[t("i",{staticClass:"fa fa-spinner fa-spin mr-1"}),e._v(" Searching...")])]):e._e()]),t("b-button",{staticClass:"ml-2",attrs:{size:"sm",variant:"outline-secondary",title:"Cancel"},on:{click:function(t){n._addingItem=!1,n._searchResults=[],e.$forceUpdate()}}},[t("i",{staticClass:"fa fa-times"})])],1)]):t("b-button",{attrs:{size:"sm",variant:"outline-success"},on:{click:function(t){return e.startAddItem(i)}}},[t("i",{staticClass:"fa fa-plus mr-1"}),e._v(" Add Item\n                  ")])],1)]):e._e()])})),t("div",{staticClass:"p-3 text-center"},[t("b-button",{attrs:{size:"sm",variant:"outline-info"},on:{click:e.addLootdrop}},[t("i",{staticClass:"fa fa-plus mr-1"}),e._v(" Add Loot Drop\n              ")])],1)],2)]),t("div",{staticClass:"text-right mt-2 mb-3 mr-2"},[t("b-button",{attrs:{size:"sm",variant:"outline-danger"},on:{click:e.deleteLoottable}},[t("i",{staticClass:"fa fa-trash mr-1"}),e._v(" Delete Loot Table\n          ")])],1)],1):e._e()],1)]),e.notification?t("div",{staticClass:"loot-notification",class:e.notification.type},[e._v("\n    "+e._s(e.notification.message)+"\n  ")]):e._e()])},a=[],r=(n("ac4d"),n("8a81"),n("1c4c"),n("6b54"),n("8e6e"),n("28a5"),n("4f7f"),n("768b")),s=(n("ffc1"),n("bd86")),o=(n("7514"),n("5df3"),n("9a04")),l=n("75fc"),c=(n("6762"),n("2fdb"),n("456d"),n("f559"),n("c5f6"),n("96cf"),n("3b8d")),d=n("935a"),u=n("46f9"),p=n("02f6"),h=n("cd97"),m=n("fb61"),f=n("a78e"),v=n("80b0"),g=n("a7a1"),b=n("b3b6"),_=(n("2397"),n("d225")),y=n("b0b4"),w=n("308d"),C=n("6bb5"),x=n("4e2b"),E=(n("a481"),n("9ab4")),N=n("bc3a"),k=n.n(N),O=n("d3e6");function L(e,t,n){return t=Object(C["a"])(t),Object(w["a"])(e,S()?Reflect.construct(t,n||[],Object(C["a"])(e).constructor):t.apply(e,n))}function S(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(S=function(){return!!e})()}var R=function(e){var t=this;return{createLootdrop:function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(E["d"])(t,void 0,void 0,regeneratorRuntime.mark((function t(){var a,r,s,o,l,c,d,u,p,h,m,f;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(null!==n&&void 0!==n){t.next=2;break}throw new O["c"]("lootdrop","Required parameter lootdrop was null or undefined when calling createLootdrop.");case 2:for(u in a="/lootdrop",r=new URL(a,"https://example.com"),e&&(s=e.baseOptions),o=Object.assign(Object.assign({method:"PUT"},s),i),l={},c={},l["Content-Type"]="application/json",d=new URLSearchParams(r.search),c)d.set(u,c[u]);for(p in i.query)d.set(p,i.query[p]);return r.search=new URLSearchParams(d).toString(),h=s&&s.headers?s.headers:{},o.headers=Object.assign(Object.assign(Object.assign({},l),h),i.headers),m="string"!==typeof n,f=m&&e&&e.isJsonMime?e.isJsonMime(o.headers["Content-Type"]):m,o.data=f?JSON.stringify(void 0!==n?n:{}):n||"",t.abrupt("return",{url:r.pathname+r.search+r.hash,options:o});case 19:case"end":return t.stop()}}),t)})))},deleteLootdrop:function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(E["d"])(t,void 0,void 0,regeneratorRuntime.mark((function t(){var a,r,s,o,l,c,d,u,p,h;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(null!==n&&void 0!==n){t.next=2;break}throw new O["c"]("id","Required parameter id was null or undefined when calling deleteLootdrop.");case 2:for(u in a="/lootdrop/{id}".replace("{".concat("id","}"),encodeURIComponent(String(n))),r=new URL(a,"https://example.com"),e&&(s=e.baseOptions),o=Object.assign(Object.assign({method:"DELETE"},s),i),l={},c={},d=new URLSearchParams(r.search),c)d.set(u,c[u]);for(p in i.query)d.set(p,i.query[p]);return r.search=new URLSearchParams(d).toString(),h=s&&s.headers?s.headers:{},o.headers=Object.assign(Object.assign(Object.assign({},l),h),i.headers),t.abrupt("return",{url:r.pathname+r.search+r.hash,options:o});case 15:case"end":return t.stop()}}),t)})))},getLootdrop:function(n,i,a){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return Object(E["d"])(t,void 0,void 0,regeneratorRuntime.mark((function t(){var s,o,l,c,d,u,p,h,m,f;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(null!==n&&void 0!==n){t.next=2;break}throw new O["c"]("id","Required parameter id was null or undefined when calling getLootdrop.");case 2:for(h in s="/lootdrop/{id}".replace("{".concat("id","}"),encodeURIComponent(String(n))),o=new URL(s,"https://example.com"),e&&(l=e.baseOptions),c=Object.assign(Object.assign({method:"GET"},l),r),d={},u={},void 0!==i&&(u["includes"]=i),void 0!==a&&(u["select"]=a),p=new URLSearchParams(o.search),u)p.set(h,u[h]);for(m in r.query)p.set(m,r.query[m]);return o.search=new URLSearchParams(p).toString(),f=l&&l.headers?l.headers:{},c.headers=Object.assign(Object.assign(Object.assign({},d),f),r.headers),t.abrupt("return",{url:o.pathname+o.search+o.hash,options:c});case 17:case"end":return t.stop()}}),t)})))},getLootdropsBulk:function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(E["d"])(t,void 0,void 0,regeneratorRuntime.mark((function t(){var a,r,s,o,l,c,d,u,p,h,m,f;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(null!==n&&void 0!==n){t.next=2;break}throw new O["c"]("body","Required parameter body was null or undefined when calling getLootdropsBulk.");case 2:for(u in a="/lootdrops/bulk",r=new URL(a,"https://example.com"),e&&(s=e.baseOptions),o=Object.assign(Object.assign({method:"POST"},s),i),l={},c={},l["Content-Type"]="application/json",d=new URLSearchParams(r.search),c)d.set(u,c[u]);for(p in i.query)d.set(p,i.query[p]);return r.search=new URLSearchParams(d).toString(),h=s&&s.headers?s.headers:{},o.headers=Object.assign(Object.assign(Object.assign({},l),h),i.headers),m="string"!==typeof n,f=m&&e&&e.isJsonMime?e.isJsonMime(o.headers["Content-Type"]):m,o.data=f?JSON.stringify(void 0!==n?n:{}):n||"",t.abrupt("return",{url:r.pathname+r.search+r.hash,options:o});case 19:case"end":return t.stop()}}),t)})))},getLootdropsCount:function(n,i,a,r,s,o,l,c,d){var u=arguments.length>9&&void 0!==arguments[9]?arguments[9]:{};return Object(E["d"])(t,void 0,void 0,regeneratorRuntime.mark((function t(){var p,h,m,f,v,g,b,_,y,w;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(_ in p="/lootdrops/count",h=new URL(p,"https://example.com"),e&&(m=e.baseOptions),f=Object.assign(Object.assign({method:"GET"},m),u),v={},g={},void 0!==n&&(g["includes"]=n),void 0!==i&&(g["where"]=i),void 0!==a&&(g["whereOr"]=a),void 0!==r&&(g["groupBy"]=r),void 0!==s&&(g["limit"]=s),void 0!==o&&(g["page"]=o),void 0!==l&&(g["orderBy"]=l),void 0!==c&&(g["orderDirection"]=c),void 0!==d&&(g["select"]=d),b=new URLSearchParams(h.search),g)b.set(_,g[_]);for(y in u.query)b.set(y,u.query[y]);return h.search=new URLSearchParams(b).toString(),w=m&&m.headers?m.headers:{},f.headers=Object.assign(Object.assign(Object.assign({},v),w),u.headers),t.abrupt("return",{url:h.pathname+h.search+h.hash,options:f});case 22:case"end":return t.stop()}}),t)})))},listLootdrops:function(n,i,a,r,s,o,l,c,d){var u=arguments.length>9&&void 0!==arguments[9]?arguments[9]:{};return Object(E["d"])(t,void 0,void 0,regeneratorRuntime.mark((function t(){var p,h,m,f,v,g,b,_,y,w;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(_ in p="/lootdrops",h=new URL(p,"https://example.com"),e&&(m=e.baseOptions),f=Object.assign(Object.assign({method:"GET"},m),u),v={},g={},void 0!==n&&(g["includes"]=n),void 0!==i&&(g["where"]=i),void 0!==a&&(g["whereOr"]=a),void 0!==r&&(g["groupBy"]=r),void 0!==s&&(g["limit"]=s),void 0!==o&&(g["page"]=o),void 0!==l&&(g["orderBy"]=l),void 0!==c&&(g["orderDirection"]=c),void 0!==d&&(g["select"]=d),b=new URLSearchParams(h.search),g)b.set(_,g[_]);for(y in u.query)b.set(y,u.query[y]);return h.search=new URLSearchParams(b).toString(),w=m&&m.headers?m.headers:{},f.headers=Object.assign(Object.assign(Object.assign({},v),w),u.headers),t.abrupt("return",{url:h.pathname+h.search+h.hash,options:f});case 22:case"end":return t.stop()}}),t)})))},updateLootdrop:function(n,i){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object(E["d"])(t,void 0,void 0,regeneratorRuntime.mark((function t(){var r,s,o,l,c,d,u,p,h,m,f,v;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(null!==n&&void 0!==n){t.next=2;break}throw new O["c"]("id","Required parameter id was null or undefined when calling updateLootdrop.");case 2:if(null!==i&&void 0!==i){t.next=4;break}throw new O["c"]("lootdrop","Required parameter lootdrop was null or undefined when calling updateLootdrop.");case 4:for(p in r="/lootdrop/{id}".replace("{".concat("id","}"),encodeURIComponent(String(n))),s=new URL(r,"https://example.com"),e&&(o=e.baseOptions),l=Object.assign(Object.assign({method:"PATCH"},o),a),c={},d={},c["Content-Type"]="application/json",u=new URLSearchParams(s.search),d)u.set(p,d[p]);for(h in a.query)u.set(h,a.query[h]);return s.search=new URLSearchParams(u).toString(),m=o&&o.headers?o.headers:{},l.headers=Object.assign(Object.assign(Object.assign({},c),m),a.headers),f="string"!==typeof i,v=f&&e&&e.isJsonMime?e.isJsonMime(l.headers["Content-Type"]):f,l.data=v?JSON.stringify(void 0!==i?i:{}):i||"",t.abrupt("return",{url:s.pathname+s.search+s.hash,options:l});case 21:case"end":return t.stop()}}),t)})))}}},I=function(e){return{createLootdrop:function(t,n){return Object(E["d"])(this,void 0,void 0,regeneratorRuntime.mark((function i(){var a;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,R(e).createLootdrop(t,n);case 2:return a=i.sent,i.abrupt("return",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k.a,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:O["a"],i=Object.assign(Object.assign({},a.options),{url:((null===e||void 0===e?void 0:e.basePath)||n)+a.url});return t.request(i)}));case 4:case"end":return i.stop()}}),i)})))},deleteLootdrop:function(t,n){return Object(E["d"])(this,void 0,void 0,regeneratorRuntime.mark((function i(){var a;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,R(e).deleteLootdrop(t,n);case 2:return a=i.sent,i.abrupt("return",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k.a,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:O["a"],i=Object.assign(Object.assign({},a.options),{url:((null===e||void 0===e?void 0:e.basePath)||n)+a.url});return t.request(i)}));case 4:case"end":return i.stop()}}),i)})))},getLootdrop:function(t,n,i,a){return Object(E["d"])(this,void 0,void 0,regeneratorRuntime.mark((function r(){var s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,R(e).getLootdrop(t,n,i,a);case 2:return s=r.sent,r.abrupt("return",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k.a,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:O["a"],i=Object.assign(Object.assign({},s.options),{url:((null===e||void 0===e?void 0:e.basePath)||n)+s.url});return t.request(i)}));case 4:case"end":return r.stop()}}),r)})))},getLootdropsBulk:function(t,n){return Object(E["d"])(this,void 0,void 0,regeneratorRuntime.mark((function i(){var a;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,R(e).getLootdropsBulk(t,n);case 2:return a=i.sent,i.abrupt("return",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k.a,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:O["a"],i=Object.assign(Object.assign({},a.options),{url:((null===e||void 0===e?void 0:e.basePath)||n)+a.url});return t.request(i)}));case 4:case"end":return i.stop()}}),i)})))},getLootdropsCount:function(t,n,i,a,r,s,o,l,c,d){return Object(E["d"])(this,void 0,void 0,regeneratorRuntime.mark((function u(){var p;return regeneratorRuntime.wrap((function(u){while(1)switch(u.prev=u.next){case 0:return u.next=2,R(e).getLootdropsCount(t,n,i,a,r,s,o,l,c,d);case 2:return p=u.sent,u.abrupt("return",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k.a,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:O["a"],i=Object.assign(Object.assign({},p.options),{url:((null===e||void 0===e?void 0:e.basePath)||n)+p.url});return t.request(i)}));case 4:case"end":return u.stop()}}),u)})))},listLootdrops:function(t,n,i,a,r,s,o,l,c,d){return Object(E["d"])(this,void 0,void 0,regeneratorRuntime.mark((function u(){var p;return regeneratorRuntime.wrap((function(u){while(1)switch(u.prev=u.next){case 0:return u.next=2,R(e).listLootdrops(t,n,i,a,r,s,o,l,c,d);case 2:return p=u.sent,u.abrupt("return",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k.a,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:O["a"],i=Object.assign(Object.assign({},p.options),{url:((null===e||void 0===e?void 0:e.basePath)||n)+p.url});return t.request(i)}));case 4:case"end":return u.stop()}}),u)})))},updateLootdrop:function(t,n,i){return Object(E["d"])(this,void 0,void 0,regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,R(e).updateLootdrop(t,n,i);case 2:return r=a.sent,a.abrupt("return",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k.a,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:O["a"],i=Object.assign(Object.assign({},r.options),{url:((null===e||void 0===e?void 0:e.basePath)||n)+r.url});return t.request(i)}));case 4:case"end":return a.stop()}}),a)})))}}},j=function(e){function t(){return Object(_["a"])(this,t),L(this,t,arguments)}return Object(x["a"])(t,e),Object(y["a"])(t,[{key:"createLootdrop",value:function(e,t){var n=this;return I(this.configuration).createLootdrop(e.lootdrop,t).then((function(e){return e(n.axios,n.basePath)}))}},{key:"deleteLootdrop",value:function(e,t){var n=this;return I(this.configuration).deleteLootdrop(e.id,t).then((function(e){return e(n.axios,n.basePath)}))}},{key:"getLootdrop",value:function(e,t){var n=this;return I(this.configuration).getLootdrop(e.id,e.includes,e.select,t).then((function(e){return e(n.axios,n.basePath)}))}},{key:"getLootdropsBulk",value:function(e,t){var n=this;return I(this.configuration).getLootdropsBulk(e.body,t).then((function(e){return e(n.axios,n.basePath)}))}},{key:"getLootdropsCount",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return I(this.configuration).getLootdropsCount(t.includes,t.where,t.whereOr,t.groupBy,t.limit,t.page,t.orderBy,t.orderDirection,t.select,n).then((function(t){return t(e.axios,e.basePath)}))}},{key:"listLootdrops",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return I(this.configuration).listLootdrops(t.includes,t.where,t.whereOr,t.groupBy,t.limit,t.page,t.orderBy,t.orderDirection,t.select,n).then((function(t){return t(e.axios,e.basePath)}))}},{key:"updateLootdrop",value:function(e,t){var n=this;return I(this.configuration).updateLootdrop(e.id,e.lootdrop,t).then((function(e){return e(n.axios,n.basePath)}))}}])}(O["b"]),P=n("9f2d"),A=n("0d95"),T=n("e40e"),D=n("ae45");function U(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=q(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,o=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){o=!0,r=e},f:function(){try{s||null==n.return||n.return()}finally{if(o)throw r}}}}function q(e,t){if(e){if("string"==typeof e)return M(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?M(e,t):void 0}}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach((function(t){Object(s["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var $={name:"Loot",components:{EqCashDisplay:f["a"],NpcPopover:m["a"],ItemPopover:h["a"],EqCheckbox:u["a"],ContentArea:p["a"],EqWindow:d["a"]},data:function(){return{tableData:[],selectedTable:null,editTable:{},editEntries:[],originalSnapshot:null,originalValues:{},pendingChanges:{tableFields:{},addedLootdrops:[],deletedLootdrops:[],addedItems:{},deletedItems:{},editedFields:{}},search:"",currentPage:1,totalRows:0,loading:!1,saving:!1,hasUnsavedChanges:!1,notification:null,npcsExpanded:!1,allExpanded:!1}},mounted:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.init(),window.addEventListener("keydown",this.handleKeydown),window.addEventListener("beforeunload",this.beforeUnload);case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),beforeDestroy:function(){window.removeEventListener("keydown",this.handleKeydown),window.removeEventListener("beforeunload",this.beforeUnload)},watch:{$route:function(){this.init()}},methods:{handleKeydown:function(e){(e.ctrlKey||e.metaKey)&&"s"===e.key&&(e.preventDefault(),this.hasUnsavedChanges&&this.saveLoottable())},beforeUnload:function(e){this.hasUnsavedChanges&&(e.preventDefault(),e.returnValue="")},markDirty:function(){this.hasUnsavedChanges=!0},isFieldEdited:function(e){return!!this.pendingChanges.editedFields[e]},trackFieldEdit:function(e,t,n){var i=Number(t),a=Number(n),r=!isNaN(i)&&!isNaN(a),s=r?i===a:String(t)===String(n);s?this.$delete(this.pendingChanges.editedFields,e):this.$set(this.pendingChanges.editedFields,e,{old:t,new:n}),e.startsWith("table-")&&(s?this.$delete(this.pendingChanges.tableFields,e):this.$set(this.pendingChanges.tableFields,e,{old:t,new:n})),this.updateHasChanges()},updateHasChanges:function(){this.hasUnsavedChanges=Object.keys(this.pendingChanges.tableFields).length>0||this.pendingChanges.addedLootdrops.length>0||this.pendingChanges.deletedLootdrops.length>0||Object.keys(this.pendingChanges.addedItems).length>0||Object.keys(this.pendingChanges.deletedItems).length>0||Object.keys(this.pendingChanges.editedFields).length>0},resetPendingChanges:function(){this.pendingChanges={tableFields:{},addedLootdrops:[],deletedLootdrops:[],addedItems:{},deletedItems:{},editedFields:{}},this.hasUnsavedChanges=!1},toggleAllLootdrops:function(){var e=this;this.allExpanded=!this.allExpanded,this.editEntries.forEach((function(t){t._expanded=e.allExpanded})),this.$forceUpdate()},goToNpc:function(e){window.open(window.location.origin+"/npc/"+e,"_blank")},showNotification:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success";this.notification={message:e,type:n},setTimeout((function(){t.notification=null}),3e3)},getItemCount:function(e){return e.loottable_entries?e.loottable_entries.reduce((function(e,t){return e+(t.lootdrop&&t.lootdrop.lootdrop_entries?t.lootdrop.lootdrop_entries.length:0)}),0):0},getTotalChance:function(e){return e.lootdrop&&e.lootdrop.lootdrop_entries?e.lootdrop.lootdrop_entries.reduce((function(e,t){return e+(t.chance||0)}),0):0},getChanceColor:function(e){var t=["#42a5f5","#66bb6a","#ffa726","#ef5350","#ab47bc","#26c6da","#d4e157","#ff7043","#78909c","#ec407a","#5c6bc0","#29b6f6","#9ccc65","#ffca28","#8d6e63"];return t[e%t.length]},debouncedSearch:Object(D["debounce"])((function(){this.currentPage=1,this.updateQueryState()}),400),doSearch:function(){this.currentPage=1,this.updateQueryState()},listLootTables:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.loading=!0,e.prev=1,t=(new T["a"]).page(this.currentPage).includes(["NpcTypes","LoottableEntries","LoottableEntries.Lootdrop","LoottableEntries.Lootdrop.LootdropEntries","LoottableEntries.Lootdrop.LootdropEntries.Item"]).limit(50),this.search.length>0&&(isNaN(this.search)||""===this.search.trim()?t.where("name","like",this.search):t.where("id","=",this.search.trim())),e.next=6,Object(o["a"])(g["LoottableApi"],Object(l["a"])(A["SpireApi"].cfg())).listLoottables(t.get());case 6:n=e.sent,200===n.status&&(this.tableData=n.data),e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](1),console.error("Error loading loot tables",e.t0);case 13:this.loading=!1;case 14:case"end":return e.stop()}}),e,this,[[1,10]])})));function t(){return e.apply(this,arguments)}return t}(),getTotalLootTables:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t=(new T["a"]).select(["id"]).limit(1e8),this.search.length>0&&(isNaN(this.search)||""===this.search.trim()?t.where("name","like",this.search):t.where("id","=",this.search.trim())),e.next=5,Object(o["a"])(g["LoottableApi"],Object(l["a"])(A["SpireApi"].cfg())).listLoottables(t.get());case 5:n=e.sent,this.totalRows=n.data.length,e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),console.error("Error getting count",e.t0);case 12:case"end":return e.stop()}}),e,this,[[0,9]])})));function t(){return e.apply(this,arguments)}return t}(),init:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.loadQueryState(),e.next=3,Promise.all([this.listLootTables(),this.getTotalLootTables()]);case 3:this.$route.query.loottableId&&this.tableData&&(t=parseInt(this.$route.query.loottableId),n=this.tableData.find((function(e){return e.id===t})),n&&this.selectLoottable(n));case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),selectLoottable:function(e){this.hasUnsavedChanges&&!confirm("You have unsaved changes. Discard?")||(this.selectedTable=e,this.editTable={id:e.id,name:e.name,mincash:e.mincash,maxcash:e.maxcash,avgcoin:e.avgcoin,min_expansion:e.min_expansion,max_expansion:e.max_expansion,content_flags:e.content_flags,content_flags_disabled:e.content_flags_disabled,done:e.done},this.editEntries=(e.loottable_entries||[]).map((function(e){return B(B({},e),{},{_expanded:!1,_addingItem:!1,_newItemId:null,_newItemChance:10,lootdrop:B(B({},e.lootdrop),{},{lootdrop_entries:e.lootdrop.lootdrop_entries?Object(l["a"])(e.lootdrop.lootdrop_entries):[]})})})),this.originalValues={table:B({},this.editTable),entries:JSON.parse(JSON.stringify(this.editEntries.map((function(e){var t;return{probability:e.probability,multiplier:e.multiplier,droplimit:e.droplimit,mindrop:e.mindrop,lootdrop_entries:((null===(t=e.lootdrop)||void 0===t?void 0:t.lootdrop_entries)||[]).map((function(e){return{chance:e.chance,multiplier:e.multiplier,equip_item:e.equip_item,npc_min_level:e.npc_min_level,npc_max_level:e.npc_max_level,trivial_min_level:e.trivial_min_level,trivial_max_level:e.trivial_max_level}}))}}))))},this.resetPendingChanges(),this.originalSnapshot=JSON.stringify({editTable:this.editTable,editEntries:this.editEntries}),this.hasUnsavedChanges=!1)},saveLoottable:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t,n,i,a,s,c,d,u,p,h,m,f,v,_,y,w,C,x,E,N,k,O,L,S,R,I,T,D,q,M,F,B,$,G,H,z,V,J,Q,Y,W,K,X,Z,ee,te,ne,ie,ae,re,se,oe,le=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.saving=!0,e.prev=1,t=Object(o["a"])(j,Object(l["a"])(A["SpireApi"].cfg())),n=Object(o["a"])(b["a"],Object(l["a"])(A["SpireApi"].cfg())),i=U(this.pendingChanges.addedLootdrops),e.prev=5,i.s();case 7:if((a=i.n()).done){e.next=28;break}return s=a.value,e.prev=9,e.next=12,t.createLootdrop({lootdrop:{name:s.lootdrop.name}});case 12:if(c=e.sent,d=Array.isArray(c.data)?c.data[0]:c.data,!d||!d.id){e.next=20;break}return s.lootdrop_id=d.id,s.lootdrop.id=d.id,e.next=19,n.createLoottableEntry({loottableEntry:{loottable_id:this.editTable.id,lootdrop_id:d.id,multiplier:s.multiplier||1,droplimit:s.droplimit||0,mindrop:s.mindrop||0,probability:s.probability||100}});case 19:delete s._pendingAdd;case 20:e.next=26;break;case 22:e.prev=22,e.t0=e["catch"](9),console.error("Error creating lootdrop:",e.t0),this.showNotification("Error creating lootdrop: "+(e.t0.message||e.t0),"error");case 26:e.next=7;break;case 28:e.next=33;break;case 30:e.prev=30,e.t1=e["catch"](5),i.e(e.t1);case 33:return e.prev=33,i.f(),e.finish(33);case 36:u=Object(o["a"])(P["a"],Object(l["a"])(A["SpireApi"].cfg())),p=0,h=Object.entries(this.pendingChanges.addedItems);case 38:if(!(p<h.length)){e.next=60;break}m=Object(r["a"])(h[p],2),f=m[0],v=m[1],_=this.editEntries[f],y=U(v),e.prev=42,C=regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=w.value,e.prev=1,e.next=4,u.createLootdropEntry({lootdropEntry:{lootdrop_id:_.lootdrop_id,item_id:t.item.id,chance:t.lde.chance||10,multiplier:t.lde.multiplier||1,equip_item:t.lde.equip_item||0,item_charges:t.lde.item_charges||1,npc_min_level:t.lde.npc_min_level||0,npc_max_level:t.lde.npc_max_level||0,trivial_min_level:t.lde.trivial_min_level||0,trivial_max_level:t.lde.trivial_max_level||0}});case 4:n=_.lootdrop.lootdrop_entries.find((function(e){return e.item_id===t.item.id&&e._pendingAdd})),n&&delete n._pendingAdd,e.next=12;break;case 8:e.prev=8,e.t0=e["catch"](1),console.error("Error creating item:",e.t0),le.showNotification("Error adding item: "+(e.t0.message||e.t0),"error");case 12:case"end":return e.stop()}}),e,null,[[1,8]])})),y.s();case 45:if((w=y.n()).done){e.next=49;break}return e.delegateYield(C(),"t2",47);case 47:e.next=45;break;case 49:e.next=54;break;case 51:e.prev=51,e.t3=e["catch"](42),y.e(e.t3);case 54:return e.prev=54,y.f(),e.finish(54);case 57:p++,e.next=38;break;case 60:if(!(Object.keys(this.pendingChanges.tableFields).length>0)){e.next=64;break}return x=Object(o["a"])(g["LoottableApi"],Object(l["a"])(A["SpireApi"].cfg())),e.next=64,x.updateLoottable({id:this.editTable.id,loottable:{name:this.editTable.name,mincash:this.editTable.mincash||0,maxcash:this.editTable.maxcash||0,avgcoin:this.editTable.avgcoin||0,min_expansion:this.editTable.min_expansion||-1,max_expansion:this.editTable.max_expansion||-1,content_flags:this.editTable.content_flags||"",content_flags_disabled:this.editTable.content_flags_disabled||"",done:this.editTable.done||0}});case 64:E=new Set,N=0,k=Object.entries(this.pendingChanges.editedFields);case 66:if(!(N<k.length)){e.next=85;break}if(O=Object(r["a"])(k[N],2),L=O[0],O[1],!L.startsWith("le-")||L.startsWith("lde-")){e.next=82;break}if(S=L.split("-"),R=parseInt(S[1]),I=this.editEntries[R],!I||I._pendingAdd||I._pendingDelete||E.has(R)){e.next=82;break}return E.add(R),e.prev=74,e.next=77,A["SpireApi"].v1().patch("/loottable_entry/"+I.loottable_id,{loottable_id:I.loottable_id,lootdrop_id:I.lootdrop_id,multiplier:I.multiplier||1,droplimit:I.droplimit||0,mindrop:I.mindrop||0,probability:I.probability||100},{params:{lootdrop_id:I.lootdrop_id}});case 77:e.next=82;break;case 79:e.prev=79,e.t4=e["catch"](74),console.error("Error updating loottable entry:",e.t4);case 82:N++,e.next=66;break;case 85:T=new Set,D=0,q=Object.entries(this.pendingChanges.editedFields);case 87:if(!(D<q.length)){e.next=109;break}if(M=Object(r["a"])(q[D],2),F=M[0],M[1],!F.startsWith("lde-")){e.next=106;break}if(B=F.split("-"),$=parseInt(B[1]),G=parseInt(B[2]),H=this.editEntries[$],z=H&&H.lootdrop&&H.lootdrop.lootdrop_entries?H.lootdrop.lootdrop_entries[G]:null,V=z?z.lootdrop_id+"-"+z.item_id:null,!z||z._pendingAdd||z._pendingDelete||!V||T.has(V)){e.next=106;break}return T.add(V),e.prev=98,e.next=101,A["SpireApi"].v1().patch("/lootdrop_entry/"+z.lootdrop_id,{lootdrop_id:z.lootdrop_id,item_id:z.item_id,item_charges:z.item_charges||0,equip_item:z.equip_item||0,chance:z.chance||0,disabled_chance:z.disabled_chance||0,trivial_min_level:z.trivial_min_level||0,trivial_max_level:z.trivial_max_level||0,multiplier:z.multiplier||1,npc_min_level:z.npc_min_level||0,npc_max_level:z.npc_max_level||0},{params:{item_id:z.item_id}});case 101:e.next=106;break;case 103:e.prev=103,e.t5=e["catch"](98),console.error("Error updating lootdrop entry:",e.t5);case 106:D++,e.next=87;break;case 109:J=0,Q=Object.entries(this.pendingChanges.deletedItems);case 110:if(!(J<Q.length)){e.next=141;break}Y=Object(r["a"])(Q[J],2),W=Y[0],K=Y[1],X=this.editEntries[W],Z=U(K),e.prev=114,Z.s();case 116:if((ee=Z.n()).done){e.next=130;break}if(te=ee.value,ne=X.lootdrop.lootdrop_entries[te],!ne||ne._pendingAdd){e.next=128;break}return e.prev=120,e.next=123,A["SpireApi"].v1().delete("/lootdrop_entry/"+ne.lootdrop_id,{params:{item_id:ne.item_id}});case 123:e.next=128;break;case 125:e.prev=125,e.t6=e["catch"](120),console.error("Error deleting item:",e.t6);case 128:e.next=116;break;case 130:e.next=135;break;case 132:e.prev=132,e.t7=e["catch"](114),Z.e(e.t7);case 135:return e.prev=135,Z.f(),e.finish(135);case 138:J++,e.next=110;break;case 141:ie=U(this.pendingChanges.deletedLootdrops),e.prev=142,ie.s();case 144:if((ae=ie.n()).done){e.next=158;break}if(re=ae.value,se=this.editEntries[re],!se||se._pendingAdd){e.next=156;break}return e.prev=148,e.next=151,A["SpireApi"].v1().delete("/loottable_entry/"+se.loottable_id,{params:{lootdrop_id:se.lootdrop_id}});case 151:e.next=156;break;case 153:e.prev=153,e.t8=e["catch"](148),console.error("Error deleting lootdrop:",e.t8);case 156:e.next=144;break;case 158:e.next=163;break;case 160:e.prev=160,e.t9=e["catch"](142),ie.e(e.t9);case 163:return e.prev=163,ie.f(),e.finish(163);case 166:return this.resetPendingChanges(),this.showNotification("Loot table saved successfully!"),e.next=170,this.listLootTables();case 170:oe=this.tableData.find((function(e){return e.id===le.editTable.id})),oe&&(this.selectedTable=oe,this.selectLoottable(oe)),e.next=178;break;case 174:e.prev=174,e.t10=e["catch"](1),console.error("Save error:",e.t10),this.showNotification("Error saving: "+(e.t10.message||"Unknown error"),"error");case 178:this.saving=!1;case 179:case"end":return e.stop()}}),e,this,[[1,174],[5,30,33,36],[9,22],[42,51,54,57],[74,79],[98,103],[114,132,135,138],[120,125],[142,160,163,166],[148,153]])})));function t(){return e.apply(this,arguments)}return t}(),createNewLoottable:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t,n,i,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t=Object(o["a"])(g["LoottableApi"],Object(l["a"])(A["SpireApi"].cfg())),e.next=4,t.createLoottable({loottable:{name:"New Loot Table",mincash:0,maxcash:0}});case 4:if(n=e.sent,i=Array.isArray(n.data)?n.data[0]:n.data,!i||!i.id){e.next=12;break}return this.showNotification("Created loot table #"+i.id),e.next=10,this.listLootTables();case 10:a=this.tableData.find((function(e){return e.id===i.id})),a&&this.selectLoottable(a);case 12:e.next=17;break;case 14:e.prev=14,e.t0=e["catch"](0),this.showNotification("Error creating loot table","error");case 17:case"end":return e.stop()}}),e,this,[[0,14]])})));function t(){return e.apply(this,arguments)}return t}(),cloneLoottable:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t,n,i,a,r,s,c,d,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.selectedTable){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,t=Object(o["a"])(g["LoottableApi"],Object(l["a"])(A["SpireApi"].cfg())),e.next=6,t.createLoottable({loottable:{name:(this.editTable.name||"")+" (Clone)",mincash:this.editTable.mincash||0,maxcash:this.editTable.maxcash||0,avgcoin:this.editTable.avgcoin||0}});case 6:if(n=e.sent,i=Array.isArray(n.data)?n.data[0]:n.data,!i||!i.id){e.next=34;break}a=i.id,r=Object(o["a"])(b["a"],Object(l["a"])(A["SpireApi"].cfg())),s=U(this.editEntries),e.prev=12,s.s();case 14:if((c=s.n()).done){e.next=20;break}return d=c.value,e.next=18,r.createLoottableEntry({loottableEntry:{loottable_id:a,lootdrop_id:d.lootdrop_id,multiplier:d.multiplier||1,droplimit:d.droplimit||0,mindrop:d.mindrop||0,probability:d.probability||100}});case 18:e.next=14;break;case 20:e.next=25;break;case 22:e.prev=22,e.t0=e["catch"](12),s.e(e.t0);case 25:return e.prev=25,s.f(),e.finish(25);case 28:return this.showNotification("Cloned as loot table #"+a),this.hasUnsavedChanges=!1,e.next=32,this.listLootTables();case 32:u=this.tableData.find((function(e){return e.id===a})),u&&this.selectLoottable(u);case 34:e.next=39;break;case 36:e.prev=36,e.t1=e["catch"](2),this.showNotification("Error cloning: "+(e.t1.message||"Unknown error"),"error");case 39:case"end":return e.stop()}}),e,this,[[2,36],[12,22,25,28]])})));function t(){return e.apply(this,arguments)}return t}(),confirmReset:function(){confirm("Discard ALL pending changes? This will revert every add, delete, and edit back to the last saved state.")&&(this.selectLoottable(this.selectedTable),this.showNotification("All pending changes discarded"))},deleteLoottable:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(confirm(' PERMANENTLY DELETE loot table "'+(this.editTable.name||"#"+this.editTable.id)+'" (ID: '+this.editTable.id+")?\n\nThis will destroy the loot table and ALL associated loot drops and item entries. This action is IRREVERSIBLE and cannot be undone.\n\nAre you absolutely sure?")){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,t=Object(o["a"])(g["LoottableApi"],Object(l["a"])(A["SpireApi"].cfg())),e.next=6,t.deleteLoottable({id:this.editTable.id});case 6:return this.showNotification("Deleted loot table #"+this.editTable.id),this.selectedTable=null,this.hasUnsavedChanges=!1,e.next=11,this.listLootTables();case 11:e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](2),this.showNotification("Error deleting","error");case 16:case"end":return e.stop()}}),e,this,[[2,13]])})));function t(){return e.apply(this,arguments)}return t}(),addLootdrop:function(){var e={loottable_id:this.editTable.id,lootdrop_id:null,probability:100,multiplier:1,droplimit:0,mindrop:0,_expanded:!1,_addingItem:!1,_pendingAdd:!0,lootdrop:{id:null,name:(this.editTable.name||"Lootdrop")+" - Drop "+(this.editEntries.length+1),lootdrop_entries:[]}};this.editEntries.push(e),this.pendingChanges.addedLootdrops.push(e),this.showNotification("Queued new lootdrop for creation"),this.updateHasChanges()},removeLootdrop:function(e){var t=this.editEntries[e];if(t._pendingAdd)this.editEntries.splice(e,1),this.pendingChanges.addedLootdrops=this.pendingChanges.addedLootdrops.filter((function(e){return e!==t})),this.showNotification("Cancelled addition of "+(t.lootdrop.name||"lootdrop"));else{if(!confirm('Remove lootdrop "'+(t.lootdrop.name||t.lootdrop_id)+'" from this table?'))return;this.$set(t,"_pendingDelete",!0),this.pendingChanges.deletedLootdrops.push(e),this.showNotification('Queued lootdrop "'+(t.lootdrop.name||t.lootdrop_id)+'" for deletion')}this.updateHasChanges()},getDropdownPosition:function(e){var t=this.$refs["itemSearch-"+e];if(t&&t[0]){var n=t[0].getBoundingClientRect();return{top:n.bottom+"px",left:n.left+"px",width:n.width+"px"}}return{}},startAddItem:function(e){var t=this,n=this.editEntries[e];this.$set(n,"_addingItem",!0),this.$set(n,"_itemSearchQuery",""),this.$set(n,"_searchResults",[]),this.$set(n,"_highlightIndex",-1),this.$set(n,"_searching",!1),this.$nextTick((function(){var n=t.$refs["itemSearch-"+e];n&&n[0]&&n[0].focus()}))},searchItems:Object(D["debounce"])((function(e){var t=this,n=this.editEntries[e],i=(n._itemSearchQuery||"").trim();if(i.length<2)this.$set(n,"_searchResults",[]);else{this.$set(n,"_searching",!0),this.$set(n,"_highlightIndex",-1);var a=new T["a"];isNaN(i)||""===i?a.where("name","like",i):a.where("id","=",i),a.limit(20);var r=Object(o["a"])(g["ItemApi"],Object(l["a"])(A["SpireApi"].cfg()));r.listItems(a.get()).then((function(e){200===e.status?t.$set(n,"_searchResults",e.data||[]):t.$set(n,"_searchResults",[]),t.$set(n,"_searching",!1)})).catch((function(){t.$set(n,"_searchResults",[]),t.$set(n,"_searching",!1)}))}}),300),navigateResults:function(e,t){var n=this.editEntries[e];if(n._searchResults&&0!==n._searchResults.length){var i=(n._highlightIndex||0)+t;i<0&&(i=n._searchResults.length-1),i>=n._searchResults.length&&(i=0),n._highlightIndex=i,this.$forceUpdate()}},selectHighlightedItem:function(e){var t=this.editEntries[e];t._searchResults&&0!==t._searchResults.length?t._highlightIndex<0||this.addSearchedItem(e,t._searchResults[t._highlightIndex]):t._itemSearchQuery&&t._itemSearchQuery.trim().length>=2&&this.searchItemsImmediate(e)},searchItemsImmediate:function(e){var t=this,n=this.editEntries[e],i=(n._itemSearchQuery||"").trim();if(!(i.length<2)){this.$set(n,"_searching",!0);var a=new T["a"];isNaN(i)||""===i?a.where("name","like",i):a.where("id","=",i),a.limit(20);var r=Object(o["a"])(g["ItemApi"],Object(l["a"])(A["SpireApi"].cfg()));r.listItems(a.get()).then((function(e){t.$set(n,"_searchResults",200===e.status&&e.data||[]),t.$set(n,"_highlightIndex",n._searchResults.length>0?0:-1),t.$set(n,"_searching",!1)})).catch((function(){t.$set(n,"_searchResults",[]),t.$set(n,"_searching",!1)}))}},addSearchedItem:function(e,t){var n=this.editEntries[e],i={lootdrop_id:n.lootdrop_id,item_id:t.id,chance:10,multiplier:1,equip_item:0,item_charges:1,npc_min_level:0,npc_max_level:0,trivial_min_level:0,trivial_max_level:0,item:t,_pendingAdd:!0};n.lootdrop.lootdrop_entries.push(i),this.pendingChanges.addedItems[e]||this.$set(this.pendingChanges.addedItems,e,[]),this.pendingChanges.addedItems[e].push({item:t,lde:i}),n._addingItem=!1,n._searchResults=[],this.showNotification("Queued "+(t.Name||t.name||"item #"+t.id)+" for addition"),this.updateHasChanges()},removeItem:function(e,t){var n=this.editEntries[e].lootdrop.lootdrop_entries[t];if(n._pendingAdd)this.editEntries[e].lootdrop.lootdrop_entries.splice(t,1),this.pendingChanges.addedItems[e]&&(this.pendingChanges.addedItems[e]=this.pendingChanges.addedItems[e].filter((function(e){return e.lde.item_id!==n.item_id})),0===this.pendingChanges.addedItems[e].length&&this.$delete(this.pendingChanges.addedItems,e)),this.showNotification("Cancelled addition of "+(n.item?n.item.Name||n.item.name:"item #"+n.item_id));else{if(!confirm("Remove "+(n.item?n.item.Name||n.item.name:"item #"+n.item_id)+"?"))return;this.$set(n,"_pendingDelete",!0),this.pendingChanges.deletedItems[e]||this.$set(this.pendingChanges.deletedItems,e,[]),this.pendingChanges.deletedItems[e].push(t),this.showNotification("Queued "+(n.item?n.item.Name||n.item.name:"item #"+n.item_id)+" for deletion")}this.updateHasChanges()},undoRemoveItem:function(e,t){var n=this.editEntries[e].lootdrop.lootdrop_entries[t];this.$delete(n,"_pendingDelete"),this.pendingChanges.deletedItems[e]&&(this.pendingChanges.deletedItems[e]=this.pendingChanges.deletedItems[e].filter((function(e){return e!==t})),0===this.pendingChanges.deletedItems[e].length&&this.$delete(this.pendingChanges.deletedItems,e)),this.showNotification("Cancelled removal of "+(n.item?n.item.Name||n.item.name:"item #"+n.item_id)),this.updateHasChanges()},undoRemoveLootdrop:function(e){var t=this.editEntries[e];this.$delete(t,"_pendingDelete"),this.pendingChanges.deletedLootdrops=this.pendingChanges.deletedLootdrops.filter((function(t){return t!==e})),this.showNotification('Cancelled removal of lootdrop "'+(t.lootdrop.name||t.lootdrop_id)+'"'),this.updateHasChanges()},refreshCurrentTable:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t,n,i,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.editTable.id,n={},this.editEntries.forEach((function(e){n[e.lootdrop_id]=e._expanded})),e.next=5,this.listLootTables();case 5:i=this.tableData.find((function(e){return e.id===t})),i&&(this.selectedTable=i,this.selectLoottable(i),this.editEntries.forEach((function(e){n[e.lootdrop_id]&&a.$set(e,"_expanded",!0)})));case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),reset:function(){this.currentPage=1,this.search="",this.totalRows=0,this.updateQueryState()},updateQueryState:Object(D["debounce"])((function(){var e={};this.currentPage>0&&(e.page=this.currentPage),""!==this.search&&(e.q=this.search),this.$router.push({path:v["a"].LOOT,query:e}).catch((function(){}))}),600),loadQueryState:function(){this.$route.query.page&&(this.currentPage=parseInt(this.$route.query.page)||1),this.$route.query.q&&(this.search=this.$route.query.q),this.$route.query.loottableId&&(this.search=this.$route.query.loottableId)},paginate:function(){var e=this;setTimeout((function(){e.updateQueryState()}),100)}}},G=$,H=(n("dfa6"),n("2877")),z=Object(H["a"])(G,i,a,!1,null,"06908b8c",null);t["default"]=z.exports},bd86:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("454f"),a=n.n(i),r=n("a6fa");function s(e,t,n){return(t=Object(r["a"])(t))in e?a()(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},c26b:function(e,t,n){"use strict";var i=n("86cc").f,a=n("2aeb"),r=n("dcbc"),s=n("9b43"),o=n("f605"),l=n("4a59"),c=n("01f9"),d=n("d53b"),u=n("7a56"),p=n("9e1e"),h=n("67ab").fastKey,m=n("b39a"),f=p?"_s":"size",v=function(e,t){var n,i=h(t);if("F"!==i)return e._i[i];for(n=e._f;n;n=n.n)if(n.k==t)return n};e.exports={getConstructor:function(e,t,n,c){var d=e((function(e,i){o(e,d,t,"_i"),e._t=t,e._i=a(null),e._f=void 0,e._l=void 0,e[f]=0,void 0!=i&&l(i,n,e[c],e)}));return r(d.prototype,{clear:function(){for(var e=m(this,t),n=e._i,i=e._f;i;i=i.n)i.r=!0,i.p&&(i.p=i.p.n=void 0),delete n[i.i];e._f=e._l=void 0,e[f]=0},delete:function(e){var n=m(this,t),i=v(n,e);if(i){var a=i.n,r=i.p;delete n._i[i.i],i.r=!0,r&&(r.n=a),a&&(a.p=r),n._f==i&&(n._f=a),n._l==i&&(n._l=r),n[f]--}return!!i},forEach:function(e){m(this,t);var n,i=s(e,arguments.length>1?arguments[1]:void 0,3);while(n=n?n.n:this._f){i(n.v,n.k,this);while(n&&n.r)n=n.p}},has:function(e){return!!v(m(this,t),e)}}),p&&i(d.prototype,"size",{get:function(){return m(this,t)[f]}}),d},def:function(e,t,n){var i,a,r=v(e,t);return r?r.v=n:(e._l=r={i:a=h(t,!0),k:t,v:n,p:i=e._l,n:void 0,r:!1},e._f||(e._f=r),i&&(i.n=r),e[f]++,"F"!==a&&(e._i[a]=r)),e},getEntry:v,setStrong:function(e,t,n){c(e,t,(function(e,n){this._t=m(e,t),this._k=n,this._l=void 0}),(function(){var e=this,t=e._k,n=e._l;while(n&&n.r)n=n.p;return e._t&&(e._l=n=n?n.n:e._t._f)?d(0,"keys"==t?n.k:"values"==t?n.v:[n.k,n.v]):(e._t=void 0,d(1))}),n?"entries":"values",!n,!0),u(t)}}},cd1c:function(e,t,n){var i=n("e853");e.exports=function(e,t){return new(i(e))(t)}},cd97:function(e,t,n){"use strict";n("7f7f");var i=function(){var e=this,t=e._self._c;return e.item?t("div",[t("div",{staticStyle:{display:"inline-block"},attrs:{id:e.item.id+"-"+e.popoverId+"-popover"}},[t("span",{class:"item-"+e.item.icon+("regular"===this.size?"":"-sm"),staticStyle:{display:"inline-block"},attrs:{title:e.item.icon}}),t("span",{class:"sm"===e.size?"ml-2":"ml-3",style:"position:relative;"+("regular"===this.size?"top: -15px":"")},[e._v(e._s(e.item.name)+" "+e._s(e.annotation)+" "),e._t("default")],2)]),t("b-popover",{staticStyle:{width:"500px !important"},attrs:{target:e.item.id+"-"+e.popoverId+"-popover","custom-class":"no-bg",placement:"right",delay:"0",boundary:"viewport","no-fade":!0,triggers:"hover focus"}},[t("eq-window",{staticStyle:{width:"auto",height:"100%"}},[t("eq-item-card-preview",{attrs:{"item-data":e.item,"show-related-data":e.showRelatedData}})],1)],1)],1):e._e()},a=[],r=(n("6b54"),n("935a")),s=(n("5201"),n("ec53")),o={name:"ItemPopover",props:{item:Object,size:{type:String,required:!1,default:"sm"},annotation:{type:String,required:!1,default:""},showRelatedData:{type:Boolean,required:!1,default:!1}},data:function(){return{popoverId:Math.random().toString(16).slice(2),itemEffectInfo:[]}},components:{EqItemCardPreview:s["default"],EqWindow:r["a"]}},l=o,c=n("2877"),d=Object(c["a"])(l,i,a,!1,null,"423115ce",null);t["a"]=d.exports},dfa6:function(e,t,n){"use strict";n("7adb")},e0b8:function(e,t,n){"use strict";var i=n("7726"),a=n("5ca1"),r=n("2aba"),s=n("dcbc"),o=n("67ab"),l=n("4a59"),c=n("f605"),d=n("d3f4"),u=n("79e5"),p=n("5cc5"),h=n("7f20"),m=n("5dbc");e.exports=function(e,t,n,f,v,g){var b=i[e],_=b,y=v?"set":"add",w=_&&_.prototype,C={},x=function(e){var t=w[e];r(w,e,"delete"==e||"has"==e?function(e){return!(g&&!d(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return g&&!d(e)?void 0:t.call(this,0===e?0:e)}:"add"==e?function(e){return t.call(this,0===e?0:e),this}:function(e,n){return t.call(this,0===e?0:e,n),this})};if("function"==typeof _&&(g||w.forEach&&!u((function(){(new _).entries().next()})))){var E=new _,N=E[y](g?{}:-0,1)!=E,k=u((function(){E.has(1)})),O=p((function(e){new _(e)})),L=!g&&u((function(){var e=new _,t=5;while(t--)e[y](t,t);return!e.has(-0)}));O||(_=t((function(t,n){c(t,_,e);var i=m(new b,t,_);return void 0!=n&&l(n,v,i[y],i),i})),_.prototype=w,w.constructor=_),(k||L)&&(x("delete"),x("has"),v&&x("get")),(L||N)&&x(y),g&&w.clear&&delete w.clear}else _=f.getConstructor(t,e,v,y),s(_.prototype,n),o.NEED=!0;return h(_,e),C[e]=_,a(a.G+a.W+a.F*(_!=b),C),g||f.setStrong(_,e,v),_}},e853:function(e,t,n){var i=n("d3f4"),a=n("1169"),r=n("2b4c")("species");e.exports=function(e){var t;return a(e)&&(t=e.constructor,"function"!=typeof t||t!==Array&&!a(t.prototype)||(t=void 0),i(t)&&(t=t[r],null===t&&(t=void 0))),void 0===t?Array:t}},fb61:function(e,t,n){"use strict";n("7f7f");var i=function(){var e=this,t=e._self._c;return e.npc?t("div",[t("div",{staticStyle:{display:"inline-block",position:"relative"},attrs:{id:e.npc.id+"-"+e.popoverId+"-popover"}},[e.showImage?t("div",{staticClass:"d-inline-block ml-3 text-center",staticStyle:{width:"60px",height:"50px"}},[t("span",{class:"race-models-ctn-"+e.getRaceImage(e.npc)+"-sm",staticStyle:{top:"50%",filter:"drop-shadow(10px 5px 5px #000)"}})]):e._e(),e.showLabel?t("span",{class:(e.showImage?"ml-3":"")+" d-inline-block",style:e.showImage?"top: 30%; position: absolute; min-width: 300px":""},[e._v("\n      "+e._s(e.getCleanName(e.npc.name))+" "+e._s(e.formatLastName(e.npc.lastname))+" "+e._s(e.additionalLabel?e.additionalLabel:"")+"\n    ")]):e._e(),e._t("default")],2),e.popoverEnabled?t("b-popover",{attrs:{target:e.npc.id+"-"+e.popoverId+"-popover","custom-class":"no-bg",placement:"right",delay:"0",boundary:"viewport","no-fade":!0,triggers:"hover focus"}},[t("eq-window",{staticStyle:{width:"650px",height:"100%"}},[t("eq-npc-card-preview",{attrs:{"limit-entries":e.limitEntries,"no-stats":e.noStats,npc:e.npc}})],1)],1):e._e()],1):e._e()},a=[],r=(n("6b54"),n("c5f6"),n("935a")),s=n("a006"),o=n("01de"),l={name:"npcPopover",props:{npc:Object,size:{type:String,required:!1,default:"sm"},additionalLabel:{type:String,required:!1},showImage:{type:Boolean,required:!1,default:!0},noStats:{type:Boolean,required:!1,default:!1},showLastName:{type:Boolean,required:!1,default:!0},limitEntries:{type:Number,required:!1,default:20},showLabel:{type:Boolean,required:!1,default:!0},popoverEnabled:{type:Boolean,required:!1,default:!0}},watch:{npc:{deep:!0,handler:function(){}}},mounted:function(){console.log("[popover] no limit",this.noLimitEntries)},methods:{formatLastName:function(e){return this.showLastName&&e&&e.length>0?" (".concat(e,")"):""},getRaceImage:function(e){return o["a"].getRaceImage(e)},getCleanName:function(e){return o["a"].getCleanName(e)}},data:function(){return{popoverId:Math.random().toString(16).slice(2),npcEffectInfo:[],sideLoadednpcData:{}}},components:{EqNpcCardPreview:s["a"],EqWindow:r["a"]}},c=l,d=n("2877"),u=Object(d["a"])(c,i,a,!1,null,"0d2146b0",null);t["a"]=u.exports}}]);