(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0f104f"],{"9f9e":function(t,e,o){"use strict";o.r(e);var r=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"row justify-content-center",staticStyle:{position:"absolute",top:"0%","z-index":"9999999",width:"100%"}},[e("div",{staticClass:"col-4"},[e("info-error-banner",{staticClass:"mt-3",staticStyle:{width:"100%"},attrs:{slim:!0,notification:t.notification,error:t.error},on:{"dismiss-error":function(e){t.error=""},"dismiss-notification":function(e){t.notification=""}}})],1)]),e("eq-window",{staticClass:"p-3 pt-4",attrs:{title:"Logging Webhooks"}},[e("div",{staticClass:"form-group col-md-12 mb-0 p-0"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("b-button",{attrs:{size:"sm",variant:"outline-warning btn-dark"},on:{click:function(e){return t.add()}}},[e("i",{staticClass:"fa fa-plus mr-1"}),t._v("\n            Add Webhook\n          ")])],1)]),e("table",{staticClass:"eq-table eq-highlight-rows bordered log-settings mt-3",staticStyle:{"table-layout":"fixed"}},[e("thead",{staticClass:"eq-table-floating-header"},[e("tr",[e("th",{staticStyle:{width:"20px"}}),e("th",{staticClass:"text-center",staticStyle:{width:"20px"}},[t._v("ID")]),e("th",{staticStyle:{width:"100px","white-space":"normal"}},[t._v("\n            Webhook Name\n            "),e("small",{staticClass:"text-muted d-block"},[t._v("\n              This is what you name it and what you use to call out the webhook using Quest methods\n            ")])]),e("th",{staticStyle:{width:"20vw"}},[t._v("\n            Webhook URL\n\n            "),e("small",{staticClass:"text-muted d-block"},[t._v("\n              The webhook URL. In Discord this is mapped to a single channel.\n              "),e("a",{attrs:{href:"https://support.discord.com/hc/en-us/articles/228383668-Intro-to-Webhooks",target:"discord"}},[t._v("\n                Look here for an introduction to Discord webhooks.\n              ")])])])])]),e("tbody",t._l(t.discordWebhooks,(function(o){return e("tr",[e("td",{staticClass:"text-center p-0 m-0"},[e("b-button",{staticClass:"btn-dark btn-sm ml-1",staticStyle:{padding:"0px 6px"},attrs:{variant:"primary",title:"Delete"},on:{click:function(e){return t.deleteWebhook(o)}}},[e("i",{staticClass:"fa fa-trash"})])],1),e("td",{staticClass:"text-center"},[t._v(t._s(o.id))]),e("td",[e("input",{directives:[{name:"model",rawName:"v-model",value:o.webhook_name,expression:"w.webhook_name"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:o.webhook_name},on:{change:function(e){return t.updateWebhook(o)},input:function(e){e.target.composing||t.$set(o,"webhook_name",e.target.value)}}})]),e("td",[e("input",{directives:[{name:"model",rawName:"v-model",value:o.webhook_url,expression:"w.webhook_url"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:o.webhook_url},on:{change:function(e){return t.updateWebhook(o)},input:function(e){e.target.composing||t.$set(o,"webhook_url",e.target.value)}}})])])})),0)])])])],1)},a=[],n=o("9a04"),s=o("75fc"),i=(o("96cf"),o("3b8d")),c=o("935a"),d=o("dadc"),u=o("0d95"),h=o("5afa"),l={components:{InfoErrorBanner:h["a"],EqWindow:c["a"]},data:function(){return{loaded:!1,discordWebhooks:[],notification:"",error:""}},created:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.loaded=!0,this.loadWebhooks();case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),methods:{deleteWebhook:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e){var o,r,a=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!confirm("Are you sure you want to delete this webhook?\n\n".concat(e.webhook_name," (").concat(e.id,")"))){t.next=17;break}return t.prev=1,t.next=4,Object(n["a"])(d["a"],Object(s["a"])(u["SpireApi"].cfg())).deleteDiscordWebhook({id:e.id});case 4:if(o=t.sent,200!==o.status){t.next=12;break}return this.notification="Deleted Discord Webhook [".concat(e.webhook_name,"] (").concat(e.id,")!"),this.loadWebhooks(),t.next=10,u["SpireApi"].v1().post("eqemuserver/reload/logs");case 10:r=t.sent,200===r.status&&setTimeout((function(){a.notification="Server log settings reloaded in-game!"}),1e3);case 12:t.next=17;break;case 14:t.prev=14,t.t0=t["catch"](1),t.t0.response&&t.t0.response.data&&t.t0.response.data.error&&(this.error=t.t0.response.data.error);case 17:case"end":return t.stop()}}),t,this,[[1,14]])})));function e(e){return t.apply(this,arguments)}return e}(),updateWebhook:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e){var o,r,a=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(n["a"])(d["a"],Object(s["a"])(u["SpireApi"].cfg())).updateDiscordWebhook({id:e.id,discordWebhook:e});case 3:if(o=t.sent,200!==o.status){t.next=11;break}return this.notification="Updated Discord Webhook [".concat(e.webhook_name,"] (").concat(e.id,")!"),this.loadWebhooks(),t.next=9,u["SpireApi"].v1().post("eqemuserver/reload/logs");case 9:r=t.sent,200===r.status&&setTimeout((function(){a.notification="Server log settings reloaded in-game!"}),1e3);case 11:t.next=16;break;case 13:t.prev=13,t.t0=t["catch"](0),t.t0.response&&t.t0.response.data&&t.t0.response.data.error&&(this.error=t.t0.response.data.error);case 16:case"end":return t.stop()}}),t,this,[[0,13]])})));function e(e){return t.apply(this,arguments)}return e}(),loadWebhooks:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(n["a"])(d["a"],Object(s["a"])(u["SpireApi"].cfg())).listDiscordWebhooks();case 2:e=t.sent,200===e.status&&(this.discordWebhooks=e.data);case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),add:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(n["a"])(d["a"],Object(s["a"])(u["SpireApi"].cfg())).createDiscordWebhook({discordWebhook:{webhook_name:"New Webhook",webhook_url:""}});case 3:e=t.sent,200===e.status&&(this.notification="New webhook added!",this.loadWebhooks()),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),t.t0.response&&t.t0.response.data&&t.t0.response.data.error&&(this.error=t.t0.response.data.error);case 10:case"end":return t.stop()}}),t,this,[[0,7]])})));function e(){return t.apply(this,arguments)}return e}()}},p=l,b=o("2877"),f=Object(b["a"])(p,r,a,!1,null,null,null);e["default"]=f.exports}}]);