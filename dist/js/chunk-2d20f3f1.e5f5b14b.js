(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d20f3f1"],{b38b:function(e,t,r){"use strict";r.r(t);r("ac6a"),r("456d");var s=function(){var e=this,t=e._self._c;return t("div",[Object.keys(e.serverConfig).length>0?t("eq-window",{attrs:{title:"Crash Logs"}},[t("div",{staticClass:"row justify-content-center",staticStyle:{position:"absolute",top:"0%","z-index":"9999999",width:"100%"}},[t("div",{staticClass:"col-4"},[t("info-error-banner",{staticClass:"mt-3",staticStyle:{width:"100%"},attrs:{slim:!0,notification:e.notification,error:e.error},on:{"dismiss-error":function(t){e.error=""},"dismiss-notification":function(t){e.notification=""}}})],1)]),t("div",{staticClass:"form-group col-md-12 mb-0 p-0"},[t("label",{staticClass:"form-label"},[e._v("Crash Logs Webhook")]),t("small",{staticClass:"d-block text-muted"},[e._v("\n        When a process crash occurs, Spire will send crash logs to this webhook\n      ")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.serverConfig["web-admin"].discord.crash_log_webhook,expression:"serverConfig['web-admin'].discord.crash_log_webhook"}],staticClass:"form-control mt-3",attrs:{type:"text",placeholder:"https://discord.com/api/webhooks/xxx/xxx"},domProps:{value:e.serverConfig["web-admin"].discord.crash_log_webhook},on:{input:function(t){t.target.composing||e.$set(e.serverConfig["web-admin"].discord,"crash_log_webhook",t.target.value)}}}),t("button",{staticClass:"btn btn-sm mt-3 btn-dark ml-auto",attrs:{type:"submit"},on:{click:function(t){return e.submitServerConfig()}}},[t("i",{staticClass:"fe fe-save"}),e._v("\n        Save\n      ")])])]):e._e()],1)},o=[],n=(r("96cf"),r("3b8d")),i=r("935a"),a=r("5afa"),c=r("0d95"),d={components:{InfoErrorBanner:a["a"],EqWindow:i["a"]},data:function(){return{serverConfig:{},loaded:!1,notification:"",error:""}},created:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c["SpireApi"].v1().get("admin/serverconfig");case 3:t=e.sent,200===t.status&&(this.serverConfig=t.data),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),e.t0.response&&e.t0.response.data&&e.t0.response.data.error&&(this.error=e.t0.response.data.error);case 10:this.serverConfig["web-admin"].discord||(this.serverConfig["web-admin"].discord={},this.serverConfig["web-admin"].discord.crash_log_webhook||(this.serverConfig["web-admin"].discord.crash_log_webhook="")),this.loaded=!0;case 12:case"end":return e.stop()}}),e,this,[[0,7]])})));function t(){return e.apply(this,arguments)}return t}(),methods:{submitServerConfig:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c["SpireApi"].v1().post("admin/serverconfig",this.serverConfig);case 3:t=e.sent,200===t.status&&(this.notification="Saved crash webhook!"),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),e.t0.response&&e.t0.response.data&&e.t0.response.data.error&&(this.error=e.t0.response.data.error);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));function t(){return e.apply(this,arguments)}return t}()}},l=d,u=r("2877"),h=Object(u["a"])(l,s,o,!1,null,null,null);t["default"]=h.exports}}]);