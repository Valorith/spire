(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-97fa8f82"],{"01de":function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));n("ac4d"),n("8a81"),n("5df3"),n("1c4c"),n("7f7f"),n("6b54"),n("a481"),n("7514"),n("ac6a");var a=n("9a04"),i=n("75fc"),s=(n("96cf"),n("28a5"),n("6762"),n("2fdb"),n("d225")),r=n("b0b4"),c=n("9ab4"),l={SUMMON:1,ENRAGE:2,RAMPAGE:3,AREA_RAMPAGE:4,FLURRY:5,TRIPLE:6,QUAD:7,INNATE_DW:8,BANE:9,MAGICAL:10,RANGED_ATK:11,UNSLOWABLE:12,UNMEZABLE:13,UNCHARMABLE:14,UNSTUNABLE:15,UNSNAREABLE:16,UNFEARABLE:17,UNDISPELLABLE:18,IMMUNE_MELEE:19,IMMUNE_MAGIC:20,IMMUNE_FLEEING:21,IMMUNE_MELEE_EXCEPT_BANE:22,IMMUNE_MELEE_NONMAGICAL:23,IMMUNE_AGGRO:24,IMMUNE_AGGRO_ON:25,IMMUNE_CASTING_FROM_RANGE:26,IMMUNE_FEIGN_DEATH:27,IMMUNE_TAUNT:28,NPC_TUNNELVISION:29,NPC_NO_BUFFHEAL_FRIENDS:30,IMMUNE_PACIFY:31,LEASH:32,TETHER:33,DESTRUCTIBLE_OBJECT:34,NO_HARM_FROM_CLIENT:35,ALWAYS_FLEE:36,FLEE_PERCENT:37,ALLOW_BENEFICIAL:38,DISABLE_MELEE:39,NPC_CHASE_DISTANCE:40,ALLOW_TO_TANK:41,IGNORE_ROOT_AGGRO_RULES:42,CASTING_RESIST_DIFF:43,COUNTER_AVOID_DAMAGE:44,PROX_AGGRO:45,IMMUNE_RANGED_ATTACKS:46,IMMUNE_DAMAGE_CLIENT:47,IMMUNE_DAMAGE_NPC:48,IMMUNE_AGGRO_CLIENT:49,IMMUNE_AGGRO_NPC:50,MODIFY_AVOID_DAMAGE:51,IMMUNE_FADING_MEMORIES:52,MAX_SPECIAL_ATTACK:53},o=n("a7a1"),u=n("0d95"),p=n("e40e");function d(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=h(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,i=function(){};return{s:i,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,r=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return r=e.done,e},e:function(e){c=!0,s=e},f:function(){try{r||null==n.return||n.return()}finally{if(c)throw s}}}}function h(e,t){if(e){if("string"==typeof e)return f(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}var m=function(){function e(){Object(s["a"])(this,e)}return Object(r["a"])(e,null,[{key:"getCleanName",value:function(e){return e=e.replaceAll("_"," "),e=e.replaceAll("#"," "),e}},{key:"getRaceImage",value:function(e){var t=e.texture,n=e.helmtexture;return this.isPlayableRace(e.race)&&(n>3&&(n=0),(t>16||t>3&&t<10)&&(t=0)),e.race+"-"+e.gender+"-"+t+"-"+n}},{key:"isPlayableRace",value:function(e){return[1,2,3,4,5,6,7,8,9,10,11,12,128,130,330,522].includes(e)}},{key:"specialAbilitiesToHuman",value:function(e){var t,n=[],a=d(e.split("^"));try{for(a.s();!(t=a.n()).done;){var i=t.value,s=i.split(","),r=s[0]?parseInt(s[0]):0,c=s[1]?parseInt(s[1]):0;r>0&&c&&(r===l.SUMMON&&n.push("Summon"+" (".concat(r,")")),r===l.ENRAGE&&n.push("Enrage "+" (".concat(r,")")),r===l.AREA_RAMPAGE&&n.push("Area Rampage "+" (".concat(r,")")),r===l.FLURRY&&n.push("Flurry "+" (".concat(r,")")),r===l.TRIPLE&&n.push("Triple "+" (".concat(r,")")),r===l.QUAD&&n.push("Quad "+" (".concat(r,")")),r===l.INNATE_DW&&n.push("Innate DW "+" (".concat(r,")")),r===l.BANE&&n.push("Bane "+" (".concat(r,")")),r===l.MAGICAL&&n.push("Magical "+" (".concat(r,")")),r===l.RANGED_ATK&&n.push("Ranged Attack "+" (".concat(r,")")),r===l.UNSLOWABLE&&n.push("Unslowable "+" (".concat(r,")")),r===l.UNMEZABLE&&n.push("Unmezable "+" (".concat(r,")")),r===l.UNCHARMABLE&&n.push("Uncharmable "+" (".concat(r,")")),r===l.UNSTUNABLE&&n.push("Unstunable "+" (".concat(r,")")),r===l.UNSNAREABLE&&n.push("Unsnareable "+" (".concat(r,")")),r===l.UNFEARABLE&&n.push("Unfearable "+" (".concat(r,")")),r===l.UNDISPELLABLE&&n.push("Undispellable "+" (".concat(r,")")),r===l.IMMUNE_MELEE&&n.push("Immune to Melee "+" (".concat(r,")")),r===l.IMMUNE_MAGIC&&n.push("Immune to Magic "+" (".concat(r,")")),r===l.IMMUNE_FLEEING&&n.push("Immune to Fleeing "+" (".concat(r,")")),r===l.IMMUNE_MELEE_EXCEPT_BANE&&n.push("Immune to Melee Except Bane "+" (".concat(r,")")),r===l.IMMUNE_MELEE_NONMAGICAL&&n.push("Immune to Melee Non-Magical "+" (".concat(r,")")),r===l.IMMUNE_AGGRO&&n.push("Immune to Aggro "+" (".concat(r,")")),r===l.IMMUNE_AGGRO_ON&&n.push("Immune to Aggro On "+" (".concat(r,")")),r===l.IMMUNE_CASTING_FROM_RANGE&&n.push("Immune to Casting from Range "+" (".concat(r,")")),r===l.IMMUNE_FEIGN_DEATH&&n.push("Immune to Feign Death "+" (".concat(r,")")),r===l.IMMUNE_TAUNT&&n.push("Immune to Taunt "+" (".concat(r,")")),r===l.NPC_TUNNELVISION&&n.push("NPC Tunnelvision "+" (".concat(r,")")),r===l.NPC_NO_BUFFHEAL_FRIENDS&&n.push("NPC doesn't buff or heal other NPC's "+" (".concat(r,")")),r===l.IMMUNE_PACIFY&&n.push("Immune to Pacify "+" (".concat(r,")")),r===l.LEASH&&n.push("Immune to Leash "+" (".concat(r,")")),r===l.TETHER&&n.push("Immune to Tether "+" (".concat(r,")")),r===l.DESTRUCTIBLE_OBJECT&&n.push("Destructible Object "+" (".concat(r,")")),r===l.NO_HARM_FROM_CLIENT&&n.push("Immune to Harm from Clients "+" (".concat(r,")")),r===l.ALWAYS_FLEE&&n.push("Always flees "+" (".concat(r,")")),r===l.FLEE_PERCENT&&n.push("Flees at percent X "+" (".concat(r,")")),r===l.ALLOW_BENEFICIAL&&n.push("Allow Beneficial "+" (".concat(r,")")),r===l.DISABLE_MELEE&&n.push("Disable Melee "+" (".concat(r,")")),r===l.NPC_CHASE_DISTANCE&&n.push("NPC Chase Distances "+" (".concat(r,")")),r===l.ALLOW_TO_TANK&&n.push("Allow to tank "+" (".concat(r,")")),r===l.IGNORE_ROOT_AGGRO_RULES&&n.push("Ignore root aggro rules "+" (".concat(r,")")),r===l.CASTING_RESIST_DIFF&&n.push("Casting resist diff "+" (".concat(r,")")),r===l.COUNTER_AVOID_DAMAGE&&n.push("Counter avoid damage "+" (".concat(r,")")),r===l.PROX_AGGRO&&n.push("Proximity Aggro "+" (".concat(r,")")),r===l.IMMUNE_RANGED_ATTACKS&&n.push("Immune to Ranged Attacks "+" (".concat(r,")")),r===l.IMMUNE_DAMAGE_CLIENT&&n.push("Immune to Damage from Clients "+" (".concat(r,")")),r===l.IMMUNE_DAMAGE_NPC&&n.push("Immune to Damage from NPCs "+" (".concat(r,")")),r===l.IMMUNE_AGGRO_CLIENT&&n.push("Immune to Aggro from Clients "+" (".concat(r,")")),r===l.IMMUNE_AGGRO_NPC&&n.push("Immune to Aggro from NPCs "+" (".concat(r,")")),r===l.MODIFY_AVOID_DAMAGE&&n.push("Modify avoid damage "+" (".concat(r,")")),r===l.IMMUNE_FADING_MEMORIES&&n.push("Immune to fading memories "+" (".concat(r,")")))}}catch(o){a.e(o)}finally{a.f()}return n}},{key:"updateNpc",value:function(e,t){return Object(c["d"])(this,void 0,void 0,regeneratorRuntime.mark((function n(){var s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return s=Object(a["a"])(o["NpcTypeApi"],Object(i["a"])(u["SpireApi"].cfg())),n.next=3,s.updateNpcType({id:e,npcType:t});case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}}),n)})))}},{key:"listNpcsByName",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Object(c["d"])(this,void 0,void 0,regeneratorRuntime.mark((function n(){var s,r,c,l;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return s=Object(a["a"])(o["NpcTypeApi"],Object(i["a"])(u["SpireApi"].cfg())),r=new p["a"],c=[],t.includes("all")?c=[].concat(Object(i["a"])(c),["NpcSpell.NpcSpellsEntries.SpellsNew","NpcFactions.NpcFactionEntries.FactionList","NpcFactions","NpcEmotes","Merchantlists.Items","Loottable.LoottableEntries.Lootdrop.LootdropEntries.Item"]):t.length>0&&(c=[].concat(Object(i["a"])(c),Object(i["a"])(t))),r.where("name","like",e),r.whereOr("lastname","like",e),r.includes(c),n.next=9,s.listNpcTypes(r.get());case 9:if(l=n.sent,200!==l.status){n.next=12;break}return n.abrupt("return",l.data);case 12:case"end":return n.stop()}}),n)})))}},{key:"getBaseNpcRelationships",value:function(){return["NpcSpell.NpcSpellsEntries.SpellsNew","NpcFactions.NpcFactionEntries.FactionList","NpcFactions","NpcEmotes","Merchantlists.Items","Loottable.LoottableEntries.Lootdrop.LootdropEntries.Item"]}},{key:"listNpcsByEmoteId",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Object(c["d"])(this,void 0,void 0,regeneratorRuntime.mark((function n(){var s,r,c,l;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return s=Object(a["a"])(o["NpcTypeApi"],Object(i["a"])(u["SpireApi"].cfg())),r=new p["a"],c=[],t.includes("all")?c=[].concat(Object(i["a"])(c),Object(i["a"])(this.getBaseNpcRelationships())):t.length>0&&(c=[].concat(Object(i["a"])(c),Object(i["a"])(t))),r.where("emoteid","=",e),r.includes(c),n.next=8,s.listNpcTypes(r.get());case 8:if(l=n.sent,200!==l.status){n.next=11;break}return n.abrupt("return",l.data);case 11:case"end":return n.stop()}}),n,this)})))}},{key:"listNpcsByNpcSpellsId",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Object(c["d"])(this,void 0,void 0,regeneratorRuntime.mark((function n(){var s,r,c,l;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return s=Object(a["a"])(o["NpcTypeApi"],Object(i["a"])(u["SpireApi"].cfg())),r=new p["a"],c=[],t.includes("all")?c=[].concat(Object(i["a"])(c),Object(i["a"])(this.getBaseNpcRelationships())):t.length>0&&(c=[].concat(Object(i["a"])(c),Object(i["a"])(t))),r.where("npc_spells_id","=",e),r.includes(c),r.limit(100),n.next=9,s.listNpcTypes(r.get());case 9:if(l=n.sent,200!==l.status){n.next=12;break}return n.abrupt("return",l.data);case 12:case"end":return n.stop()}}),n,this)})))}},{key:"getNpc",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Object(c["d"])(this,void 0,void 0,regeneratorRuntime.mark((function n(){var s,r,c,l;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!this.npc[e]){n.next=2;break}return n.abrupt("return",this.npc[e]);case 2:return s=Object(a["a"])(o["NpcTypeApi"],Object(i["a"])(u["SpireApi"].cfg())),r=new p["a"],c=[],t.includes("all")?c=[].concat(Object(i["a"])(c),["NpcSpell.NpcSpellsEntries.SpellsNew","NpcFactions.NpcFactionEntries.FactionList","NpcFactions","NpcEmotes","Merchantlists.Items","Loottable.LoottableEntries.Lootdrop.LootdropEntries.Item"]):t.length>0&&(c=[].concat(Object(i["a"])(c),Object(i["a"])(t))),r.includes(c),n.next=9,s.getNpcType({id:e},{query:r.get()});case 9:if(l=n.sent,200!==l.status){n.next=13;break}return this.npc[e]=l.data,n.abrupt("return",l.data);case 13:case"end":return n.stop()}}),n,this)})))}},{key:"getNpcsBulk",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Object(c["d"])(this,void 0,void 0,regeneratorRuntime.mark((function n(){var s,r,c,l,h,f,m;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(0!==e.length){n.next=2;break}return n.abrupt("return",[]);case 2:return s=Object(a["a"])(o["NpcTypeApi"],Object(i["a"])(u["SpireApi"].cfg())),r=new p["a"],c=[],t.includes("all")?c=[].concat(Object(i["a"])(c),["NpcSpell.NpcSpellsEntries.SpellsNew","NpcFactions.NpcFactionEntries.FactionList","NpcFactions","NpcEmotes","Merchantlists.Items","Loottable.LoottableEntries.Lootdrop.LootdropEntries.Item"]):t.length>0&&(c=[].concat(Object(i["a"])(c),Object(i["a"])(t))),r.includes(c),n.next=9,s.getNpcTypesBulk({body:{ids:e}},{query:r.get()});case 9:if(l=n.sent,200!==l.status){n.next=14;break}h=d(l.data);try{for(h.s();!(f=h.n()).done;)m=f.value,this.npc[m.id]=m}catch(g){h.e(g)}finally{h.f()}return n.abrupt("return",l.data);case 14:case"end":return n.stop()}}),n,this)})))}},{key:"getNpcsByZone",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{relations:[],uniqueEntries:!0};return Object(c["d"])(this,void 0,void 0,regeneratorRuntime.mark((function s(){var r,c,l,h,f,m,g,v,_,y,b;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return r=Object(a["a"])(o["Spawn2Api"],Object(i["a"])(u["SpireApi"].cfg())),c=new p["a"],c.where("zone","=",e),-1===t?c.where("version",">=",t):c.where("version","=",t),l=["Spawnentries.NpcType"],n.relations.includes("all")?l=[].concat(Object(i["a"])(l),["Spawnentries.NpcType.NpcSpell.NpcSpellsEntries.SpellsNew","Spawnentries.NpcType.NpcFactions.NpcFactionEntries.FactionList","Spawnentries.NpcType.NpcFactions","Spawnentries.NpcType.NpcEmotes","Spawnentries.NpcType.Merchantlists.Items","Spawnentries.NpcType.Loottable.LoottableEntries.Lootdrop.LootdropEntries.Item"]):n.relations.length>0&&(l=[].concat(Object(i["a"])(l),Object(i["a"])(n.relations))),c.limit(1e6),c.includes(l),s.next=10,r.listSpawn2s(c.get());case 10:if(h=s.sent,200!==h.status||!h.data){s.next=46;break}f=[],m=d(h.data),s.prev=14,m.s();case 16:if((g=m.n()).done){s.next=37;break}if(v=g.value,!v.spawnentries){s.next=35;break}_=d(v.spawnentries),s.prev=20,b=regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=y.value,t.npc_type&&(n.uniqueEntries?(a=f.find((function(e){return e.id===t.npc_type.id})),a||f.push(t.npc_type)):f.push(t.npc_type));case 2:case"end":return e.stop()}}),e)})),_.s();case 23:if((y=_.n()).done){s.next=27;break}return s.delegateYield(b(),"t0",25);case 25:s.next=23;break;case 27:s.next=32;break;case 29:s.prev=29,s.t1=s["catch"](20),_.e(s.t1);case 32:return s.prev=32,_.f(),s.finish(32);case 35:s.next=16;break;case 37:s.next=42;break;case 39:s.prev=39,s.t2=s["catch"](14),m.e(s.t2);case 42:return s.prev=42,m.f(),s.finish(42);case 45:return s.abrupt("return",f);case 46:return s.abrupt("return",[]);case 47:case"end":return s.stop()}}),s,null,[[14,39,42,45],[20,29,32,35]])})))}},{key:"getFieldDescriptions",value:function(){return{id:"ID number of the NPC",name:"First Name of the NPC",lastname:"Last Name of the NPC",level:"Level of the NPC",race:"Race of the NPC",class:"Class of the NPC",bodytype:"Bodytype of the NPC",hp:"Maximum Hitpoints of the NPC",mana:"Maximum Mana of the NPC",gender:"Gender of the NPC",texture:"Texture of the NPC",helmtexture:"Helmet Texture of the NPC",herosforgemodel:"Heroes Forge Model used on the NPC",size:"Numerical size of the NPC",hp_regen_rate:"Hitpoint Regeneration Rate of the NPC",hp_regen_per_second:"Hitpoint Regeneration Rate (per second) of the NPC",mana_regen_rate:"Mana Regen Rate of the NPC",loottable_id:"Loottable Id of the NPC",merchant_id:"Merchant Id of the NPC",alt_currency_id:"Alt Currency Id used with the NPC",npc_spells_effects_id:"Npc Spells Effects Id used with the NPC",npc_faction_id:"Npc Faction Id of the NPC",adventure_template_id:"Adventure Template Id of the NPC",trap_template:"Trap Template of the NPC",mindmg:"Minimum damge of the NPC",maxdmg:"Maximum damage of the NPC",attack_count:"Attack Count of the NPC",npcspecialattks:"Special Attacks used by the NPC",special_abilities:"Special Abilities used by the NPC",aggroradius:"Aggro radius of the NPC",assistradius:"Assist radius of the NPC",face:"Face of the NPC",luclin_hairstyle:"Luclin Hairstyle used with the NPC",luclin_haircolor:"Luclin Haircolor used with the NPC",luclin_eyecolor:"Luclin Eyecolor used with the NPC",luclin_eyecolor_2:"Luclin Eyecolor 2 used with the NPC",luclin_beardcolor:"Luclin Beardcolor used with the NPC",luclin_beard:"Luclin Beard used with the NPC",drakkin_heritage:"Drakkin Heritage used with the NPC",drakkin_tattoo:"Drakkin Tattoo used with the NPC",drakkin_details:"Drakkin Details used with the NPC",armortint_id:"Armor tint Id used with the NPC",armortint_red:"Armor tint Red used with the NPC",armortint_green:"Armor tint Green used with the NPC",armortint_blue:"Armor tint Blue used with the NPC",d_melee_texture_1:"D Melee Texture 1 used with the NPC",d_melee_texture_2:"D Melee Texture 2 used with the NPC",ammo_idfile:"Ammo Id file used for the NPC",prim_melee_type:"Primary Melee Type of the NPC",sec_melee_type:"Secondary Melee Type of the NPC",ranged_type:"Ranged Type of the NPC",runspeed:"Runspeed of the NPC",mr:"Magic Resistance of the NPC",cr:"Cold Resistance of the NPC",dr:"Disease Resistance of the NPC",fr:"Fire Resistance of the NPC",pr:"Poison Resistance of the NPC",corrup:"Corruption Resistanceance of the NPC",ph_r:"",see_invis:"NPC Sees through invisibility",see_invis_undead:"NPC Sees through invisibility vs Undead",qglobal:"Qglobal enabled for the NPC",ac:"Armor Class of the NPC",npc_aggro:"NPC will aggro other NPCs",spawn_limit:"Spawn Limit of the NPC",attack_speed:"Attack Speed of the NPC",attack_delay:"Attack Delay of the NPC",findable:"NPC can be located with Find",str:"Strength of the NPC",sta:"Stamina of the NPC",dex:"Dexterity of the NPC",agi:"Agility of the NPC",_int:"Intelligence of the NPC",wis:"Wisdom of the NPC",cha:"Charisma of the NPC",see_hide:"NPC can see through hide",see_improved_hide:"NPC can see through improved hide",trackable:"NPC is trackable",isbot:"NPC is a bot",exclude:"",atk:"Attack rating of the NPC",accuracy:"Accuracy rating of the NPC",avoidance:"Avoidance rating of the NPC",slow_mitigation:"Slow Mitigation of the NPC",version:"Version of the NPC",maxlevel:"Maximum level of the NPC",scalerate:"Scale rate of the NPC",private_corpse:"",unique_spawn_by_name:"NPC is a Unique Spawn By Name",underwater:"Underwater NPC",isquest:"The NPC has a quest script",emoteid:"Emote id of the NPC",spellscale:"Spell scale of the NPC",healscale:"Heal scale of the NPC",no_target_hotkey:"",raidtarget:"NPC is a Raid Target",armtexture:"Arm texture of the NPC",bracertexture:"Bracer texture of the NPC",handtexture:"Hand texture of the NPC",legtexture:"Leg texture of the NPC",feettexture:"Feet texture of the NPC",light:"Light value of the NPC",walkspeed:"Walkspeed of the NPC",peqid:"",unique:"NPC is unique",fixed:"",ignore_despawn:"",show_name:"NPC name is shown",untargetable:"NPC is untargetable",charm_ac:"Charmed Armor Class of the NPC",charm_min_dmg:"Charmed Minimum Damage of the NPC",charm_max_dmg:"Charmed Maximum Damage of the NPC",charm_attack_delay:"Charmed Attack Delay of the NPC",charm_accuracy_rating:"Charmed Accuracy Rating of the NPC",charm_avoidance_rating:"Charmed Avoidance Rating of the NPC",charm_atk:"Charmed Attack Rating of the NPC",skip_global_loot:"Skip Global Loot on this NPC",rare_spawn:"NPC is a rare spawn",stuck_behavior:"Behavior followed if NPC is stuck",model:"Model of the NPC",flymode:"Flymode for the NPC",always_aggro:"NPC will always aggro",exp_mod:"Experience modifier for the NPC"}}},{key:"getFieldDescription",value:function(e){var t=e.toLowerCase().replace("_","");for(var n in this.getFieldDescriptions()){var a=n.toLowerCase().replace("_","");if(a===t)return this.getFieldDescriptions()[n]}return""}},{key:"cacheExists",value:function(e){return this.npc[e]}}])}();m.npc={}},"02f6":function(e,t,n){"use strict";var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"container-fluid content-area"},[t("div",{staticClass:"panel-body"},[t("div",{staticClass:"panel panel-default"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-12 mt-3"},[e._t("default")],2)])])])])},i=[],s={name:"ContentArea"},r=s,c=n("2877"),l=Object(c["a"])(r,a,i,!1,null,"4665fdac",null);t["a"]=l.exports},"0906":function(e,t,n){"use strict";n.r(t);n("7f7f"),n("a481");var a=function(){var e=this,t=e._self._c;return t("div",[t("eq-window",{attrs:{title:"NPC Search"}},[t("div",{staticClass:"row mt-2"},[t("div",{staticClass:"col-lg-2 col-sm-12 p-0 pr-1 text-center"},[e._v("\n          NPC Name or ID\n          "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.npcName,expression:"npcName"}],staticClass:"form-control",attrs:{name:"npc_name",type:"text",placeholder:"Name or ID",autofocus:"",id:"npc_name"},domProps:{value:e.npcName},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchNpcs.apply(null,arguments)},input:function(t){t.target.composing||(e.npcName=t.target.value)}}})]),t("div",{staticClass:"col-lg-1 col-sm-12 p-0 pr-1 text-center"},[e._v("\n          Class\n          "),t("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedClass,expression:"selectedClass"}],staticClass:"form-control",on:{change:[function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selectedClass=t.target.multiple?n:n[0]},function(t){return e.searchNpcs()}]}},[t("option",{attrs:{value:"0"}},[e._v("-- All --")]),e._l(e.classes,(function(n,a){return t("option",{key:a,domProps:{value:a}},[e._v("\n              "+e._s(a)+") "+e._s(n.class)+"\n            ")])}))],2)]),t("div",{staticClass:"col-lg-1 col-sm-12 p-0 pr-1 text-center"},[e._v("\n          Level\n          "),t("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedLevel,expression:"selectedLevel"}],staticClass:"form-control",on:{change:[function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selectedLevel=t.target.multiple?n:n[0]},function(t){return e.searchNpcs()}]}},[t("option",{attrs:{value:"0"}},[e._v("-- All --")]),e._l(105,(function(n){return t("option",{key:n,domProps:{value:n}},[e._v("\n              "+e._s(n)+"\n            ")])}))],2)]),t("div",{staticClass:"col-lg-1 col-sm-12 p-0 pr-1 text-center"},[e._v("\n          Bodytype\n          "),t("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedBodytype,expression:"selectedBodytype"}],staticClass:"form-control",on:{change:[function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selectedBodytype=t.target.multiple?n:n[0]},function(t){return e.searchNpcs()}]}},[t("option",{attrs:{value:"-1"}},[e._v("-- All --")]),e._l(e.bodytypes,(function(n,a){return t("option",{key:a,domProps:{value:a}},[e._v("\n              "+e._s(a)+") "+e._s(n)+"\n            ")])}))],2)]),t("div",{staticClass:"col-lg-5 col-sm-12 mt-3 pl-0 pr-0"},[parseInt(e.selectedLevel)>0?t("div",{staticClass:"btn-group ml-3",attrs:{role:"group"}},[t("b-button",{attrs:{size:"sm",variant:0===parseInt(e.selectedLevelType)?"warning":"outline-warning"},on:{click:function(t){e.selectedLevelType=0,e.searchNpcs()}}},[e._v("Only\n            ")]),t("b-button",{attrs:{size:"sm",variant:1===parseInt(e.selectedLevelType)?"warning":"outline-warning"},on:{click:function(t){e.selectedLevelType=1,e.searchNpcs()}}},[e._v("Higher\n            ")]),t("b-button",{attrs:{size:"sm",variant:2===parseInt(e.selectedLevelType)?"warning":"outline-warning"},on:{click:function(t){e.selectedLevelType=2,e.searchNpcs()}}},[e._v("Lower\n            ")])],1):e._e(),t("div",{staticClass:"btn-group ml-3",attrs:{role:"group"}},[t("b-button",{attrs:{size:"sm",variant:10===parseInt(e.limit)?"warning":"outline-warning"},on:{click:function(t){e.limit=10,e.searchNpcs()}}},[e._v("10\n            ")]),t("b-button",{attrs:{size:"sm",variant:100===parseInt(e.limit)?"warning":"outline-warning"},on:{click:function(t){e.limit=100,e.searchNpcs()}}},[e._v("100\n            ")]),t("b-button",{attrs:{size:"sm",variant:1e3===parseInt(e.limit)?"warning":"outline-warning"},on:{click:function(t){e.limit=1e3,e.searchNpcs()}}},[e._v("1000\n            ")])],1),t("div",{class:"text-center btn-xs eq-button-fancy ml-3",staticStyle:{"line-height":"25px",display:"inline-block",cursor:"pointer"},on:{click:function(t){return e.resetForm()}}},[e._v("\n            Reset Form\n          ")])])]),t("div",{staticClass:"row mt-2"},[t("div",{staticClass:"col-12"},[t("class-bitmask-calculator",{attrs:{"centered-buttons":!1,"display-all-none":!0,"add-only-button-enabled":!0,"add-only-state-enabled":e.selectOnlyClassEnabled,inputData:e.selectedClasses,mask:e.selectedClasses},on:{fired:function(t){return e.searchNpcs()},selectOnly:function(t){e.selectOnlyClassEnabled=t},"update:inputData":function(t){e.selectedClasses=t},"update:input-data":function(t){e.selectedClasses=t}}})],1)]),t("div",{staticClass:"row mt-1"},[t("div",{staticClass:"col-12",staticStyle:{display:"flex","align-items":"center","flex-wrap":"wrap"}},[t("race-bitmask-calculator",{attrs:{"centered-buttons":!1,"display-all-none":!0,inputData:e.selectedRaces,mask:e.selectedRaces},on:{fired:function(t){e.selectedRaceDropdown=0,e.searchNpcs()},"update:inputData":function(t){e.selectedRaces=t},"update:input-data":function(t){e.selectedRaces=t}}}),t("div",{staticStyle:{display:"inline-block","margin-left":"15px",position:"relative",bottom:"5px"}},[t("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedRaceDropdown,expression:"selectedRaceDropdown"}],staticClass:"eq-input",staticStyle:{"min-width":"160px","font-size":"12px"},on:{change:[function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selectedRaceDropdown=t.target.multiple?n:n[0]},function(t){e.selectedRaces=0,e.searchNpcs()}]}},[t("option",{domProps:{value:0}},[e._v("-- Other Races --")]),e._l(e.allRaces,(function(n,a){return t("option",{key:a,domProps:{value:parseInt(a)}},[e._v(e._s(a)+") "+e._s(n))])}))],2)])],1)]),t("div",{staticClass:"row mt-3"},[t("div",{staticClass:"col-12 p-0"},[e.npcTypeFields&&e.filters?t("db-column-filter",{attrs:{"set-filters":e.filters,columns:e.npcTypeFields},on:{input:function(t){return e.handleDbColumnFilters(t)}}}):e._e()],1)])]),e.loaded?e._e():t("app-loader",{attrs:{"is-loading":!e.loaded,padding:"4"}}),e.loaded&&e.npcs&&e.npcs.length>0?t("eq-window",{staticClass:"p-0"},[t("div",{staticStyle:{"overflow-x":"auto","max-height":"80vh"}},[t("table",{staticClass:"eq-table eq-highlight-rows bordered",staticStyle:{"font-size":"14px",width:"100%"}},[t("thead",{staticClass:"eq-table-floating-header"},[t("tr",[t("th",{staticStyle:{"text-align":"center",width:"120px"}}),t("th",{staticStyle:{"text-align":"center",cursor:"pointer"},on:{click:function(t){return e.sortBy("id")}}},[e._v("Id")]),t("th",{staticStyle:{"text-align":"center",cursor:"pointer"},on:{click:function(t){return e.sortBy("name")}}},[e._v("Name")]),t("th",{staticStyle:{"text-align":"center",cursor:"pointer"},on:{click:function(t){return e.sortBy("level")}}},[e._v("Level")]),t("th",{staticStyle:{"text-align":"center",cursor:"pointer"},on:{click:function(t){return e.sortBy("class")}}},[e._v("Class")]),t("th",{staticStyle:{"text-align":"center",cursor:"pointer"},on:{click:function(t){return e.sortBy("race")}}},[e._v("Race")]),t("th",{staticStyle:{"text-align":"center",cursor:"pointer"},on:{click:function(t){return e.sortBy("bodytype")}}},[e._v("Bodytype")]),t("th",{staticStyle:{"text-align":"center",cursor:"pointer"},on:{click:function(t){return e.sortBy("hp")}}},[e._v("HP")]),t("th",{staticStyle:{"text-align":"center",cursor:"pointer"},on:{click:function(t){return e.sortBy("mindmg")}}},[e._v("Min Dmg")]),t("th",{staticStyle:{"text-align":"center",cursor:"pointer"},on:{click:function(t){return e.sortBy("maxdmg")}}},[e._v("Max Dmg")]),t("th",{staticStyle:{"text-align":"center",cursor:"pointer"},on:{click:function(t){return e.sortBy("aggroradius")}}},[e._v("Aggro")]),t("th",{staticStyle:{"text-align":"center",cursor:"pointer"},on:{click:function(t){return e.sortBy("loottable_id")}}},[e._v("Loot Table")])])]),t("tbody",e._l(e.npcs,(function(n){return t("tr",{key:n.id},[t("td",{staticClass:"p-0 text-center"},[t("b-button",{staticClass:"btn-outline-danger mr-2",staticStyle:{width:"28px",height:"28px"},attrs:{variant:"primary",size:"sm",title:"Delete"},on:{click:function(t){return t.stopPropagation(),e.deleteNpc(n)}}},[t("i",{staticClass:"fa fa-trash"})]),t("router-link",{staticClass:"btn btn-sm btn-outline-success mr-2",staticStyle:{width:"28px",height:"28px"},attrs:{to:e.ROUTE.NPC_EDIT.replace(":npc",n.id),size:"sm",tag:"button",title:"Edit"},nativeOn:{click:function(e){e.stopPropagation()}}},[t("i",{staticClass:"fa fa-pencil-square"})]),t("router-link",{staticClass:"btn btn-sm btn-outline-light mr-2",staticStyle:{width:"30px",height:"28px"},attrs:{to:e.ROUTE.NPC_EDIT.replace(":npc",n.id)+"?clone=true",size:"sm",tag:"button",title:"Clone"},nativeOn:{click:function(e){e.stopPropagation()}}},[t("i",{staticClass:"ra ra-double-team"})])],1),t("td",{staticStyle:{"text-align":"center"}},[t("npc-popover",{attrs:{npc:n,"show-image":!1,"show-label":!1}},[e._v("\n                "+e._s(n.id)+"\n              ")])],1),t("td",[e._v(e._s(e.cleanName(n.name)))]),t("td",{staticStyle:{"text-align":"center"}},[e._v(e._s(n.level))]),t("td",{staticStyle:{"text-align":"center"}},[e._v(e._s(e.getClassName(n.class)))]),t("td",{staticStyle:{"text-align":"center"}},[e._v(e._s(e.getRaceName(n.race)))]),t("td",{staticStyle:{"text-align":"center"}},[e._v(e._s(e.getBodytypeName(n.bodytype)))]),t("td",{staticStyle:{"text-align":"right"}},[e._v(e._s(e.formatNumber(n.hp)))]),t("td",{staticStyle:{"text-align":"center"}},[e._v(e._s(n.mindmg))]),t("td",{staticStyle:{"text-align":"center"}},[e._v(e._s(n.maxdmg))]),t("td",{staticStyle:{"text-align":"center"}},[e._v(e._s(n.aggroradius))]),t("td",{staticStyle:{"text-align":"center"}},[e._v(e._s(n.loottable_id>0?n.loottable_id:""))])])})),0)])])]):e._e(),e.loaded&&e.npcs&&0===e.npcs.length?t("eq-window",{staticClass:"text-center mt-3"},[t("p",[e._v("No NPCs found matching your search criteria.")])]):e._e()],1)},i=[],s=(n("6b54"),n("6762"),n("2fdb"),n("768b")),r=(n("ac6a"),n("ffc1"),n("9a04")),c=n("75fc"),l=(n("96cf"),n("3b8d")),o=n("935a"),u=(n("02f6"),n("6fe5")),p=n("41de"),d=n("fb61"),h=n("a7a1"),f=n("0d95"),m=n("e40e"),g=n("a50e"),v=n("6023"),_=n("573e"),y=n("75df"),b=n("80b0"),N=n("b51d"),C=n("a25c"),w=n("01de"),k={name:"NpcSearch",components:{NpcPopover:d["a"],DbColumnFilter:p["a"],AppLoader:u["a"],EqWindow:o["a"],ClassBitmaskCalculator:N["a"],RaceBitmaskCalculator:C["a"]},data:function(){return{npcName:"",selectedClass:0,selectedLevel:0,selectedLevelType:0,selectedBodytype:-1,npcs:null,loaded:!0,limit:100,sortField:"id",sortDirection:"asc",npcTypeFields:[],filters:[],classes:g["a"],bodytypes:_["a"],ROUTE:b["a"],allRaces:v["c"],selectedClasses:0,selectedRaces:0,selectOnlyClassEnabled:!1,selectedRaceDropdown:0}},mounted:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y["a"].getTableColumns("npc_types");case 3:this.npcTypeFields=e.sent,e.next=10;break;case 6:e.prev=6,e.t0=e["catch"](0),console.error("Failed to load npc_types schema:",e.t0),this.npcTypeFields=[];case 10:this.loadFromQuery();case 11:case"end":return e.stop()}}),e,this,[[0,6]])})));function t(){return e.apply(this,arguments)}return t}(),watch:{$route:function(){this.loadFromQuery()}},methods:{loadFromQuery:function(){var e=this.$route.query;e.name&&(this.npcName=e.name),e.classes&&(this.selectedClasses=parseInt(e.classes)),e.races&&(this.selectedRaces=parseInt(e.races)),e.classSelectOnly&&(this.selectOnlyClassEnabled=!0),e.raceId&&(this.selectedRaceDropdown=parseInt(e.raceId)),e.level&&(this.selectedLevel=parseInt(e.level)),e.levelType&&(this.selectedLevelType=parseInt(e.levelType)),e.bodytype&&(this.selectedBodytype=parseInt(e.bodytype)),e.limit&&(this.limit=parseInt(e.limit)),e.orderBy&&(this.sortField=e.orderBy),e.orderDirection&&(this.sortDirection=e.orderDirection),(e.name||e.classes||e.races||e.raceId||e.level||e.bodytype)&&this.searchNpcs()},updateQueryState:function(){var e={};this.npcName&&(e.name=this.npcName),this.selectedClasses>0&&(e.classes=this.selectedClasses),this.selectedRaces>0&&(e.races=this.selectedRaces),this.selectOnlyClassEnabled&&(e.classSelectOnly=1),this.selectedRaceDropdown>0&&(e.raceId=this.selectedRaceDropdown),parseInt(this.selectedLevel)>0&&(e.level=this.selectedLevel),parseInt(this.selectedLevel)>0&&parseInt(this.selectedLevelType)>0&&(e.levelType=this.selectedLevelType),parseInt(this.selectedBodytype)>=0&&(e.bodytype=this.selectedBodytype),100!==this.limit&&(e.limit=this.limit),"id"!==this.sortField&&(e.orderBy=this.sortField),"asc"!==this.sortDirection&&(e.orderDirection=this.sortDirection),this.$router.push({path:this.ROUTE.NPC_ROOT,query:e}).catch((function(){}))},searchNpcs:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(){var t,n,a,i,l,o,u,p,d,g,v,_,y,b,N,C,w,k,E;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.loaded=!1,this.updateQueryState(),t=new m["a"],n=Object(r["a"])(h["NpcTypeApi"],Object(c["a"])(f["SpireApi"].cfg())),this.npcName&&(isNaN(this.npcName)||""===this.npcName.trim()?t.where("name","like","%"+this.npcName+"%"):t.where("id","=",this.npcName)),parseInt(this.selectedLevel)>0&&(a="=",1===parseInt(this.selectedLevelType)&&(a=">="),2===parseInt(this.selectedLevelType)&&(a="<="),t.where("level",a,this.selectedLevel)),parseInt(this.selectedBodytype)>=0&&t.where("bodytype","=",this.selectedBodytype),this.selectedClasses>0&&this.selectedClasses<65535){for(i={1:1,2:2,4:3,8:4,16:5,32:6,64:7,128:8,256:9,512:10,1024:11,2048:12,4096:13,8192:14,16384:15,32768:16},l=[],o=0,u=Object.entries(i);o<u.length;o++)p=Object(s["a"])(u[o],2),d=p[0],g=p[1],this.selectedClasses&parseInt(d)&&l.push(g);1===l.length?t.where("class","=",l[0]):l.length>1&&l.forEach((function(e){return t.whereOr("class","=",e)}))}if(this.selectedRaces>0&&this.selectedRaces<65535){for(v={1:1,2:2,4:3,8:4,16:5,32:6,64:7,128:8,256:9,512:10,1024:11,2048:12,4096:13,8192:14,16384:15,32768:128,65536:130,131072:330,262144:522},_=[],y=0,b=Object.entries(v);y<b.length;y++)N=Object(s["a"])(b[y],2),C=N[0],w=N[1],this.selectedRaces&parseInt(C)&&_.push(w);1===_.length?t.where("race","=",_[0]):_.length>1&&_.forEach((function(e){return t.whereOr("race","=",e)}))}return this.selectedRaceDropdown>0&&t.where("race","=",this.selectedRaceDropdown),this.filters&&this.filters.length>0&&this.filters.forEach((function(e){t.where(e.f,e.o,e.v)})),t.select(["id","name","level","class","race","bodytype","hp","mana","mindmg","maxdmg","aggroradius","assistradius","loottable_id","npc_spells_id","npc_faction_id","texture","helmtexture","gender"]),t.orderBy([this.sortField]),t.orderDirection(this.sortDirection),t.limit(parseInt(this.limit)),e.prev=15,k=t.get(),e.next=19,n.listNpcTypes({includes:k.includes,where:k.where,whereOr:k.whereOr,groupBy:k.groupBy,limit:k.limit?k.limit.toString():"100",page:k.page,orderBy:k.orderBy,orderDirection:k.orderDirection,select:k.select});case 19:E=e.sent,this.npcs=E.data||[],e.next=27;break;case 23:e.prev=23,e.t0=e["catch"](15),this.npcs=[],console.error("NPC search error:",e.t0);case 27:this.loaded=!0;case 28:case"end":return e.stop()}}),e,this,[[15,23]])})));function t(){return e.apply(this,arguments)}return t}(),sortBy:function(e){this.sortField===e?this.sortDirection="asc"===this.sortDirection?"desc":"asc":(this.sortField=e,this.sortDirection="asc"),this.searchNpcs()},editNpc:function(e){this.$router.push({path:"/npc/"+e})},deleteNpc:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!confirm("Are you sure you want to permanently delete this NPC? [".concat(t.name,"] (").concat(t.id,")"))){e.next=6;break}return n=Object(r["a"])(h["NpcTypeApi"],Object(c["a"])(f["SpireApi"].cfg())),e.next=4,n.deleteNpcType({id:t.id});case 4:return e.next=6,this.searchNpcs();case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),resetForm:function(){this.npcName="",this.selectedClasses=0,this.selectedRaces=0,this.selectOnlyClassEnabled=!1,this.selectedRaceDropdown=0,this.selectedLevel=0,this.selectedLevelType=0,this.selectedBodytype=-1,this.limit=100,this.sortField="id",this.sortDirection="asc",this.filters=[],this.npcs=null,this.$router.push({path:this.ROUTE.NPC_ROOT}).catch((function(){}))},handleDbColumnFilters:function(e){this.filters=e,this.searchNpcs()},cleanName:function(e){return w["a"].getCleanName(e)},getClassName:function(e){return this.classes[e]?this.classes[e].class||this.classes[e]:e},getRaceName:function(e){var t=v["c"];return t[e]||e},getBodytypeName:function(e){return this.bodytypes[e]||e},formatNumber:function(e){return e?e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):0}}},E=k,I=(n("f295"),n("2877")),x=Object(I["a"])(E,a,i,!1,null,"7aae2385",null);t["default"]=x.exports},"0a49":function(e,t,n){var a=n("9b43"),i=n("626a"),s=n("4bf8"),r=n("9def"),c=n("cd1c");e.exports=function(e,t){var n=1==e,l=2==e,o=3==e,u=4==e,p=6==e,d=5==e||p,h=t||c;return function(t,c,f){for(var m,g,v=s(t),_=i(v),y=a(c,f,3),b=r(_.length),N=0,C=n?h(t,b):l?h(t,0):void 0;b>N;N++)if((d||N in _)&&(m=_[N],g=y(m,N,v),e))if(n)C[N]=g;else if(g)switch(e){case 3:return!0;case 5:return m;case 6:return N;case 2:C.push(m)}else if(u)return!1;return p?-1:o||u?u:C}}},"26df":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n("d225"),i=n("b0b4"),s={0:"original.gif",1:"kunarkicon.gif",2:"veliousicon.gif",3:"luclinicon.gif",4:"powericon.gif",5:"ykeshaicon.gif",6:"ldonicon.gif",7:"gatesicon.gif",8:"omensicon.gif",9:"donicon.gif",10:"dodicon.png",11:"poricon.png",12:"serpsicon.gif",13:"buried.gif",14:"secrets.gif",15:"seedsofdestruction.gif",16:"underfoot.gif",17:"thule.gif",18:"alaris.gif",19:"fear.gif",20:"calloftheforsaken.gif",21:"darkenedsea.gif",22:"brokenmirror.gif",23:"empires.gif",24:"scale.gif",25:"burning.gif",26:"torment.gif"},r=n("4ac1"),c=n("78ff"),l=function(){function e(){Object(a["a"])(this,e)}return Object(i["a"])(e,null,[{key:"getExpansionIconUrlSmall",value:function(e){return s[e]?r["a"].ASSET_EXPANSION_ICON_SMALL_URL+s[e]:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"}},{key:"getExpansionName",value:function(e){return c["b"][e]?c["b"][e]:-1===e?"All":"Unknown"}}])}()},"41de":function(e,t,n){"use strict";var a=function(){var e=this,t=e._self._c;return t("div",[e.queuedAddFilter?e._e():t("b-button",{staticClass:"mt-1",attrs:{size:"sm",variant:"outline-warning"},on:{click:e.queueColumnFilter}},[t("i",{staticClass:"fa fa-plus"})]),e.queuedAddFilter?t("div",{staticClass:"d-inline-block"},[t("div",{staticClass:"input-group d-inline-flex"},[t("div",{staticClass:"input-group-prepend"},[t("select",{directives:[{name:"model",rawName:"v-model",value:e.fieldToAdd,expression:"fieldToAdd"}],staticClass:"form-control",on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.fieldToAdd=t.target.multiple?n:n[0]}}},e._l(e.columns,(function(n){return t("option",{key:n},[e._v(e._s(n)+"\n          ")])})),0)]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.operator,expression:"operator"}],staticClass:"form-control",on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.operator=t.target.multiple?n:n[0]}}},e._l(e.filterOptions,(function(n){return t("option",{key:n},[e._v(e._s(n)+"\n        ")])})),0),t("div",{staticClass:"input-group-append"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.fieldValue,expression:"fieldValue"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:e.fieldValue},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.addFilter.apply(null,arguments)},input:function(t){t.target.composing||(e.fieldValue=t.target.value)}}})])])]):e._e(),e.queuedAddFilter?t("b-button",{staticClass:"d-inline-block ml-3",attrs:{size:"sm",variant:"outline-warning"},on:{click:e.addFilter}},[t("i",{staticClass:"fa fa-plus"}),e._v(" Add Filter\n  ")]):e._e(),e.queuedAddFilter?t("b-button",{staticClass:"d-inline-block ml-3",attrs:{size:"sm",variant:"outline-danger"},on:{click:function(t){e.queuedAddFilter=!1}}},[t("i",{staticClass:"fa fa-ban"}),e._v(" Cancel\n  ")]):e._e(),e._l(e.filters,(function(n){return t("b-button",{key:n.f+"-"+n.o+"-"+n.v,staticClass:"d-inline-block ml-3",attrs:{size:"sm",variant:"warning"},on:{click:function(t){return e.removeFilter(n)}}},[t("i",{staticClass:"fa fa-remove"}),e._v(" "+e._s(e.formatFilterHuman(n))+"\n  ")])}))],2)},i=[],s=(n("ac6a"),n("3022")),r=n.n(s),c={name:"DbColumnFilter",props:{columns:{type:Array,required:!0},setFilters:{type:Array,required:!1}},data:function(){return{filters:[],fieldToAdd:"",operator:"",fieldValue:"",queuedAddFilter:!1,filterOptions:["=","!=","<=","<",">",">=","like","notlike"]}},watch:{setFilters:function(){this.filters=[],this.queuedAddFilter=!1,this.loadSetFilters()}},mounted:function(){this.reset(),this.loadSetFilters()},methods:{loadSetFilters:function(){this.filters=this.setFilters},reset:function(){var e=this;this.fieldValue="",setTimeout((function(){e.columns&&(e.fieldToAdd=e.columns[0],e.operator=e.filterOptions[0])}),100)},updateParent:function(){var e=[];this.filters.forEach((function(t){var n=t.o;e.push({f:t.f,o:n,v:t.v})})),this.$emit("input",e)},removeFilter:function(e){this.filters=this.filters.filter((function(t){var n=r.a.format("%s-%s-%s",t.field,t.operator,t.value),a=r.a.format("%s-%s-%s",e.field,e.operator,e.value);return n!==a})),this.updateParent()},formatFilterHuman:function(e){return r.a.format("%s %s %s",e.f,e.o,e.v)},addFilter:function(){this.filters.push({f:this.fieldToAdd,o:this.operator,v:this.fieldValue}),this.queuedAddFilter=!1,this.reset(),this.updateParent()},queueColumnFilter:function(){this.queuedAddFilter=!0}}},l=c,o=n("2877"),u=Object(o["a"])(l,a,i,!1,null,"1808f6c8",null);t["a"]=u.exports},"646b":function(e,t,n){"use strict";n("7f7f");var a=function(){var e=this,t=e._self._c;return e.spell?t("div",{staticClass:"d-inline-block"},[t("div",{attrs:{id:e.spell.id+"-"+e.popoverId+"-popover"}},[t("span",{class:"d-inline-block spell-"+e.spell.new_icon+e.getIconClassLabelFromSize(),style:e.getBorderStyling(),attrs:{title:e.spell.icon}}),t("span",{class:e.getLeftMargin(),style:"position:relative;"+e.getTextTopOffset()},[e._v(e._s(e.clampSpellName(e.spell.name))+" "+e._s(e.annotation))])]),t("b-popover",{staticStyle:{width:"500px !important"},attrs:{target:e.spell.id+"-"+e.popoverId+"-popover","custom-class":"no-bg",placement:"right",delay:"0",boundary:"viewport","no-fade":!0,triggers:"hover focus"}},[t("eq-window",{staticStyle:{width:"auto",height:"100%"}},[t("eq-spell-preview",{attrs:{"spell-data":e.spell}})],1)],1)],1):e._e()},i=[],s=(n("6b54"),n("c5f6"),n("935a")),r=n("adf0"),c=n("0329"),l={name:"SpellPopover",props:{spell:Object,size:{type:[Number,String],required:!1,default:40},spellNameLength:{type:Number,required:!1},annotation:{type:String,required:!1,default:""}},watch:{spell:{deep:!0,handler:function(){}}},data:function(){return{popoverId:Math.random().toString(16).slice(2),spellEffectInfo:[],spellData:{},sideLoadedSpellData:{},reagents:[]}},methods:{truncate:function(e,t){return e.length>t?e.substring(0,t)+"...":e},clampSpellName:function(e){return this.spellNameLength?this.truncate(e,this.spellNameLength):e},getLeftMargin:function(){return this.size<=12||this.size<=20?"ml-2":(this.size,"ml-3")},getIconClassLabelFromSize:function(){return this.size<=12?"-12":this.size<=20?"-20":this.size<=30?"-30":"-40"},getBorderStyling:function(){return this.size<=12?" border: 1px solid "+this.getTargetTypeColor():this.size<=20?"position: relative; top: 5px; border-radius: 5px; border: .5px solid "+this.getTargetTypeColor():(this.size,"border-radius: 5px; border: 1px solid "+this.getTargetTypeColor())},getTextTopOffset:function(){return this.size<=12?"top: -3px":this.size<=20?"top: 0px":this.size<=30?"top: -10px":"top: -15px"},getTargetTypeColor:function(){return c["a"].getTargetTypeColor(this.spell["targettype"])}},mounted:function(){this.sideLoadedSpellData=c["a"].data},components:{EqSpellPreview:r["a"],EqSpellCardPreview:r["a"],EqWindow:s["a"]}},o=l,u=n("2877"),p=Object(u["a"])(o,a,i,!1,null,null,null);t["a"]=p.exports},"6fe5":function(e,t,n){"use strict";var a=function(){var e=this,t=e._self._c;return t("eq-progress-bar",{style:0===e.timeMs?"opacity: .5":"",attrs:{percent:e.progress,"show-percent":!1,color:e.color}})},i=[],s=(n("c5f6"),n("e4ba")),r=(n("761d"),50),c={name:"loader-cast-bar-timer",data:function(){return{progress:0,internalProgress:0,internalTimeRemaining:0,interval:null}},props:{timeMs:{type:Number,required:!1,default:1e3},color:{type:String,required:!1,default:"yellow"}},components:{EqProgressBar:s["a"]},watch:{timeMs:function(){this.progress=0,this.internalProgress=0,this.internalTimeRemaining=0}},mounted:function(){this.interval=setInterval(this.incrementLoader,r),this.internalTimeRemaining=parseInt(this.timeMs)},beforeDestroy:function(){this.interval&&clearInterval(this.interval)},methods:{calculateProgress:function(){this.internalProgress=parseInt(this.internalTimeRemaining/this.timeMs*100),this.progress=Math.round(this.internalProgress)},incrementLoader:function(){var e=this;if(0===this.timeMs)return this.internalProgress=0,void(this.progress=0);this.internalTimeRemaining=parseInt(this.internalTimeRemaining-r),this.internalTimeRemaining<=0&&(clearInterval(this.interval),setTimeout((function(){e.internalTimeRemaining=e.timeMs,e.calculateProgress(),setTimeout((function(){e.interval=setInterval(e.incrementLoader,r)}),500)}),500)),this.calculateProgress()}}},l=c,o=n("2877"),u=Object(o["a"])(l,a,i,!1,null,null,null);t["a"]=u.exports},"73b7":function(e,t,n){"use strict";var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"d-inline-block"},[e.filterData.min_expansion>0?t("div",{staticClass:"d-inline-block ml-3"},[t("expansion-icon",{attrs:{expansion:e.filterData.min_expansion,title:"Minimum Expansion Required "}})],1):e._e(),e.filterData.max_expansion>0?t("div",{staticClass:"d-inline-block ml-3"},[t("expansion-icon",{attrs:{expansion:e.filterData.max_expansion,title:"Max Expansion Required "}})],1):e._e(),t("content-flag-pills",{attrs:{"flags-enabled":e.filterData.content_flags}}),t("content-flag-pills",{attrs:{"flags-disabled":e.filterData.content_flags_disabled}})],1)},i=[],s=n("7eeb"),r=n("a332"),c={name:"ContentFilterDisplayPills",components:{ExpansionIcon:r["a"],ContentFlagPills:s["a"]},props:{filterData:{type:Object,required:!0}}},l=c,o=n("2877"),u=Object(o["a"])(l,a,i,!1,null,"fe0c6456",null);t["a"]=u.exports},7514:function(e,t,n){"use strict";var a=n("5ca1"),i=n("0a49")(5),s="find",r=!0;s in[]&&Array(1)[s]((function(){r=!1})),a(a.P+a.F*r,"Array",{find:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),n("9c6c")(s)},"75df":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));n("ac6a"),n("96cf");var a=n("d225"),i=n("b0b4"),s=n("9ab4"),r=n("0d95"),c=n("3022"),l=n.n(c),o=function(){function e(){Object(a["a"])(this,e)}return Object(i["a"])(e,null,[{key:"getTableSchema",value:function(e){return Object(s["d"])(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,r["SpireApi"].v1().get(l.a.format("query/schema/table/%s",e));case 2:if(n=t.sent,!n.data||!n.data.data){t.next=5;break}return t.abrupt("return",n.data.data);case 5:return t.abrupt("return",{});case 6:case"end":return t.stop()}}),t)})))}},{key:"getTableColumns",value:function(e){return Object(s["d"])(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getTableSchema(e);case 2:return n=t.sent,a=[],n&&n.forEach((function(e){a.push(e.Column)})),t.abrupt("return",a);case 6:case"end":return t.stop()}}),t,this)})))}}])}()},"761d":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));n("ac6a");var a=n("d225"),i=n("b0b4"),s=function(){function e(){Object(a["a"])(this,e)}return Object(i["a"])(e,null,[{key:"setFieldHighlightHasSubEditor",value:function(e){var t=document.getElementById(e);t&&t.classList.add("pulsate-highlight-green")}},{key:"resetFieldHighlightHasSubEditorStatus",value:function(){document.querySelectorAll("input, select, textarea").forEach((function(e){e&&e.classList.contains("pulsate-highlight-green")&&e.classList.remove("pulsate-highlight-green")}))}},{key:"resetFieldSubEditorHighlightedStatus",value:function(){document.querySelectorAll("input, select, textarea").forEach((function(e){e&&e.classList.contains("pulsate-highlight-white")&&e.classList.remove("pulsate-highlight-white")}))}},{key:"anyFieldsHaveBeenEdited",value:function(){var e=!1;return document.querySelectorAll("input, select, textarea").forEach((function(t){t&&t.classList.contains("pulsate-highlight-modified")&&(e=!0)})),e}},{key:"resetFieldEditedStatus",value:function(){document.querySelectorAll("input, select, textarea").forEach((function(e){e&&e.classList.contains("pulsate-highlight-modified")&&e.classList.remove("pulsate-highlight-modified")}))}},{key:"setFieldModified",value:function(e){1!==parseInt(e.target.getAttribute("ignore-input-change"))&&e.target.classList.add("pulsate-highlight-modified")}},{key:"setFieldModifiedById",value:function(e){var t=document.getElementById(e);t&&t.classList.add("pulsate-highlight-modified")}},{key:"clearFieldModifiedById",value:function(e){var t=document.getElementById(e);t&&t.classList.remove("pulsate-highlight-modified")}},{key:"setFieldSubEditorHighlightedById",value:function(e){var t=document.getElementById(e);t&&t.classList.add("pulsate-highlight-white")}}])}()},"78ff":function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return i}));var a=["Classic","The Ruins of Kunark","The Scars of Velious","The Shadows of Luclin","The Planes of Power","The Legacy of Ykesha","Lost Dungeons of Norrath","Gates of Discord","Omens of War","Dragons of Norrath","Depths of Darkhollow","Prophecy of Ro","The Serpent's Spine","The Buried Sea","Secrets of Faydwer","Seeds of Destruction","Underfoot","House of Thule","Veil of Alaris","Rain of Fear","Call of the Forsaken","The Darkened Sea","The Broken Mirror","Empires of Kunark","Ring of Scale","The Burning Lands","Torment of Velious"],i={0:{name:"Classic",mask:0,icon:"original.gif"},1:{name:"The Ruins of Kunark",mask:1,icon:"kunarkicon.gif"},2:{name:"The Scars of Velious",mask:2,icon:"veliousicon.gif"},3:{name:"The Shadows of Luclin",mask:4,icon:"luclinicon.gif"},4:{name:"The Planes of Power",mask:8,icon:"powericon.gif"},5:{name:"The Legacy of Ykesha",mask:16,icon:"ykeshaicon.gif"},6:{name:"Lost Dungeons of Norrath",mask:32,icon:"ldonicon.gif"},7:{name:"Gates of Discord",mask:64,icon:"gatesicon.gif"},8:{name:"Omens of War",mask:128,icon:"omensicon.gif"},9:{name:"Dragons of Norrath",mask:256,icon:"donicon.gif"},10:{name:"Depths of Darkhollow",mask:512,icon:"dodicon.png"},11:{name:"Prophecy of Ro",mask:1024,icon:"poricon.png"},12:{name:"The Serpent's Spine",mask:2048,icon:"serpsicon.gif"},13:{name:"The Buried Sea",mask:4096,icon:"buried.gif"},14:{name:"Secrets of Faydwer",mask:8192,icon:"secrets.gif"},15:{name:"Seeds of Destruction",mask:16384,icon:"seedsofdestruction.gif"},16:{name:"Underfoot",mask:32768,icon:"underfoot.gif"},17:{name:"House of Thule",mask:65536,icon:"thule.gif"},18:{name:"Veil of Alaris",mask:131072,icon:"alaris.gif"},19:{name:"Rain of Fear",mask:262144,icon:"fear.gif"},20:{name:"Call of the Forsaken",mask:524288,icon:"calloftheforsaken.gif"},21:{name:"The Darkened Sea",mask:1048576,icon:"darkenedsea.gif"},22:{name:"The Broken Mirror",mask:2097152,icon:"brokenmirror.gif"},23:{name:"Empires of Kunark",mask:4194304,icon:"empires.gif"},24:{name:"Ring of Scale",mask:8388608,icon:"scale.gif"},25:{name:"The Burning Lands",mask:16777216,icon:"burning.gif"},26:{name:"Torment of Velious",mask:33554432,icon:"torment.gif"}}},"7eeb":function(e,t,n){"use strict";n("28a5");var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"d-inline-block ml-1"},[e.flagsEnabled&&e.flagsEnabled.length>0?t("div",{staticClass:"d-inline-block"},e._l(e.flagsEnabled.split(","),(function(n){return t("b-badge",{key:n,attrs:{title:"Enabled when this content flag is enabled",pill:"",variant:"warning"}},[e._v(e._s(n)+"\n    ")])})),1):e._e(),e.flagsDisabled&&e.flagsDisabled.length>0?t("div",{staticClass:"d-inline-block"},e._l(e.flagsDisabled.split(","),(function(n){return t("b-badge",{key:n,attrs:{title:"Disabled when this content flag is enabled",pill:"",variant:"danger"}},[e._v(e._s(n)+"\n    ")])})),1):e._e()])},i=[],s={name:"ContentFlagPills",props:{flagsEnabled:{type:String,required:!1},flagsDisabled:{type:String,required:!1}}},r=s,c=n("2877"),l=Object(c["a"])(r,a,i,!1,null,"f1f957d2",null);t["a"]=l.exports},8915:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a={"-1":"None",0:"Grounded",1:"Flying",2:"Levitate",3:"Water",4:"Floating",5:"Levitate While Running"}},8955:function(e,t,n){},a006:function(e,t,n){"use strict";n("7f7f"),n("ac6a"),n("456d"),n("55dd"),n("6b54");var a=function(){var e=this,t=e._self._c;return e.npc?t("div",[t("span",{class:"race-models-ctn-"+e.getRaceImage(e.npc),staticStyle:{position:"absolute",right:"7%",opacity:".8",filter:"drop-shadow(10px 5px 2px #000)"}}),e.npc.d_melee_texture_1>0?t("span",{class:"mt-2 mb-2 object-ctn-"+e.npc.d_melee_texture_1,style:"position: absolute; right: "+(e.npc.d_melee_texture_2>0?25:20)+"%; top: 10px; opacity: 1; filter: drop-shadow(10px 5px 2px #000); z-index: 9999"}):e._e(),e.npc.d_melee_texture_2>0?t("span",{class:"mt-2 mb-2 object-ctn-"+e.npc.d_melee_texture_2,staticStyle:{position:"absolute",right:"20%",top:"10px",filter:"drop-shadow(10px 5px 2px #000)",opacity:".8"}}):e._e(),t("div",{staticClass:"row"},[t("div",{staticClass:"col-8"},[t("h6",{staticClass:"eq-header",staticStyle:{margin:"0px","margin-bottom":"10px"}},[e._v("\n        "+e._s(e.getCleanName())+" "+e._s(e.npc.lastname&&e.npc.lastname.length>0?"("+e.npc.lastname+")":"")+"\n      ")])]),t("div",{staticClass:"col-12"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-2 text-right font-weight-bold pr-0"},[e._v("\n          ID\n        ")]),t("div",{staticClass:"col-4 pl-3"},[e._v("\n          "+e._s(e.npc.id)+"\n        ")])]),t("div",{staticClass:"row"},[t("div",{staticClass:"col-2 text-right font-weight-bold pr-0"},[e._v("\n          Level\n        ")]),t("div",{staticClass:"col-4 pl-3"},[e._v("\n          "+e._s(e.npc.level)+"\n        ")])]),t("div",{staticClass:"row"},[t("div",{staticClass:"col-2 text-right font-weight-bold pr-0"},[e._v("\n          Class\n        ")]),t("div",{staticClass:"col-4 pl-3"},[e.getClassIcon().toString().length>0?t("span",{class:"item-"+e.getClassIcon()+"-sm",staticStyle:{display:"inline-block"}}):e._e(),t("span",{staticStyle:{position:"relative",top:"-2px"}},[e._v("\n            "+e._s(e.getClassName(e.npc.class))+" ("+e._s(e.npc.class)+")\n          ")])])]),t("div",{staticClass:"row"},[t("div",{staticClass:"col-2 text-right font-weight-bold pr-0"},[e._v("\n          Race\n        ")]),t("div",{staticClass:"col-4 pl-3"},[e.getRaceIcon().toString().length>0?t("span",{class:"item-"+e.getRaceIcon()+"-sm",staticStyle:{display:"inline-block"}}):e._e(),t("span",{staticStyle:{position:"relative",top:"-2px"}},[e._v("\n            "+e._s(e.getRaceName(e.npc.race))+" ("+e._s(e.npc.race)+")\n          ")])])]),t("div",{staticClass:"row"},[t("div",{staticClass:"col-2 text-right font-weight-bold pr-0"},[e._v("\n          Bodytype\n        ")]),t("div",{staticClass:"col-4 pl-3"},[e._v("\n          "+e._s(e.getBodytype())+" ("+e._s(e.npc.bodytype)+")\n        ")])]),e.npc.merchant_id>0?t("div",{staticClass:"row"},[t("div",{staticClass:"col-2 text-right font-weight-bold pr-0"},[e._v("\n          Merchant ID\n        ")]),t("div",{staticClass:"col-4 pl-3"},[e._v("\n          "+e._s(e.npc.merchant_id)+"\n        ")])]):e._e(),0!==e.npc.armortint_red||0!==e.npc.armortint_green||0!==e.npc.armortint_blue?t("div",{staticClass:"row"},[t("div",{staticClass:"col-2 text-right font-weight-bold pr-0"},[e._v("\n          Armor RGB\n        ")]),t("div",{staticClass:"col-4 pl-3"},[t("div",{staticClass:"mr-3",style:"width: 15px; height: 15px; margin-top: 3px; border-radius: 5px; background-color: rgb("+e.npc.armortint_red+", "+e.npc.armortint_green+", "+e.npc.armortint_blue+");"})])]):e._e()])]),e.noStats?e._e():t("div",{staticClass:"mt-4 mb-5"},e._l(e.rows,(function(n,a){return t("div",{key:a,staticClass:"row mt-3"},e._l(n.columns,(function(n,a){return t("div",{key:a,staticClass:"col-4"},e._l(n,(function(n){return"undefined"!==typeof n.showIf&&n.showIf||"undefined"===typeof n.showIf?t("div",{key:n.label,staticClass:"row"},[t("div",{staticClass:"col-8 text-left font-weight-bold pr-0"},[n.icon?t("span",{class:"item-"+n.icon+"-sm",staticStyle:{display:"inline-block"}}):e._e(),t("span",{staticStyle:{position:"relative",top:"-2px"}},[e._v("\n          "+e._s(n.label)+"\n          ")])]),t("div",{staticClass:"col-4 pl-1",staticStyle:{position:"relative",top:"-2px"}},[e._v("\n            "+e._s(parseInt(n.value)>0?e.commify(n.value):n.value)+"\n          ")])]):e._e()})),0)})),0)})),0),e.npc.special_abilities.length>0&&!e.noStats?t("div",{staticClass:"mt-3"},[t("div",{staticClass:"font-weight-bold mb-3"},[e._v("\n      This NPC has the following special abilities ("+e._s(e.parseSpecialAbilities(e.npc.special_abilities).length)+")\n    ")]),t("ul",{staticStyle:{"padding-left":"20px"}},e._l(e.parseSpecialAbilities(e.npc.special_abilities).sort((function(e,t){return e.localeCompare(t)})),(function(n){return t("li",{staticStyle:{display:"list-item","list-style-type":"circle"}},[e._v("\n        "+e._s(n)+"\n      ")])})),0)]):e._e(),e.npc.merchant_id>0?t("div",{staticClass:"mt-3"},[e.merchantitems&&e.merchantitems.length>0&&(e.merchantitems.length<e.maxDataEntries||e.showMerchantItems)?t("div",{},[t("div",{staticClass:"font-weight-bold mb-3"},[e._v("This NPC sells the following items ("+e._s(e.commify(e.merchantitems.length))+")\n        "),e.merchantitems.length>e.maxDataEntries?t("a",{attrs:{href:"javascript:void(0);"},on:{click:function(t){e.showMerchantItems=!1}}},[e._v("hide")]):e._e()]),t("table",{staticClass:"eq-table eq-highlight-rows",staticStyle:{width:"95%"}},[t("tbody",e._l(e.merchantitems,(function(n){return n.item&&"undefined"!==typeof n.item.price?t("tr",[t("td",[Object.keys(n.item).length>0&&n.item?t("item-popover",{staticClass:"d-inline-block",attrs:{item:n.item,size:"sm"}}):e._e(),e._v("\n            "+e._s(n.item.stacksize>0?"(".concat(n.item.stacksize,")"):"")+"\n\n            "),t("content-filter-display-pills",{attrs:{"filter-data":n.entry}})],1),t("td",[t("eq-cash-display",{staticClass:"ml-1",staticStyle:{"min-width":"150px"},attrs:{price:parseInt(n.item.price)}})],1)]):e._e()})),0)])]):e._e(),e.merchantitems&&e.merchantitems.length>0&&e.merchantitems.length>e.maxDataEntries&&!e.showMerchantItems?t("div",{staticClass:"font-weight-bold"},[e._v("\n      This NPC sells ("+e._s(e.commify(e.merchantitems.length))+") items, click "),t("a",{attrs:{href:"javascript:void(0);"},on:{click:function(t){e.showMerchantItems=!0}}},[e._v("here")]),e._v("\n      to view them all\n    ")]):e._e()]):e._e(),e.npc.npc_spells_id>0?t("div",{staticClass:"mt-3"},[e.castedSpells&&e.castedSpells.length>0&&(e.castedSpells.length<e.maxDataEntries||e.showCastedSpells)?t("div",{},[t("div",{staticClass:"font-weight-bold mb-3"},[e._v("This NPC casts the following spells ("+e._s(e.commify(e.castedSpells.length))+")\n        ("+e._s(e.npc.npc_spell.name)+")\n        "),e.castedSpells.length>e.maxDataEntries?t("a",{attrs:{href:"javascript:void(0);"},on:{click:function(t){e.showCastedSpells=!1}}},[e._v("hide")]):e._e()]),e._l(e.castedSpells,(function(n){return t("div",[Object.keys(n.spell).length>0&&n.spell?t("spell-popover",{staticClass:"mt-2",attrs:{spell:n.spell,size:20,"spell-name-length":25}}):e._e()],1)}))],2):e._e(),e.castedSpells&&e.castedSpells.length>0&&e.castedSpells.length>e.maxDataEntries&&!e.showCastedSpells?t("div",{staticClass:"font-weight-bold"},[e._v("\n      This NPC casts ("+e._s(e.commify(e.castedSpells.length))+") spells, click "),t("a",{attrs:{href:"javascript:void(0);"},on:{click:function(t){e.showCastedSpells=!0}}},[e._v("here")]),e._v("\n      to view them all\n    ")]):e._e()]):e._e(),e.npc.npc_spells_id>0?t("div",{staticClass:"mt-3"},[e.factionHits&&e.factionHits.length>0&&(e.factionHits.length<e.maxDataEntries||e.showFactionHits)?t("div",{},[t("div",{staticClass:"font-weight-bold mb-3"},[e._v("This NPC has the following faction hits ("+e._s(e.commify(e.factionHits.length))+")\n        "),e.factionHits.length>e.maxDataEntries?t("a",{attrs:{href:"javascript:void(0);"},on:{click:function(t){e.showFactionHits=!1}}},[e._v("hide")]):e._e()]),t("ul",{staticStyle:{"padding-left":"20px"}},e._l(e.factionHits,(function(n){return t("li",{staticStyle:{display:"list-item","list-style-type":"circle"}},[e._v("\n          "+e._s(n.name)+" ("+e._s(n.hitValue)+")\n        ")])})),0)]):e._e(),e.factionHits&&e.factionHits.length>0&&e.factionHits.length>e.maxDataEntries&&!e.showFactionHits?t("div",{staticClass:"font-weight-bold"},[e._v("\n      This NPC has ("+e._s(e.commify(e.factionHits.length))+") faction hits, click "),t("a",{attrs:{href:"javascript:void(0);"},on:{click:function(t){e.showFactionHits=!0}}},[e._v("here")]),e._v("to view them all\n    ")]):e._e()]):e._e(),e.npc.loottable_id>0?t("div",{staticClass:"mt-3"},[e.loot&&e.loot.length>0&&(e.loot.length<e.maxDataEntries||e.showLoot)?t("div",{},[t("div",{staticClass:"font-weight-bold mb-3"},[e._v("This NPC drops the following items ("+e._s(e.commify(e.loot.length))+")\n        "),e.loot.length>e.maxDataEntries?t("a",{attrs:{href:"javascript:void(0);"},on:{click:function(t){e.showLoot=!1}}},[e._v("hide")]):e._e()]),e._l(e.loot,(function(n){return t("div",[Object.keys(n.item).length>0&&n.item?t("item-popover",{staticClass:"d-inline-block",attrs:{item:n.item,size:"sm"}}):e._e()],1)}))],2):e._e(),e.loot&&e.loot.length>0&&e.loot.length>e.maxDataEntries&&!e.showLoot?t("div",{staticClass:"font-weight-bold"},[e._v("\n      This NPC drops ("+e._s(e.commify(e.loot.length))+") items, click "),t("a",{attrs:{href:"javascript:void(0);"},on:{click:function(t){e.showLoot=!0}}},[e._v("here")]),e._v("\n      to view them all\n    ")]):e._e()]):e._e(),t("eq-debug",{attrs:{data:e.npc}})],1):e._e()},i=[],s=(n("ac4d"),n("8a81"),n("5df3"),n("1c4c"),n("a481"),n("c5f6"),n("96cf"),n("3b8d")),r=n("dd86"),c=n("01de"),l=n("6023"),o=n("a50e"),u=n("573e"),p=n("8915"),d=n("cd97"),h=n("a78e"),f=n("646b"),m=n("a332"),g=n("7eeb"),v=n("73b7");function _(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=y(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,i=function(){};return{s:i,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,r=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return r=e.done,e},e:function(e){c=!0,s=e},f:function(){try{r||null==n.return||n.return()}finally{if(c)throw s}}}}function y(e,t){if(e){if("string"==typeof e)return b(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(e,t):void 0}}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}var N={name:"EqNpcCardPreview",components:{ContentFilterDisplayPills:v["a"],ContentFlagPills:g["a"],ExpansionIcon:m["a"],SpellPopover:f["a"],EqCashDisplay:h["a"],ItemPopover:d["a"],EqDebug:r["a"]},data:function(){return{maxDataEntries:15,showLoot:!1,loot:{},merchantitems:[],showMerchantItems:!1,castedSpells:[],showCastedSpells:!1,factionHits:[],showFactionHits:!1,rows:this.getCardRows()}},mounted:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.init();case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),props:{npc:{type:Object,default:{},required:!0},noStats:{type:Boolean,required:!1,default:!1},limitEntries:{type:Number,required:!1,default:20}},watch:{npc:{deep:!0,handler:function(){this.init(),this.rows=this.getCardRows(),this.$forceUpdate()}}},methods:{getRaceImage:function(e){return c["a"].getRaceImage(e)},parseSpecialAbilities:function(e){return c["a"].specialAbilitiesToHuman(e)},commify:function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},getCleanName:function(){return c["a"].getCleanName(this.npc.name)},getRaceName:function(e){return l["c"][e]},getClassName:function(e){return o["a"][e]},getBodytype:function(){return u["a"][this.npc.bodytype]},getClassIcon:function(){return o["e"][this.npc.class]?o["e"][this.npc.class].icon:""},getRaceIcon:function(){return l["a"][this.npc.race]?l["a"][this.npc.race].icon:""},init:function(){if(console.log("[npc card] rendering for [%s]",this.npc.name),this.npc.merchant_id>0&&this.npc.merchantlists){var e,t=[],n=_(this.npc.merchantlists);try{for(n.s();!(e=n.n()).done;){var a=e.value;!a.items||a.items&&0===a.items.length?console.log("not a valid item"):t.push({item:a.items&&a.items.length>0?a.items[0]:{},entry:a})}}catch(w){n.e(w)}finally{n.f()}this.merchantitems=t}if(this.npc.loottable_id>0&&this.npc.loottable&&this.npc.loottable.loottable_entries){var i,s=[],r=_(this.npc.loottable.loottable_entries);try{for(r.s();!(i=r.n()).done;){var c,l=i.value,o=_(l.lootdrop.lootdrop_entries);try{var u=function(){var e=c.value;e.item&&0===s.filter((function(t){return t.item.id===e.item.id})).length&&s.push({item:e.item})};for(o.s();!(c=o.n()).done;)u()}catch(w){o.e(w)}finally{o.f()}}}catch(w){r.e(w)}finally{r.f()}this.loot=s.sort((function(e,t){return e.item.name.localeCompare(t.item.name)}))}if(this.npc.npc_spells_id>0&&this.npc.npc_spell&&this.npc.npc_spell.npc_spells_entries){var p,d=[],h=_(this.npc.npc_spell.npc_spells_entries);try{var f=function(){var e=p.value;0===d.filter((function(t){return t.spell.id===e.spells_new.id})).length&&d.push({spell:e.spells_new})};for(h.s();!(p=h.n()).done;)f()}catch(w){h.e(w)}finally{h.f()}this.castedSpells=d.sort((function(e,t){return e.spell.name.localeCompare(t.spell.name)}))}if(this.npc.npc_faction_id>0&&this.npc.npc_factions){var m,g=[],v=_(this.npc.npc_factions);try{for(v.s();!(m=v.n()).done;){var y=m.value;if(y.npc_faction_entries){var b,N=_(y.npc_faction_entries);try{var C=function(){var e=b.value;0===g.filter((function(t){return e.name===t.name})).length&&g.push({name:e.faction_list.name,hitValue:e.value})};for(N.s();!(b=N.n()).done;)C()}catch(w){N.e(w)}finally{N.f()}}}}catch(w){v.e(w)}finally{v.f()}this.factionHits=g.sort((function(e,t){return e.name.localeCompare(t.name)}))}console.log("[card preview] no stats",this.noStats),console.log("[card preview] no limit",this.limitEntries),this.limitEntries&&(this.maxDataEntries=this.limitEntries)},getCardRows:function(){return[{columns:[[{icon:"2052",label:"HP",value:this.npc["hp"],showIf:this.npc["hp"]>0},{icon:"2052",label:"(Sec) HP Regen",value:this.npc["hp_regen_per_second"],showIf:this.npc["hp_regen_per_second"]>0},{icon:"2052",label:"(Tic) HP Regen",value:this.npc["hp_regen_rate"],showIf:this.npc["hp_regen_rate"]>0},{icon:"2057",label:"Mana",value:this.npc["mana"],showIf:this.npc["mana"]>0},{icon:"2057",label:"(Tic) Mana Regen",value:this.npc["mana_regen_rate"],showIf:this.npc["mana_regen_rate"]>0}],[{icon:"5388",label:"Armor Class",value:this.npc["ac"],showIf:this.npc["ac"]>0},{icon:"1959",label:"Agility",value:this.npc["agi"],showIf:this.npc["agi"]>0},{icon:"1953",label:"Dexterity",value:this.npc["dex"],showIf:this.npc["dex"]>0},{icon:"1947",label:"Stamina",value:this.npc["sta"],showIf:this.npc["sta"]>0},{icon:"1941",label:"Strength",value:this.npc["str"],showIf:this.npc["str"]>0},{icon:"1965",label:"Charisma",value:this.npc["cha"],showIf:this.npc["cha"]>0},{icon:"1971",label:"Wisdom",value:this.npc["wis"],showIf:this.npc["wis"]>0},{icon:"1977",label:"Intelligence",value:this.npc["_int"],showIf:this.npc["_int"]>0}],[{icon:"2987",label:"Cold Resist",value:this.npc["cr"],showIf:this.npc["cr"]>0},{icon:"2994",label:"Disease Resist",value:this.npc["dr"],showIf:this.npc["dr"]>0},{icon:"2988",label:"Fire Resist",value:this.npc["fr"],showIf:this.npc["fr"]>0},{icon:"2984",label:"Magic Resist",value:this.npc["mr"],showIf:this.npc["mr"]>0},{icon:"2986",label:"Poison Resist",value:this.npc["pr"],showIf:this.npc["pr"]>0},{icon:"2995",label:"Corrup. Resist",value:this.npc["corrup"],showIf:this.npc["corrup"]>0},{icon:"2982",label:"Physical Resist",value:this.npc["ph_r"],showIf:this.npc["ph_r"]>0}]]},{columns:[[{icon:"",label:"See Hide",value:this.npc["see_hide"]?"Yes":"No",showIf:this.npc["see_hide"]>0},{icon:"",label:"See Improved Hide",value:this.npc["see_improved_hide"]?"Yes":"No",showIf:this.npc["see_improved_hide"]>0},{icon:"",label:"See Invisible",value:this.npc["see_invis"]?"Yes":"No",showIf:this.npc["see_invis"]>0},{icon:"",label:"See Invis Undead",value:this.npc["see_invis_undead"]?"Yes":"No",showIf:this.npc["see_invis_undead"]>0},{icon:"",label:"Show Name",value:this.npc["show_name"]?"Yes":"No",showIf:this.npc["show_name"]>0},{icon:"",label:"Skip Global Loot",value:this.npc["skip_global_loot"]?"Yes":"No",showIf:this.npc["skip_global_loot"]>0},{icon:"",label:"Spawn Limit",value:this.npc["spawn_limit"],showIf:this.npc["spawn_limit"]>0},{icon:"",label:"Trackable",value:this.npc["trackable"]?"Yes":"No",showIf:this.npc["trackable"]>0},{icon:"",label:"Stuck Behavior",value:this.npc["stuck_behavior"],showIf:this.npc["stuck_behavior"]>0},{icon:"",label:"No Target Hotkey",value:this.npc["no_target_hotkey"]?"Yes":"No",showIf:this.npc["no_target_hotkey"]>0},{icon:"",label:"Flymode",value:p["a"][this.npc["flymode"]]?p["a"][this.npc["flymode"]]:"",showIf:this.npc["flymode"]>0},{icon:"",label:"Findable",value:this.npc["findable"]?"Yes":"No",showIf:this.npc["findable"]>0},{icon:"",label:"Untargetable",value:this.npc["untargetable"]?"Yes":"No",showIf:this.npc["untargetable"]>0},{icon:"",label:"Underwater",value:this.npc["underwater"]?"Yes":"No",showIf:this.npc["underwater"]>0},{icon:"",label:"Unique Spawn By Name",value:this.npc["unique_spawn_by_name"]?"Yes":"No",showIf:this.npc["unique_spawn_by_name"]>0},{icon:"",label:"QGlobals Enabled",value:this.npc["qglobal"]?"Yes":"No",showIf:this.npc["qglobal"]>0},{icon:"",label:"Ignore Despawn",value:this.npc["ignore_despawn"]?"Yes":"No",showIf:this.npc["ignore_despawn"]>0},{icon:"",label:"Experience Modifier",value:this.npc["exp_mod"],showIf:100!==this.npc["exp_mod"]},{icon:"",label:"Bot NPC",value:this.npc["isbot"]?"Yes":"No",showIf:this.npc["isbot"]>0},{icon:"",label:"Quest NPC",value:this.npc["isquest"]?"Yes":"No",showIf:this.npc["isquest"]>0}],[],[{icon:"2087",label:"Min Damage",value:this.npc["mindmg"]},{icon:"2087",label:"Max Damage",value:this.npc["maxdmg"]},{icon:"2090",label:"Attack Count",value:this.npc["attack_count"],showIf:-1!==this.npc["attack_count"]},{icon:"2095",label:"Attack Delay",value:this.npc["attack_delay"]},{icon:"2102",label:"Attack Speed",value:this.npc["attack_speed"]},{icon:"778",label:"Heal Scale",value:this.npc["healscale"]+"%",showIf:100!==this.npc["healscale"]},{icon:"777",label:"Spell Scale",value:this.npc["spellscale"]+"%",showIf:100!==this.npc["spellscale"]},{icon:"778",label:"Scale Rate",value:this.npc["scalerate"]+"%",showIf:100!==this.npc["scalerate"]},{icon:"590",label:"Attack",value:this.npc["atk"],showIf:this.npc["atk"]>0},{icon:"597",label:"Accuracy",value:this.npc["accuracy"],showIf:this.npc["accuracy"]>0},{icon:"3656",label:"Avoidance",value:this.npc["avoidance"],showIf:this.npc["avoidance"]>0},{icon:"5388",label:"Charm Armor Class",value:this.npc["charm_ac"],showIf:this.npc["charm_ac"]>0},{icon:"597",label:"Charm Accuracy",value:this.npc["charm_accuracy_rating"],showIf:this.npc["charm_accuracy_rating"]>0},{icon:"590",label:"Charm Attack",value:this.npc["charm_atk"],showIf:this.npc["charm_atk"]>0},{icon:"2095",label:"Charm Attack Delay",value:this.npc["charm_attack_delay"],showIf:this.npc["charm_attack_delay"]>0},{icon:"3656",label:"Charm Avoidance",value:this.npc["charm_avoidance_rating"],showIf:this.npc["charm_avoidance_rating"]>0},{icon:"2087",label:"Charm Min Damage",value:this.npc["charm_min_dmg"],showIf:this.npc["charm_min_dmg"]>0},{icon:"2087",label:"Charm Max Damage",value:this.npc["charm_max_dmg"],showIf:this.npc["charm_max_dmg"]>0}]]}]}}},C=N,w=n("2877"),k=Object(w["a"])(C,a,i,!1,null,"3303983e",null);t["a"]=k.exports},a25c:function(e,t,n){"use strict";var a=function(){var e=this,t=e._self._c;return e.mask>=0?t("div",{staticClass:"row"},[t("div",{staticClass:"ml-1 mr-3 d-inline-block text-center",style:e.centeredButtons?"width: 100%":""},[e._l(e.races,(function(n,a){return t("div",{staticClass:"text-center d-inline-block"},[t("div",{staticClass:"text-center p-0 mr-1 col-lg-12 col-sm-12"},[e.showTextTop?t("span",[e._v(e._s(n.short))]):e._e(),t("div",{staticClass:"text-center"},[t("span",{class:"hover-highlight-inner item-"+n.icon+" "+(e.isRaceSelected(a)?"highlight-selected-inner":""),style:e.isRaceSelected(a)?"border-radius: 3px;":"border-radius: 3px; opacity: .6",attrs:{title:n.race},on:{click:function(t){return e.selectRace(a)}}})])])])})),e.displayAllNone?t("div",{staticClass:"d-inline-block",style:"line-height: 25px; bottom: "+(e.centeredButtons?-10:15)+"px; position: relative;"},[t("div",{class:"text-center mt-2 btn-xs eq-button-fancy "+(parseInt(e.mask)>=65535?"eq-button-fancy-highlighted":""),on:{click:function(t){return e.selectAll()}}},[e._v("\n        All\n      ")]),t("div",{class:"text-center mt-2 btn-xs eq-button-fancy "+(0===parseInt(e.mask)?"eq-button-fancy-highlighted":""),on:{click:function(t){return e.selectNone()}}},[e._v("\n        None\n      ")])]):e._e()],2)]):e._e()},i=[],s=(n("456d"),n("ac6a"),n("c5f6"),n("6023")),r=n("3022"),c=n.n(r),l={name:"RaceBitmaskCalculator",props:{debug:{type:Boolean,required:!1},mask:{type:Number,required:!1},displayAllNone:{type:Boolean,required:!1,default:!0},centeredButtons:{type:Boolean,required:!1,default:!0},showTextTop:{type:Boolean,required:!1,default:!0},imageSize:{type:Number,required:!1,default:50}},watch:{mask:{immediate:!0,handler:function(e,t){this.currentMask=parseInt(this.mask),this.calculateFromBitmask()}}},data:function(){return{races:s["a"],selectedRaces:{},currentMask:0}},mounted:function(){this.currentMask=parseInt(this.mask),this.calculateFromBitmask()},methods:{getImageSize:function(){return c.a.format("width: %spx; height %spx;",this.imageSize,this.imageSize)},selectAll:function(){var e=this;Object.keys(this.races).reverse().forEach((function(t){e.selectedRaces[t]=!0})),this.$forceUpdate(),this.calculateToBitmask()},selectNone:function(){var e=this;Object.keys(this.races).reverse().forEach((function(t){e.selectedRaces[t]=!1})),this.$forceUpdate(),this.calculateToBitmask()},calculateFromBitmask:function(){var e=this;Object.keys(this.races).reverse().forEach((function(t){var n=e.races[t];e.selectedRaces[t]=!1,e.currentMask>=n.mask&&(e.currentMask-=n.mask,e.selectedRaces[t]=!0)})),this.$forceUpdate()},calculateToBitmask:function(){var e=this,t=0;Object.keys(this.races).reverse().forEach((function(n){var a=e.races[n];e.selectedRaces[n]&&(t+=parseInt(a.mask))})),this.$emit("update:inputData",parseInt(t)),this.$emit("input",parseInt(t)),this.$emit("fired","true")},selectRace:function(e){this.selectedRaces[e]=!this.selectedRaces[e],this.$forceUpdate(),this.calculateToBitmask()},isRaceSelected:function(e){return this.selectedRaces[e]}}},o=l,u=n("2877"),p=Object(u["a"])(o,a,i,!1,null,"210202d6",null);t["a"]=p.exports},a332:function(e,t,n){"use strict";n("6762"),n("2fdb");var a=function(){var e=this,t=e._self._c;return e.getExpansionIcon(e.expansion).includes("base64")?e._e():t("img",{staticClass:"mr-2 p-1 hover-highlight-inner",style:"width: 56px; opacity: .7; border: 2px solid rgb(218 218 218 / 30%); border-radius: 7px;",attrs:{alt:e.getExpansionName(e.expansion),title:e.title+e.getExpansionName(e.expansion)+" ("+e.expansion+")",src:e.getExpansionIcon(e.expansion)}})},i=[],s=(n("c5f6"),n("26df")),r={name:"ExpansionIcon",props:{expansion:{type:Number,required:!0},title:{type:String,required:!1,default:""}},methods:{getExpansionIcon:function(e){return s["a"].getExpansionIconUrlSmall(e)},getExpansionName:function(e){return s["a"].getExpansionName(e)}}},c=r,l=n("2877"),o=Object(l["a"])(c,a,i,!1,null,"54580cb1",null);t["a"]=o.exports},b51d:function(e,t,n){"use strict";var a=function(){var e=this,t=e._self._c;return e.mask>=0?t("div",{staticClass:"row"},[t("div",{staticClass:"ml-1 mr-3 d-inline-block",style:e.centeredButtons?"width: 100%; margin: 0;":""},[e._l(e.classes,(function(n,a){return t("div",{staticClass:"d-inline-block"},[t("div",{staticClass:"text-center p-0 mr-1 col-lg-12 col-sm-12"},[e.showTextTop?t("span",[e._v(e._s(n.short))]):e._e(),t("div",{staticClass:"text-center"},[t("span",{class:"hover-highlight-inner item-"+n.icon+" "+(e.isClassSelected(a)?"highlight-selected-inner":""),style:e.isClassSelected(a)?"border-radius: 3px;":"border-radius: 3px; opacity: .6",attrs:{title:n.class},on:{click:function(t){return e.selectClass(a)}}})])])])})),e.displayAllNone?t("div",{staticClass:"d-inline-block",style:"line-height: 25px; bottom: "+(e.centeredButtons?-10:15)+"px; position: relative;"},[t("div",{class:"text-center mt-2 btn-xs eq-button-fancy "+(parseInt(e.mask)>=65535&&!this.isOnlySelectedAndEnabled()?"eq-button-fancy-highlighted":""),on:{click:function(t){return e.selectAll()}}},[e._v("\n        All\n      ")]),t("div",{class:"text-center mt-2 btn-xs eq-button-fancy "+(0!==parseInt(e.mask)||this.isOnlySelectedAndEnabled()?"":"eq-button-fancy-highlighted"),on:{click:function(t){return e.selectNone()}}},[e._v("\n        None\n      ")]),e.addOnlyButtonEnabled?t("div",{class:"text-center mt-2 btn-xs eq-button-fancy "+(this.onlySelected?"eq-button-fancy-highlighted":""),attrs:{title:"When this is selected, only entries selected will appear in the results"},on:{click:function(t){return e.selectOnly()}}},[e._v("\n        Only\n      ")]):e._e()]):e._e()],2)]):e._e()},i=[],s=(n("456d"),n("ac6a"),n("c5f6"),n("4ac1"),n("a50e")),r=(n("3022"),{name:"ClassBitmaskCalculator",props:{debug:{type:Boolean,required:!1},mask:{type:Number,required:!1},displayAllNone:{type:Boolean,required:!1,default:!0},centeredButtons:{type:Boolean,required:!1,default:!0},showTextTop:{type:Boolean,required:!1,default:!0},showTextSide:{type:Boolean,required:!1,default:!1},addOnlyButtonEnabled:{type:Boolean,required:!1,default:!1},addOnlyStateEnabled:{type:Boolean,required:!1,default:!1}},watch:{mask:{immediate:!0,handler:function(e,t){this.currentMask=parseInt(this.mask),this.calculateFromBitmask()}}},data:function(){return{classes:s["e"],selectedClasses:{},currentMask:0,onlySelected:!1}},mounted:function(){var e=this;setTimeout((function(){e.addOnlyButtonEnabled&&e.addOnlyStateEnabled&&(e.onlySelected=!0)}),100),this.currentMask=parseInt(this.mask),this.calculateFromBitmask()},methods:{isOnlySelectedAndEnabled:function(){return this.addOnlyButtonEnabled&&this.onlySelected},selectOnly:function(){this.selectNone(),console.log("selecting only"),this.onlySelected=!0},selectAll:function(){var e=this;this.onlySelected=!1,Object.keys(this.classes).reverse().forEach((function(t){e.selectedClasses[t]=!0})),this.$forceUpdate(),this.calculateToBitmask()},selectNone:function(){var e=this;this.onlySelected=!1,Object.keys(this.classes).reverse().forEach((function(t){e.selectedClasses[t]=!1})),this.$forceUpdate(),this.calculateToBitmask()},calculateFromBitmask:function(){var e=this;Object.keys(this.classes).reverse().forEach((function(t){var n=e.classes[t];e.selectedClasses[t]=!1,e.currentMask>=n.mask&&(e.currentMask-=n.mask,e.selectedClasses[t]=!0)})),this.$forceUpdate()},calculateToBitmask:function(){var e=this,t=0;Object.keys(this.classes).reverse().forEach((function(n){var a=e.classes[n];e.selectedClasses[n]&&(t+=parseInt(a.mask))})),this.$emit("update:inputData",parseInt(t)),this.$emit("selectOnly",this.onlySelected),this.$emit("input",parseInt(t)),this.$emit("fired","true")},selectClass:function(e){var t=this;this.isOnlySelectedAndEnabled()&&Object.keys(this.classes).forEach((function(e){t.selectedClasses[e]=!1})),this.selectedClasses[e]=!this.selectedClasses[e],this.$forceUpdate(),this.calculateToBitmask()},isClassSelected:function(e){return this.selectedClasses[e]}}}),c=r,l=n("2877"),o=Object(l["a"])(c,a,i,!1,null,"510851bf",null);t["a"]=o.exports},cd1c:function(e,t,n){var a=n("e853");e.exports=function(e,t){return new(a(e))(t)}},cd97:function(e,t,n){"use strict";n("7f7f");var a=function(){var e=this,t=e._self._c;return e.item?t("div",[t("div",{staticStyle:{display:"inline-block"},attrs:{id:e.item.id+"-"+e.popoverId+"-popover"}},[t("span",{class:"item-"+e.item.icon+("regular"===this.size?"":"-sm"),staticStyle:{display:"inline-block"},attrs:{title:e.item.icon}}),t("span",{class:"sm"===e.size?"ml-2":"ml-3",style:"position:relative;"+("regular"===this.size?"top: -15px":"")},[e._v(e._s(e.item.name)+" "+e._s(e.annotation)+" "),e._t("default")],2)]),t("b-popover",{staticStyle:{width:"500px !important"},attrs:{target:e.item.id+"-"+e.popoverId+"-popover","custom-class":"no-bg",placement:"right",delay:"0",boundary:"viewport","no-fade":!0,triggers:"hover focus"}},[t("eq-window",{staticStyle:{width:"auto",height:"100%"}},[t("eq-item-card-preview",{attrs:{"item-data":e.item,"show-related-data":e.showRelatedData}})],1)],1)],1):e._e()},i=[],s=(n("6b54"),n("935a")),r=(n("5201"),n("ec53")),c={name:"ItemPopover",props:{item:Object,size:{type:String,required:!1,default:"sm"},annotation:{type:String,required:!1,default:""},showRelatedData:{type:Boolean,required:!1,default:!1}},data:function(){return{popoverId:Math.random().toString(16).slice(2),itemEffectInfo:[]}},components:{EqItemCardPreview:r["default"],EqWindow:s["a"]}},l=c,o=n("2877"),u=Object(o["a"])(l,a,i,!1,null,"423115ce",null);t["a"]=u.exports},e853:function(e,t,n){var a=n("d3f4"),i=n("1169"),s=n("2b4c")("species");e.exports=function(e){var t;return i(e)&&(t=e.constructor,"function"!=typeof t||t!==Array&&!i(t.prototype)||(t=void 0),a(t)&&(t=t[s],null===t&&(t=void 0))),void 0===t?Array:t}},f295:function(e,t,n){"use strict";n("8955")},fb61:function(e,t,n){"use strict";n("7f7f");var a=function(){var e=this,t=e._self._c;return e.npc?t("div",[t("div",{staticStyle:{display:"inline-block",position:"relative"},attrs:{id:e.npc.id+"-"+e.popoverId+"-popover"}},[e.showImage?t("div",{staticClass:"d-inline-block ml-3 text-center",staticStyle:{width:"60px",height:"50px"}},[t("span",{class:"race-models-ctn-"+e.getRaceImage(e.npc)+"-sm",staticStyle:{top:"50%",filter:"drop-shadow(10px 5px 5px #000)"}})]):e._e(),e.showLabel?t("span",{class:(e.showImage?"ml-3":"")+" d-inline-block",style:e.showImage?"top: 30%; position: absolute; min-width: 300px":""},[e._v("\n      "+e._s(e.getCleanName(e.npc.name))+" "+e._s(e.formatLastName(e.npc.lastname))+" "+e._s(e.additionalLabel?e.additionalLabel:"")+"\n    ")]):e._e(),e._t("default")],2),e.popoverEnabled?t("b-popover",{attrs:{target:e.npc.id+"-"+e.popoverId+"-popover","custom-class":"no-bg",placement:"right",delay:"0",boundary:"viewport","no-fade":!0,triggers:"hover focus"}},[t("eq-window",{staticStyle:{width:"650px",height:"100%"}},[t("eq-npc-card-preview",{attrs:{"limit-entries":e.limitEntries,"no-stats":e.noStats,npc:e.npc}})],1)],1):e._e()],1):e._e()},i=[],s=(n("6b54"),n("c5f6"),n("935a")),r=n("a006"),c=n("01de"),l={name:"npcPopover",props:{npc:Object,size:{type:String,required:!1,default:"sm"},additionalLabel:{type:String,required:!1},showImage:{type:Boolean,required:!1,default:!0},noStats:{type:Boolean,required:!1,default:!1},showLastName:{type:Boolean,required:!1,default:!0},limitEntries:{type:Number,required:!1,default:20},showLabel:{type:Boolean,required:!1,default:!0},popoverEnabled:{type:Boolean,required:!1,default:!0}},watch:{npc:{deep:!0,handler:function(){}}},mounted:function(){console.log("[popover] no limit",this.noLimitEntries)},methods:{formatLastName:function(e){return this.showLastName&&e&&e.length>0?" (".concat(e,")"):""},getRaceImage:function(e){return c["a"].getRaceImage(e)},getCleanName:function(e){return c["a"].getCleanName(e)}},data:function(){return{popoverId:Math.random().toString(16).slice(2),npcEffectInfo:[],sideLoadednpcData:{}}},components:{EqNpcCardPreview:r["a"],EqWindow:s["a"]}},o=l,u=n("2877"),p=Object(u["a"])(o,a,i,!1,null,"0d2146b0",null);t["a"]=p.exports}}]);