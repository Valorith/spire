(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-73f074bb"],{"8b13":function(e,t,n){e.exports=n.p+"img/discord-logo-small.8530e062.8530e062.png"},b95c:function(e,t,n){"use strict";var a=function(){var e=this,t=e._self._c;return e.debug?t("div",{staticClass:"card mt-5"},[t("div",{staticClass:"card-body"},[e._v("\n    Debug\n  ")]),t("div",{staticClass:"card-footer bg-dark pb-0"},[t("pre",{staticClass:"html highlight bg-dark hljs xml",staticStyle:{color:"#569CD6"}},[e._v(e._s(e.data))])])]):e._e()},s=[],o=n("4ac1"),r={name:"DebugDisplayComponent",props:{data:Object},data:function(){return{debug:o["a"].DEBUG}}},i=r,c=n("2877"),d=Object(c["a"])(i,a,s,!1,null,"365c13dd",null);t["a"]=d.exports},cdc7:function(e,t,n){"use strict";n.r(t);n("7f7f");var a=function(){var e=this,t=e._self._c;return e.connections?t("div",{staticClass:"row justify-content-center"},[t("div",{staticClass:"col-12 col-lg-10 col-xl-8 content-pop card"},[t("div",{staticClass:"container-fluid"},[e._m(0),e.connections?t("b-tabs",{staticClass:"mt-4",attrs:{"content-class":"mt-5",fill:""}},[t("b-tab",{attrs:{title:"Connections",active:e.connections&&e.connections.length>0}},[e.defaultConnection&&e.isAppProduction()?t("div",{staticClass:"card"},[t("div",{staticClass:"card-header"},[t("h4",{staticClass:"card-header-title"},[t("i",{staticClass:"fe fe-database"}),e._v("\n\n                "+e._s(e.defaultConnection.database_connection.name)+"\n              ")]),t("small",{staticClass:"text-muted"},[e._v("Latest of ProjectEQ data, active when not logged in, read-only")])]),t("div",{staticClass:"card-body"},[t("div",{staticClass:"list-group list-group-flush my-n3"},[t("div",{staticClass:"list-group-item"},[t("div",{staticClass:"row align-items-center"},[t("div",{staticClass:"col-auto"},[t("img",{style:"height: 120px; width: auto; border-radius: 40px; opacity: "+(e.isDefaultActive?"1":".5"),attrs:{src:n("ec5e")}})]),t("div",{staticClass:"col ml-n2"},[t("h4",{staticClass:"mb-1"},[e._v("\n                        "+e._s(e.defaultConnection.database_connection.name)+"\n                      ")]),t("p",{staticClass:"card-text small text-muted"},[t("b",[e._v("Host")]),e._v(" "+e._s(e.defaultConnection.database_connection.db_host)+"\n                        "),t("b",[e._v("Port")]),e._v(" "+e._s(e.defaultConnection.database_connection.db_port)+"\n                        "),t("b",[e._v("Database Name")]),e._v(" "+e._s(e.defaultConnection.database_connection.db_name)+"\n                        "),t("b",[e._v("User")]),e._v(" "+e._s(e.defaultConnection.database_connection.db_username)+"\n                      ")])]),t("div",{staticClass:"col-auto"},[e.isDefaultActive?e._e():t("a",{staticClass:"btn btn-sm btn-outline-primary d-none d-md-inline-block",on:{click:function(t){return e.setDefaultActive()}}},[t("i",{staticClass:"fe fe-activity"}),e._v(" Set Active\n                      ")]),e.isDefaultActive?t("a",{staticClass:"btn btn-sm btn-white"},[t("span",{staticClass:"text-success"},[e._v("●")]),e._v(" Active Connection\n                      ")]):e._e(),t("a",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}},{name:"b-tooltip",rawName:"v-b-tooltip.v-outline-success",modifiers:{"v-outline-success":!0}}],staticClass:"btn btn-sm btn-white btn-danger ml-2"},[t("span",{staticClass:"text-success"},[e._v("●")]),e._v(" Online\n                      ")])])])])])])]):e._e(),t("user-connections",{attrs:{connections:e.connections,"connection-statuses":e.connectionStatuses},on:{"reload-connections":function(t){return e.reloadConnections()}}})],1),e.canCreateNewConnection()?t("b-tab",{attrs:{title:"Create New",active:0===e.connections.length}},[t("div",{staticClass:"form-row"},[t("div",{staticClass:"form-group col-md-12"},[t("label",{staticClass:"form-label"},[e._v("Database Connection Name")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.database.connection_name,expression:"database.connection_name"}],staticClass:"form-control",attrs:{type:"text",placeholder:"My EverQuest Emulator Server"},domProps:{value:e.database.connection_name},on:{input:function(t){t.target.composing||e.$set(e.database,"connection_name",t.target.value)}}})]),t("div",{staticClass:"form-group col-md-4"},[t("label",{staticClass:"form-label"},[e._v("Database Name")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.database.db_name,expression:"database.db_name"}],staticClass:"form-control",attrs:{type:"text",placeholder:"peq"},domProps:{value:e.database.db_name},on:{input:function(t){t.target.composing||e.$set(e.database,"db_name",t.target.value)}}})]),t("div",{staticClass:"form-group col-md-4"},[t("label",{staticClass:"form-label"},[e._v("Database Host")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.database.db_host,expression:"database.db_host"}],staticClass:"form-control",attrs:{type:"text",placeholder:"eqemu-server.com"},domProps:{value:e.database.db_host},on:{input:function(t){t.target.composing||e.$set(e.database,"db_host",t.target.value)}}})]),t("div",{staticClass:"form-group col-md-4"},[t("label",{staticClass:"form-label"},[e._v("Database Port")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.database.db_port,expression:"database.db_port"}],staticClass:"form-control",attrs:{type:"text",placeholder:"3306"},domProps:{value:e.database.db_port},on:{input:function(t){t.target.composing||e.$set(e.database,"db_port",t.target.value)}}})])]),t("div",{staticClass:"form-row"},[t("div",{staticClass:"form-group col-md-6"},[t("label",{staticClass:"form-label"},[e._v("Database Username")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.database.db_username,expression:"database.db_username"}],staticClass:"form-control",attrs:{type:"text",placeholder:"username"},domProps:{value:e.database.db_username},on:{input:function(t){t.target.composing||e.$set(e.database,"db_username",t.target.value)}}})]),t("div",{staticClass:"form-group col-md-6"},[t("label",{staticClass:"form-label"},[e._v("Database Password")]),t("div",{staticClass:"input-group"},["checkbox"===e.passwordFieldType?t("input",{directives:[{name:"model",rawName:"v-model",value:e.database.db_password,expression:"database.db_password"}],staticClass:"form-control",attrs:{placeholder:"password",type:"checkbox"},domProps:{checked:Array.isArray(e.database.db_password)?e._i(e.database.db_password,null)>-1:e.database.db_password},on:{change:function(t){var n=e.database.db_password,a=t.target,s=!!a.checked;if(Array.isArray(n)){var o=null,r=e._i(n,o);a.checked?r<0&&e.$set(e.database,"db_password",n.concat([o])):r>-1&&e.$set(e.database,"db_password",n.slice(0,r).concat(n.slice(r+1)))}else e.$set(e.database,"db_password",s)}}}):"radio"===e.passwordFieldType?t("input",{directives:[{name:"model",rawName:"v-model",value:e.database.db_password,expression:"database.db_password"}],staticClass:"form-control",attrs:{placeholder:"password",type:"radio"},domProps:{checked:e._q(e.database.db_password,null)},on:{change:function(t){return e.$set(e.database,"db_password",null)}}}):t("input",{directives:[{name:"model",rawName:"v-model",value:e.database.db_password,expression:"database.db_password"}],staticClass:"form-control",attrs:{placeholder:"password",type:e.passwordFieldType},domProps:{value:e.database.db_password},on:{input:function(t){t.target.composing||e.$set(e.database,"db_password",t.target.value)}}}),t("span",{staticClass:"input-group-append"},[t("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(t){return e.switchPasswordVisibility()}}},[t("i",{staticClass:"fa fa-eye"}),e._v("\n                    Show / Hide\n                ")])])])])]),t("div",{staticClass:"form-row ml-0 mt-3"},[t("div",{staticClass:"col"},[t("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(t){e.addContentDb?e.addContentDb=!1:e.addContentDb=!0}}},[t("i",{staticClass:"fe fe-database"}),e._v("\n                Add Content Database\n              ")])]),t("div",{staticClass:"col-auto"},[t("button",{staticClass:"btn btn-white ml-3",attrs:{type:"button"},on:{click:function(t){return e.createConnection()}}},[t("i",{staticClass:"fe fe-plus"}),e._v("\n                Create Connection\n              ")])])]),e.addContentDb?t("b-alert",{staticClass:"p-3 mt-4 mb-5",attrs:{variant:"primary",show:""}},[t("i",{staticClass:"fe fe-info"}),e._v("\n            Note: Content database connections are optional and not required. See "),t("a",{staticStyle:{color:"white"},attrs:{href:"https://eqemu.gitbook.io/server/categories/database/multi-tenancy"}},[e._v("here")]),e._v(" for\n            more info\n          ")]):e._e(),e.addContentDb?t("div",{staticClass:"form-row"},[t("div",{staticClass:"form-group col-md-4"},[t("label",{staticClass:"form-label"},[e._v("Content Database Name")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.database.content_db_name,expression:"database.content_db_name"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:e.database.content_db_name},on:{input:function(t){t.target.composing||e.$set(e.database,"content_db_name",t.target.value)}}})]),t("div",{staticClass:"form-group col-md-4"},[t("label",{staticClass:"form-label"},[e._v("Content Database Host")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.database.content_db_host,expression:"database.content_db_host"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:e.database.content_db_host},on:{input:function(t){t.target.composing||e.$set(e.database,"content_db_host",t.target.value)}}})]),t("div",{staticClass:"form-group col-md-4"},[t("label",{staticClass:"form-label"},[e._v("Content Database Port")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.database.content_db_port,expression:"database.content_db_port"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:e.database.content_db_port},on:{input:function(t){t.target.composing||e.$set(e.database,"content_db_port",t.target.value)}}})])]):e._e(),e.addContentDb?t("div",{staticClass:"form-row"},[t("div",{staticClass:"form-group col-md-6"},[t("label",{staticClass:"form-label"},[e._v("Content Database Username")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.database.content_db_username,expression:"database.content_db_username"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:e.database.content_db_username},on:{input:function(t){t.target.composing||e.$set(e.database,"content_db_username",t.target.value)}}})]),t("div",{staticClass:"form-group col-md-6"},[t("label",{staticClass:"form-label"},[e._v("Content Database Password")]),t("div",{staticClass:"input-group"},["checkbox"===e.passwordFieldType?t("input",{directives:[{name:"model",rawName:"v-model",value:e.database.content_db_password,expression:"database.content_db_password"}],staticClass:"form-control",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.database.content_db_password)?e._i(e.database.content_db_password,null)>-1:e.database.content_db_password},on:{change:function(t){var n=e.database.content_db_password,a=t.target,s=!!a.checked;if(Array.isArray(n)){var o=null,r=e._i(n,o);a.checked?r<0&&e.$set(e.database,"content_db_password",n.concat([o])):r>-1&&e.$set(e.database,"content_db_password",n.slice(0,r).concat(n.slice(r+1)))}else e.$set(e.database,"content_db_password",s)}}}):"radio"===e.passwordFieldType?t("input",{directives:[{name:"model",rawName:"v-model",value:e.database.content_db_password,expression:"database.content_db_password"}],staticClass:"form-control",attrs:{type:"radio"},domProps:{checked:e._q(e.database.content_db_password,null)},on:{change:function(t){return e.$set(e.database,"content_db_password",null)}}}):t("input",{directives:[{name:"model",rawName:"v-model",value:e.database.content_db_password,expression:"database.content_db_password"}],staticClass:"form-control",attrs:{type:e.passwordFieldType},domProps:{value:e.database.content_db_password},on:{input:function(t){t.target.composing||e.$set(e.database,"content_db_password",t.target.value)}}}),t("span",{staticClass:"input-group-append"},[t("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(t){return e.switchPasswordVisibility()}}},[t("i",{staticClass:"fa fa-eye"}),e._v("\n                    Show / Hide\n                ")])])])])]):e._e()],1):e._e()],1):e._e(),e.errorMessage?t("b-alert",{staticClass:"mt-5 mb-5",attrs:{show:""!==e.errorMessage,variant:"danger"}},[t("i",{staticClass:"fe fe-alert-triangle"}),e._v("\n        "+e._s(e.errorMessage)+"\n      ")]):e._e(),e.successMessage?t("b-alert",{staticClass:"mt-5 mb-5",attrs:{show:""!==e.successMessage,variant:"success"}},[t("i",{staticClass:"fe fe-database"}),e._v("\n        "+e._s(e.successMessage)+"\n      ")]):e._e(),t("debug-display-component",{attrs:{data:e.database}})],1)])]):e._e()},s=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"row justify-content-between align-items-center mt-5"},[t("div",{staticClass:"col-12"},[t("h2",{staticClass:"mb-2"},[e._v("\n            Database Connection Properties\n          ")]),t("p",{staticClass:"text-muted mb-md-0"},[e._v("\n            Manage your database connections, you can only have one active primary connection at a time\n          ")])])])}],o=(n("ac4d"),n("8a81"),n("5df3"),n("1c4c"),n("6b54"),n("96cf"),n("3b8d")),r=n("935a"),i=n("4ac1"),c=n("bc3a"),d=n.n(c),l=n("0d95"),u=n("b95c"),p=n("e327"),m=(n("386d"),n("ac6a"),n("456d"),function(){var e=this,t=e._self._c;return e.connection&&Object.keys(e.connection).length>0?t("b-modal",{attrs:{id:"add-developer-server-connection-modal",centered:"",title:"Add Developer to Database Connection [".concat(e.connection.database_connection.name,"]"),size:"lg"},scopedSlots:e._u([{key:"modal-footer",fn:function(){return[t("div",{})]},proxy:!0}],null,!1,1453005818)},[t("b-form-input",{attrs:{id:"user-search",placeholder:"Search for user"},on:{keyup:function(t){return e.searchUser()}},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),0===e.usersToAdd.length?t("div",{staticClass:"mt-3"},[e._v("\n    No users found, you've added them all, or please refine search criteria\n  ")]):e._e(),e.usersToAdd.length>0?t("div",{staticClass:"mt-3"},[e._v("\n    Available users to add\n  ")]):e._e(),t("b-list-group",{staticClass:"mt-3"},e._l(e.usersToAdd,(function(n){return t("b-list-group-item",{key:n.id,staticClass:"d-flex align-items-center"},[t("b-avatar",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.v-dark.top",modifiers:{hover:!0,"v-dark":!0,top:!0}}],staticClass:"mr-3",attrs:{src:n.avatar,size:"30",variant:"info",title:n.user_name}}),t("span",{staticClass:"mr-auto"},[e._v(e._s(n.user_name))]),t("b-badge",[e._v(e._s(e.toTitleCase(n.provider)))]),t("a",{staticClass:"btn btn-sm btn-white btn-danger ml-3",on:{click:function(t){return e.addUser(n)}}},[t("i",{staticClass:"fa fa-plus"}),e._v("\n        Add User\n      ")])],1)})),1),t("info-error-banner",{staticClass:"mt-3",attrs:{slim:!0,notification:e.notification,error:e.error},on:{"dismiss-error":function(t){e.error=""},"dismiss-notification":function(t){e.notification=""}}})],1):e._e()}),b=[],f=(n("a481"),n("5afa")),v=n("1f51"),h={name:"AddDeveloperModal",components:{InfoErrorBanner:f["a"]},props:{connection:{type:Object}},data:function(){return{search:"",usersToAdd:[],notification:"",error:""}},watch:{connection:{handler:function(){this.init()},deep:!0}},mounted:function(){this.init()},methods:{init:function(){this.usersToAdd=[],this.search="",this.searchUser()},addUser:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l["SpireApi"].v1().post("connection/".concat(this.connection.server_database_connection_id,"/add-user/").concat(t.id));case 3:n=e.sent,200===n.status&&(this.$bvModal.hide("add-developer-server-connection-modal"),this.$emit("reload-connections",!0),v["a"].toast("User [".concat(t.user_name,"] added to [").concat(this.connection.database_connection.name,"]"))),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),e.t0.response&&e.t0.response.data&&e.t0.response.data.error&&(this.error=e.t0.response.data.error);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));function t(t){return e.apply(this,arguments)}return t}(),searchUser:function(){var e=this;if(0!==Object.keys(this.connection).length){var t=this.connection.database_connection.user_server_database_connections.filter((function(e){return e.user.id}));l["SpireApi"].v1().get("users",{params:{q:this.search}}).then((function(n){200===n.status&&(e.usersToAdd=n.data.filter((function(e){return!t.some((function(t){return t.user_id===e.id}))})))}))}},toTitleCase:function(e){return e.replace(/\w\S*/g,(function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()}))}}},_=h,C=n("2877"),g=Object(C["a"])(_,m,b,!1,null,"384cc3eb",null),w=g.exports,y=function(){var e=this,t=e._self._c;return e.user&&Object.keys(e.user).length>0?t("b-modal",{attrs:{id:"manage-developer-modal",centered:"",title:"Manage Developer [".concat(e.user.user_name,"] for connection [").concat(e.connection.database_connection.name,"]"),size:"lg"},on:{show:function(t){return e.init()},hidden:function(t){return e.reset()}},scopedSlots:e._u([{key:"modal-header",fn:function(){return[t("div",{},[t("b-avatar",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.v-dark.top",modifiers:{hover:!0,"v-dark":!0,top:!0}}],staticClass:"mr-1",attrs:{src:e.user.avatar,variant:"info",title:e.user.user_name,size:"30"}}),e._v("\n\n      "+e._s("Manage Developer [".concat(e.user.user_name,"] for connection [").concat(e.connection.database_connection.name,"]"))+"\n\n      "),!e.isSelectedUserOwnerOfConnection()&&e.isCurrentUserOwnerOfConnection()?t("b-button",{staticClass:"btn-sm ml-3",staticStyle:{padding:"0px 6px"},attrs:{variant:"danger"},on:{click:function(t){return e.deleteUserFromConn()}}},[t("i",{staticClass:"fa fa-trash"}),e._v("\n        Remove User\n      ")]):e._e()],1),t("a",{on:{click:e.closeModal}},[t("i",{staticClass:"fa fa-times"})])]},proxy:!0},{key:"modal-footer",fn:function(){return[t("div",{})]},proxy:!0}],null,!1,2095668338)},[t("info-error-banner",{staticClass:"mb-3",attrs:{slim:!0,notification:e.notification,error:e.error},on:{"dismiss-error":function(t){e.error=""},"dismiss-notification":function(t){e.notification=""}}}),e.isSelectedUserOwnerOfConnection()?t("div",[e._v("\n    User is owner of connection and has no limitations\n  ")]):e._e(),e.isSelectedUserOwnerOfConnection()?e._e():t("div",[e.canViewPermissions()?e._e():t("div",[e._v("\n      Can not view user permissions\n    ")]),e.canViewPermissions()&&e.permissionsLoaded?t("div",{attrs:{id:"permissions"}},[t("div",{staticClass:"text-center"},[e._v("\n        Everything below are comprehensive of API resources provided by Spire. "),t("br"),e._v("Not all resources may be in use by Spire tools or resources.\n      ")]),t("hr"),t("div",{staticClass:"row mt-3 mb-3"},[t("div",{staticClass:"col-5 text-right font-weight-bold"},[e._v("\n          Permissions\n        ")]),t("div",{staticClass:"col-1"}),t("div",{staticClass:"col-5 text-left font-weight-bold"},[e._v("Resource")])]),t("div",{staticClass:"row mt-1 mb-3"},[t("div",{staticClass:"col-6 text-right"},e._l(e.options,(function(n){return t("b-form-checkbox",{key:n.value,attrs:{switch:"",disabled:!e.isCurrentUserOwnerOfConnection(),"aria-describedby":n.text,name:"flavour-4a",inline:""},on:{change:function(t){return e.toggleAll(n.value)}},model:{value:e.selectedAllToggle[n.value],callback:function(t){e.$set(e.selectedAllToggle,n.value,t)},expression:"selectedAllToggle[option.value]"}},[e._v("\n            "+e._s(n.text)+"\n          ")])})),1),t("div",{staticClass:"col-5 text-left"},[e._v("ALL")])]),t("hr"),e._l(e.permissions,(function(n,a){return t("div",{key:n.name,staticClass:"mt-1"},[e.isPermissionDifferentFromLast(e.permissions,a)?t("hr"):e._e(),t("div",{staticClass:"row"},[t("div",{staticClass:"col-6 text-right"},e._l(e.options,(function(a){return t("b-form-checkbox",{key:a.value,attrs:{switch:"",disabled:!e.isCurrentUserOwnerOfConnection(),"aria-describedby":a.text,name:"flavour-4a",inline:""},on:{change:function(t){return e.showChanges(n.identifier)}},model:{value:e.selectedPermissions[n.identifier][a.value],callback:function(t){e.$set(e.selectedPermissions[n.identifier],a.value,t)},expression:"selectedPermissions[p.identifier][option.value]"}},[e._v("\n              "+e._s(a.text)+"\n            ")])})),1),t("div",{staticClass:"col-5 text-left"},[e._v(e._s(n.name))])])])}))],2):e._e()])],1):e._e()},x=[],k=n("038a");function A(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=O(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,s=function(){};return{s:s,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,r=!0,i=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return r=e.done,e},e:function(e){i=!0,o=e},f:function(){try{r||null==n.return||n.return()}finally{if(i)throw o}}}}function O(e,t){if(e){if("string"==typeof e)return D(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?D(e,t):void 0}}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}var S={name:"ManageDeveloperModal",components:{InfoErrorBanner:f["a"]},data:function(){return{userContext:{},permissionsLoaded:!1,selectedPermissions:{},permissions:[],selectedAllToggle:{},options:[{text:"Read",value:"read"},{text:"Write",value:"write"}],notification:"",error:""}},props:{user:{type:Object,required:!0},connection:{type:Object,required:!0}},methods:{isPermissionDifferentFromLast:function(e,t){return e[t]&&e[t-1]&&e[t].name.replace(/ .*/,"")!==e[t-1].name.replace(/ .*/,"")},toggleAll:function(e){console.log("toggle all",e,this.selectedAllToggle[e]);var t,n=A(this.permissions);try{for(n.s();!(t=n.n()).done;){var a=t.value;this.selectedPermissions[a.identifier][e]=this.selectedAllToggle[e]}}catch(s){n.e(s)}finally{n.f()}this.submitPermissions(),this.$forceUpdate()},showChanges:function(e){this.submitPermissions()},submitPermissions:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,n,a,s,o,r,i,c,d,u,p;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=[],n=!0,a=!0,s=A(this.permissions);try{for(s.s();!(o=s.n()).done;)r=o.value,this.selectedPermissions[r.identifier].read||(n=!1),this.selectedPermissions[r.identifier].write||(a=!1)}catch(m){s.e(m)}finally{s.f()}(n||a)&&(i={},i.permission="ALL",i.read=n,i.write=a,t.push(i)),c=A(this.permissions);try{for(c.s();!(d=c.n()).done;)u=d.value,p={},p.permission=u.identifier,n||(p.read=this.selectedPermissions[u.identifier].read),a||(p.write=this.selectedPermissions[u.identifier].write),(p.read||p.write)&&t.push(p)}catch(m){c.e(m)}finally{c.f()}return e.prev=8,e.next=11,l["SpireApi"].v1().post("connection-permissions/".concat(this.connection.server_database_connection_id,"/user/").concat(this.user.id),t);case 11:e.sent,e.next=17;break;case 14:e.prev=14,e.t0=e["catch"](8),e.t0.response&&e.t0.response.data&&e.t0.response.data.error&&(this.error=e.t0.response.data.error);case 17:case"end":return e.stop()}}),e,this,[[8,14]])})));function t(){return e.apply(this,arguments)}return t}(),canViewPermissions:function(){return this.isCurrentUserOwnerOfConnection()||this.userContext.id===this.user.id},isCurrentUserOwnerOfConnection:function(){return this.userContext.id===this.connection.database_connection.created_by},isSelectedUserOwnerOfConnection:function(){return this.user.id===this.connection.database_connection.created_by},deleteUserFromConn:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!confirm("Are you sure you want to remove this user from this connection?")){e.next=11;break}return e.prev=1,e.next=4,l["SpireApi"].v1().delete("connection/".concat(this.connection.server_database_connection_id,"/add-user/").concat(this.user.id));case 4:t=e.sent,200===t.status&&(v["a"].toast("User [".concat(this.user.user_name,"] removed from [").concat(this.connection.database_connection.name,"]")),this.$emit("reload-connections",!0),this.$bvModal.hide("manage-developer-modal")),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),e.t0.response&&e.t0.response.data&&e.t0.response.data.error&&(this.error=e.t0.response.data.error);case 11:case"end":return e.stop()}}),e,this,[[1,8]])})));function t(){return e.apply(this,arguments)}return t}(),closeModal:function(){this.$bvModal.hide("manage-developer-modal")},reset:function(){this.notification="",this.error="",this.selectedPermissions={},this.permissions=[],this.selectedAllToggle={}},init:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,n,a,s,o,r,i,c,d,u,p,m,b,f,v,h,_,C,g,w,y,x,O,D,S;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,k["a"].getUser();case 2:if(this.userContext=e.sent,this.isSelectedUserOwnerOfConnection()){e.next=20;break}return e.next=6,l["SpireApi"].v1().get("permissions/resources");case 6:if(t=e.sent,200===t.status){this.permissions=t.data,n={},a=A(t.data);try{for(a.s();!(s=a.n()).done;)o=s.value,"undefined"===typeof n[o.identifier]&&(n[o.identifier]={}),n[o.identifier].read=!1,n[o.identifier].write=!1}catch(U){a.e(U)}finally{a.f()}this.selectedPermissions=n}return e.prev=8,this.permissionsLoaded=!1,e.next=12,l["SpireApi"].v1().get("connection-permissions/".concat(this.connection.server_database_connection_id,"/user/").concat(this.user.id));case 12:if(r=e.sent,200===r.status){i={},c=A(t.data);try{for(c.s();!(d=c.n()).done;)u=d.value,"undefined"===typeof i[u.identifier]&&(i[u.identifier]={})}catch(U){c.e(U)}finally{c.f()}p=A(r.data);try{for(p.s();!(m=p.n()).done;)b=m.value,"undefined"===typeof i[b.resource_name]&&(i[b.resource_name]={}),i[b.resource_name].read=1===b.can_read,i[b.resource_name].write=1===b.can_write}catch(U){p.e(U)}finally{p.f()}f=A(this.permissions);try{for(f.s();!(v=f.n()).done;)h=v.value,"undefined"===typeof i[h.identifier]&&(i[h.identifier]={})}catch(U){f.e(U)}finally{f.f()}_=A(r.data);try{for(_.s();!(C=_.n()).done;){if(g=C.value,"ALL"===g.resource_name&&g.can_read){this.selectedAllToggle["read"]=!0,w=A(this.permissions);try{for(w.s();!(y=w.n()).done;)x=y.value,i[x.identifier].read=!0}catch(U){w.e(U)}finally{w.f()}}if("ALL"===g.resource_name&&g.can_write){this.selectedAllToggle["write"]=!0,O=A(this.permissions);try{for(O.s();!(D=O.n()).done;)S=D.value,i[S.identifier].write=!0}catch(U){O.e(U)}finally{O.f()}}}}catch(U){_.e(U)}finally{_.f()}this.selectedPermissions=i,this.permissionsLoaded=!0}e.next=20;break;case 16:e.prev=16,e.t0=e["catch"](8),console.log(e.t0),e.t0.response&&e.t0.response.data&&e.t0.response.data.error&&(this.error=e.t0.response.data.error);case 20:case"end":return e.stop()}}),e,this,[[8,16]])})));function t(){return e.apply(this,arguments)}return t}()}},U=S,P=Object(C["a"])(U,y,x,!1,null,"c0458000",null),N=P.exports,M=function(){var e=this,t=e._self._c;return e.connection&&Object.keys(e.connection).length>0?t("b-modal",{attrs:{id:"manage-discord-connection-modal",centered:"",title:"Manage Discord Webhook [".concat(e.connection.database_connection.name,"]"),size:"xl"},on:{show:function(t){return e.init()}},scopedSlots:e._u([{key:"modal-footer",fn:function(){return[t("div",{})]},proxy:!0}],null,!1,1453005818)},[t("b-form-input",{attrs:{id:"user-search",placeholder:"https://discord.com/api/webhooks/xxx/xxx"},on:{keyup:function(t){return e.update()}},model:{value:e.webhookUrl,callback:function(t){e.webhookUrl=t},expression:"webhookUrl"}}),t("div",{staticClass:"text-center"},[t("a",{staticClass:"btn btn-sm btn-white mt-3 outline-primary",attrs:{href:"https://support.discord.com/hc/en-us/articles/228383668-Intro-to-Webhooks",target:"discord"}},[e._v("\n      Introduction to Discord Webhooks\n    ")])]),t("info-error-banner",{staticClass:"mt-3",attrs:{slim:!0,notification:e.notification,error:e.error},on:{"dismiss-error":function(t){e.error=""},"dismiss-notification":function(t){e.notification=""}}})],1):e._e()},T=[],j={name:"ManageDiscordConnectionModal",components:{InfoErrorBanner:f["a"]},props:{connection:{type:Object}},data:function(){return{webhookUrl:"",notification:"",error:""}},watch:{connection:{handler:function(){this.init()},deep:!0}},mounted:function(){this.init()},methods:{update:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l["SpireApi"].v1().post("connection/".concat(this.connection.server_database_connection_id,"/discord-webhook"),{webhook_url:this.webhookUrl});case 3:t=e.sent,200===t.status&&(this.notification=t.data),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),e.t0.response&&e.t0.response.data&&e.t0.response.data.error&&(this.error=e.t0.response.data.error);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));function t(){return e.apply(this,arguments)}return t}(),init:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.webhookUrl="",!(this.connection.server_database_connection_id>0)){e.next=12;break}return e.prev=2,e.next=5,l["SpireApi"].v1().get("connection/".concat(this.connection.server_database_connection_id,"/discord-webhook"));case 5:t=e.sent,200===t.status&&(this.webhookUrl=t.data),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](2),e.t0.response&&e.t0.response.data&&e.t0.response.data.error&&(this.error=e.t0.response.data.error);case 12:case"end":return e.stop()}}),e,this,[[2,9]])})));function t(){return e.apply(this,arguments)}return t}()}},$=j,L=Object(C["a"])($,M,T,!1,null,"10776ac4",null),R=L.exports,I=n("49c5"),E=(n("6762"),n("2fdb"),function(){var e=this,t=e._self._c;return t("div",[t("add-developer-modal",{attrs:{connection:e.addDeveloperToConnection},on:{"reload-connections":function(t){return e.reloadConnections()}}}),t("manage-developer-modal",{attrs:{user:e.managedUser,connection:e.managedUserConnection},on:{"reload-connections":function(t){return e.reloadConnections()}}}),t("manage-discord-connection-modal",{attrs:{connection:e.discordConnection}}),t("info-error-banner",{staticClass:"mb-3",attrs:{slim:!0,notification:e.notification,error:e.error},on:{"dismiss-error":function(t){e.error=""},"dismiss-notification":function(t){e.notification=""}}}),t("div",{staticClass:"card"},[t("div",{staticClass:"card-header"},[t("h4",{staticClass:"card-header-title"},[t("i",{staticClass:"fe fe-database"}),e._v("\n        User Database Connections ("+e._s(e.connections.length)+")\n      ")])]),t("div",{staticClass:"card-body"},[t("div",{staticClass:"list-group list-group-flush my-n3"},[0===e.connections.length&&e.isLoggedIn()?t("div",[e._v("\n          No database connections, you can create a new one\n        ")]):e._e(),e.isLoggedIn()?e._e():t("div",[e._v("\n          You must log in to create connections\n        ")]),e._l(e.connections,(function(a){return t("div",{key:a.id,staticClass:"list-group-item"},[t("div",{staticClass:"row align-items-center"},[t("div",{staticClass:"col-auto"},[t("img",{style:"height: 120px; width: auto; border-radius: 50px; opacity: "+(1===a.active?"1":".5"),attrs:{src:n("ec5e")}})]),t("div",{staticClass:"col ml-n2"},[t("h4",{staticClass:"mb-1"},[e._v("\n                "+e._s(a.database_connection.name)+"\n              ")]),t("p",{staticClass:"card-text small text-muted mb-2"},[t("b",[e._v("Host")]),e._v(" "+e._s(a.database_connection.db_host)+"\n                "),t("b",[e._v("Port")]),e._v(" "+e._s(a.database_connection.db_port)+"\n                "),t("b",[e._v("Database Name")]),e._v(" "+e._s(a.database_connection.db_name)+"\n                "),t("b",[e._v("User")]),e._v(" "+e._s(a.database_connection.db_username)+"\n              ")]),""!==a.database_connection.content_db_username?t("h4",{staticClass:"mb-1 text-muted"},[e._v("\n                Content Connection\n              ")]):e._e(),""!==a.database_connection.content_db_username?t("p",{staticClass:"card-text small text-muted mb-2"},[t("b",[e._v("Host")]),e._v(" "+e._s(a.database_connection.content_db_host)+"\n                "),t("b",[e._v("Port")]),e._v(" "+e._s(a.database_connection.content_db_port)+"\n                "),t("b",[e._v("Database Name")]),e._v(" "+e._s(a.database_connection.content_db_name)+"\n                "),t("b",[e._v("User")]),e._v(" "+e._s(a.database_connection.content_db_username)+"\n              ")]):e._e(),a.database_connection.user_server_database_connections.length>0?t("h4",{staticClass:"mb-1 mt-1"},[e._v("\n                Developers\n                "),e.isCurrentUserOwnerOfConnection(a)?t("a",{directives:[{name:"b-modal",rawName:"v-b-modal.add-developer-server-connection-modal",modifiers:{"add-developer-server-connection-modal":!0}}],staticClass:"btn btn-sm btn-white btn-danger ml-2 pt-0 pb-0",on:{click:function(t){return e.addDeveloperToServerModal(a)}}},[t("i",{staticClass:"fa fa-plus"}),e._v(" Add")]):e._e()]):e._e(),t("b-avatar-group",{staticClass:"d-inline-block mt-1",attrs:{rounded:"lg",overlap:"0.05"}},e._l(a.database_connection.user_server_database_connections.filter((function(e){return null===e.user.deleted_at&&e.user.id>0})),(function(n){return t("div",{key:n.user.id,on:{click:function(t){return e.manageUser(n.user,a)}}},[t("b-avatar",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.v-dark.top",modifiers:{hover:!0,"v-dark":!0,top:!0}}],staticClass:"hover-highlight mr-1",attrs:{src:n.user.avatar,variant:"info",title:n.user.user_name+(e.isUserOwnerOfConnection(n.user,a)?" (Owner)":"")}})],1)})),0)],1),t("div",{staticClass:"col-auto"},[0!==a.active||e.connectionStatuses[a.id]?e._e():t("i",{staticClass:"fa fa-spinner fa-pulse fa-3x fa-fw"}),0===a.active&&e.connectionStatuses[a.id]&&!e.connectionStatuses[a.id].includes("error")?t("a",{staticClass:"btn btn-sm btn-outline-primary d-none d-md-inline-block",on:{click:function(t){return e.setActiveConnection(a.id)}}},[t("i",{staticClass:"fe fe-activity"}),e._v(" Set Active\n              ")]):e._e(),1===a.active?t("a",{staticClass:"btn btn-sm btn-white"},[t("span",{staticClass:"text-success"},[e._v("●")]),e._v(" Active Connection\n              ")]):e._e(),e.connectionStatuses[a.id]&&e.connectionStatuses[a.id].includes("error")?t("a",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}},{name:"b-tooltip",rawName:"v-b-tooltip.v-danger",modifiers:{"v-danger":!0}}],staticClass:"btn btn-sm btn-danger ml-2",attrs:{title:e.connectionStatuses[a.id]}},[t("span",{staticClass:"text-white"},[e._v("●")]),e._v(" Offline\n              ")]):e._e(),e.connectionStatuses[a.id]&&!e.connectionStatuses[a.id].includes("error")?t("a",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}},{name:"b-tooltip",rawName:"v-b-tooltip.v-outline-success",modifiers:{"v-outline-success":!0}}],staticClass:"btn btn-sm btn-white btn-danger ml-2",attrs:{title:e.connectionStatuses[a.id]}},[t("span",{staticClass:"text-success"},[e._v("●")]),e._v(" Online\n              ")]):e._e(),e.isCurrentUserOwnerOfConnection(a)?t("a",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.v-dark.top",modifiers:{hover:!0,"v-dark":!0,top:!0}}],staticClass:"btn btn-sm btn-white ml-1",attrs:{title:"View audit log"},on:{click:function(t){return e.viewAuditLog(a.server_database_connection_id)}}},[t("i",{staticClass:"ra ra-bleeding-eye"})]):e._e(),e.isCurrentUserOwnerOfConnection(a)?t("a",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.v-dark.top",modifiers:{hover:!0,"v-dark":!0,top:!0}}],staticClass:"btn btn-sm btn-white ml-1",attrs:{title:"Set Discord webhook logs"},on:{click:function(t){return e.setDiscordWebhookLogs(a)}}},[t("img",{staticStyle:{width:"25px",height:"25px"},attrs:{src:n("8b13")}})]):e._e()]),e.isCurrentUserOwnerOfConnection(a)?t("div",{staticClass:"col-auto p-0"},[t("div",{staticClass:"dropdown"},[e._m(0,!0),t("div",{staticClass:"dropdown-menu dropdown-menu-right"},[t("a",{staticClass:"dropdown-item",on:{click:function(t){return e.deleteConnection(a.server_database_connection_id)}}},[e._v("\n                    Delete Connection\n                  ")])])])]):e._e()])])}))],2)])])],1)}),q=[function(){var e=this,t=e._self._c;return t("a",{staticClass:"dropdown-ellipses dropdown-toggle",attrs:{href:"#",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t("i",{staticClass:"fe fe-more-vertical"})])}],F=n("3022"),B=n.n(F),H=n("80b0"),V={name:"UserConnections",components:{InfoErrorBanner:f["a"],ManageDiscordConnectionModal:R,ManageDeveloperModal:N,AddDeveloperModal:w},props:{connections:{type:Array,required:!0},connectionStatuses:{type:[Array,Object],required:!0}},watch:{connectionStatuses:{deep:!0,handler:function(){console.log("statuses")}},connections:{deep:!0,handler:function(){console.log("connections")}}},data:function(){return{user:{},notification:"",error:"",addDeveloperToConnection:{},discordConnection:{},managedUser:{},managedUserConnection:{}}},mounted:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,k["a"].getUser();case 2:this.user=e.sent,setTimeout((function(){t.$forceUpdate()}),1e3);case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),methods:{isCurrentUserOwnerOfConnection:function(e){return this.user.id===e.database_connection.created_by},reloadConnections:function(){this.$emit("reload-connections",!0)},setDiscordWebhookLogs:function(e){var t=this;this.discordConnection=e,setTimeout((function(){t.$bvModal.show("manage-discord-connection-modal")}),10)},viewAuditLog:function(e){this.$router.push({path:B.a.format(H["a"].DATABASE_CONNECTION_AUDIT_LOG,e)}).catch((function(){}))},manageUser:function(e,t){var n=this;this.managedUser=e,this.managedUserConnection=t,setTimeout((function(){n.$bvModal.show("manage-developer-modal")}),10)},isUserOwnerOfConnection:function(e,t){return e.id===t.database_connection.created_by},isLoggedIn:function(){return this.user&&Object.keys(this.user).length>0},addDeveloperToServerModal:function(e){this.addDeveloperToConnection=e},deleteConnection:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!confirm("Are you sure you want to delete this connection and everything associated to it? This is permanent")){e.next=11;break}return e.prev=1,e.next=4,l["SpireApi"].v1().delete("/connection/".concat(t));case 4:n=e.sent,n.data&&n.data.data&&(this.reloadConnections(),this.notification="Connection deleted successfully"),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),e.t0.response.data.error&&e.t0.response&&e.t0.response.data&&e.t0.response.data.error&&(this.error=e.t0.response.data.error);case 11:case"end":return e.stop()}}),e,this,[[1,8]])})));function t(t){return e.apply(this,arguments)}return t}(),setActiveConnection:function(e){var t=this;l["SpireApi"].v1().post("/connection/".concat(e,"/set-active")).then((function(e){e.data&&e.data.data&&(p["a"].$emit("DB_CONNECTION_CHANGE",!0),t.reloadConnections())}))}}},W=V,z=Object(C["a"])(W,E,q,!1,null,"2f7f3248",null),G=z.exports;function J(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Q(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,s=function(){};return{s:s,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,r=!0,i=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return r=e.done,e},e:function(e){i=!0,o=e},f:function(){try{r||null==n.return||n.return()}finally{if(i)throw o}}}}function Q(e,t){if(e){if("string"==typeof e)return Y(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Y(e,t):void 0}}function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}var K={components:{UserConnections:G,ManageDiscordConnectionModal:R,ManageDeveloperModal:N,AddDeveloperModal:w,DebugDisplayComponent:u["a"],EqWindow:r["a"],"page-header":function(){return n.e("chunk-2d226c5c").then(n.bind(null,"e9a3"))}},data:function(){return{passwordFieldType:"password",database:{},debug:i["a"].DEBUG,addContentDb:!1,errorMessage:null,successMessage:null,defaultConnection:null,isDefaultActive:!1,connections:[],connectionStatuses:{}}},mounted:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.listConnections();case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),methods:{isAppProduction:function(){return I["a"].isAppProduction()},canCreateNewConnection:function(){return!!I["a"].isAppProduction()},reloadConnections:function(){this.listConnections()},switchPasswordVisibility:function(){this.passwordFieldType="password"===this.passwordFieldType?"text":"password"},setDefaultActive:function(){var e=this;l["SpireApi"].v1().post("/connection-default/set-active").then((function(t){t.data&&t.data.data&&(p["a"].$emit("DB_CONNECTION_CHANGE",!0),e.listConnections())}))},listConnections:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,n,a,s,o,r,i,c=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return l["SpireApi"].v1().get("/connection-default").then((function(e){e.data&&e.data.data&&(c.defaultConnection=e.data.data)})),e.next=3,l["SpireApi"].v1().get("/connections");case 3:if(t=e.sent,!t.data||!t.data.data){e.next=29;break}this.connections=t.data.data.filter((function(e){return e.database_connection.id>0})),n=!0,a=J(t.data.data),e.prev=8,a.s();case 10:if((s=a.n()).done){e.next=20;break}return o=s.value,r=o.id,o.active&&(n=!1),e.next=16,l["SpireApi"].v1().get("/connection-check/".concat(r));case 16:i=e.sent,200===i.status&&(this.connectionStatuses[r]=i.data.data.message);case 18:e.next=10;break;case 20:e.next=25;break;case 22:e.prev=22,e.t0=e["catch"](8),a.e(e.t0);case 25:return e.prev=25,a.f(),e.finish(25);case 28:this.isDefaultActive=n;case 29:case"end":return e.stop()}}),e,this,[[8,22,25,28]])})));function t(){return e.apply(this,arguments)}return t}(),createConnection:function(){var e=this;this.errorMessage=null,this.successMessage=null,l["SpireApi"].v1().post("/connection",this.database).then((function(t){e.successMessage=t.data.data,e.listConnections()}),(function(t){e.errorMessage="Unknown error trying to contact the database",t.response&&t.response.data&&(e.errorMessage=t.response.data.error)})).catch((function(t){d.a.isCancel(t)||(console.log(t),e.errorMessage="Unknown error trying to contact the database")}))}}},X=K,Z=Object(C["a"])(X,a,s,!1,null,null,null);t["default"]=Z.exports},ec5e:function(e,t,n){e.exports=n.p+"img/eq-logo.45f20afe.jpg"}}]);