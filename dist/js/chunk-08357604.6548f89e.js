(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-08357604"],{"01de":function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));n("ac4d"),n("8a81"),n("5df3"),n("1c4c"),n("7f7f"),n("6b54"),n("a481"),n("7514"),n("ac6a");var a=n("9a04"),i=n("75fc"),s=(n("96cf"),n("28a5"),n("6762"),n("2fdb"),n("d225")),r=n("b0b4"),o=n("9ab4"),c={SUMMON:1,ENRAGE:2,RAMPAGE:3,AREA_RAMPAGE:4,FLURRY:5,TRIPLE:6,QUAD:7,INNATE_DW:8,BANE:9,MAGICAL:10,RANGED_ATK:11,UNSLOWABLE:12,UNMEZABLE:13,UNCHARMABLE:14,UNSTUNABLE:15,UNSNAREABLE:16,UNFEARABLE:17,UNDISPELLABLE:18,IMMUNE_MELEE:19,IMMUNE_MAGIC:20,IMMUNE_FLEEING:21,IMMUNE_MELEE_EXCEPT_BANE:22,IMMUNE_MELEE_NONMAGICAL:23,IMMUNE_AGGRO:24,IMMUNE_AGGRO_ON:25,IMMUNE_CASTING_FROM_RANGE:26,IMMUNE_FEIGN_DEATH:27,IMMUNE_TAUNT:28,NPC_TUNNELVISION:29,NPC_NO_BUFFHEAL_FRIENDS:30,IMMUNE_PACIFY:31,LEASH:32,TETHER:33,DESTRUCTIBLE_OBJECT:34,NO_HARM_FROM_CLIENT:35,ALWAYS_FLEE:36,FLEE_PERCENT:37,ALLOW_BENEFICIAL:38,DISABLE_MELEE:39,NPC_CHASE_DISTANCE:40,ALLOW_TO_TANK:41,IGNORE_ROOT_AGGRO_RULES:42,CASTING_RESIST_DIFF:43,COUNTER_AVOID_DAMAGE:44,PROX_AGGRO:45,IMMUNE_RANGED_ATTACKS:46,IMMUNE_DAMAGE_CLIENT:47,IMMUNE_DAMAGE_NPC:48,IMMUNE_AGGRO_CLIENT:49,IMMUNE_AGGRO_NPC:50,MODIFY_AVOID_DAMAGE:51,IMMUNE_FADING_MEMORIES:52,MAX_SPECIAL_ATTACK:53},l=n("a7a1"),u=n("0d95"),p=n("e40e");function d(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=h(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,i=function(){};return{s:i,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,r=!0,o=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return r=e.done,e},e:function(e){o=!0,s=e},f:function(){try{r||null==n.return||n.return()}finally{if(o)throw s}}}}function h(e,t){if(e){if("string"==typeof e)return f(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}var m=function(){function e(){Object(s["a"])(this,e)}return Object(r["a"])(e,null,[{key:"getCleanName",value:function(e){return e=e.replaceAll("_"," "),e=e.replaceAll("#"," "),e}},{key:"getRaceImage",value:function(e){var t=e.texture,n=e.helmtexture;return this.isPlayableRace(e.race)&&(n>3&&(n=0),(t>16||t>3&&t<10)&&(t=0)),e.race+"-"+e.gender+"-"+t+"-"+n}},{key:"isPlayableRace",value:function(e){return[1,2,3,4,5,6,7,8,9,10,11,12,128,130,330,522].includes(e)}},{key:"specialAbilitiesToHuman",value:function(e){var t,n=[],a=d(e.split("^"));try{for(a.s();!(t=a.n()).done;){var i=t.value,s=i.split(","),r=s[0]?parseInt(s[0]):0,o=s[1]?parseInt(s[1]):0;r>0&&o&&(r===c.SUMMON&&n.push("Summon"+" (".concat(r,")")),r===c.ENRAGE&&n.push("Enrage "+" (".concat(r,")")),r===c.AREA_RAMPAGE&&n.push("Area Rampage "+" (".concat(r,")")),r===c.FLURRY&&n.push("Flurry "+" (".concat(r,")")),r===c.TRIPLE&&n.push("Triple "+" (".concat(r,")")),r===c.QUAD&&n.push("Quad "+" (".concat(r,")")),r===c.INNATE_DW&&n.push("Innate DW "+" (".concat(r,")")),r===c.BANE&&n.push("Bane "+" (".concat(r,")")),r===c.MAGICAL&&n.push("Magical "+" (".concat(r,")")),r===c.RANGED_ATK&&n.push("Ranged Attack "+" (".concat(r,")")),r===c.UNSLOWABLE&&n.push("Unslowable "+" (".concat(r,")")),r===c.UNMEZABLE&&n.push("Unmezable "+" (".concat(r,")")),r===c.UNCHARMABLE&&n.push("Uncharmable "+" (".concat(r,")")),r===c.UNSTUNABLE&&n.push("Unstunable "+" (".concat(r,")")),r===c.UNSNAREABLE&&n.push("Unsnareable "+" (".concat(r,")")),r===c.UNFEARABLE&&n.push("Unfearable "+" (".concat(r,")")),r===c.UNDISPELLABLE&&n.push("Undispellable "+" (".concat(r,")")),r===c.IMMUNE_MELEE&&n.push("Immune to Melee "+" (".concat(r,")")),r===c.IMMUNE_MAGIC&&n.push("Immune to Magic "+" (".concat(r,")")),r===c.IMMUNE_FLEEING&&n.push("Immune to Fleeing "+" (".concat(r,")")),r===c.IMMUNE_MELEE_EXCEPT_BANE&&n.push("Immune to Melee Except Bane "+" (".concat(r,")")),r===c.IMMUNE_MELEE_NONMAGICAL&&n.push("Immune to Melee Non-Magical "+" (".concat(r,")")),r===c.IMMUNE_AGGRO&&n.push("Immune to Aggro "+" (".concat(r,")")),r===c.IMMUNE_AGGRO_ON&&n.push("Immune to Aggro On "+" (".concat(r,")")),r===c.IMMUNE_CASTING_FROM_RANGE&&n.push("Immune to Casting from Range "+" (".concat(r,")")),r===c.IMMUNE_FEIGN_DEATH&&n.push("Immune to Feign Death "+" (".concat(r,")")),r===c.IMMUNE_TAUNT&&n.push("Immune to Taunt "+" (".concat(r,")")),r===c.NPC_TUNNELVISION&&n.push("NPC Tunnelvision "+" (".concat(r,")")),r===c.NPC_NO_BUFFHEAL_FRIENDS&&n.push("NPC doesn't buff or heal other NPC's "+" (".concat(r,")")),r===c.IMMUNE_PACIFY&&n.push("Immune to Pacify "+" (".concat(r,")")),r===c.LEASH&&n.push("Immune to Leash "+" (".concat(r,")")),r===c.TETHER&&n.push("Immune to Tether "+" (".concat(r,")")),r===c.DESTRUCTIBLE_OBJECT&&n.push("Destructible Object "+" (".concat(r,")")),r===c.NO_HARM_FROM_CLIENT&&n.push("Immune to Harm from Clients "+" (".concat(r,")")),r===c.ALWAYS_FLEE&&n.push("Always flees "+" (".concat(r,")")),r===c.FLEE_PERCENT&&n.push("Flees at percent X "+" (".concat(r,")")),r===c.ALLOW_BENEFICIAL&&n.push("Allow Beneficial "+" (".concat(r,")")),r===c.DISABLE_MELEE&&n.push("Disable Melee "+" (".concat(r,")")),r===c.NPC_CHASE_DISTANCE&&n.push("NPC Chase Distances "+" (".concat(r,")")),r===c.ALLOW_TO_TANK&&n.push("Allow to tank "+" (".concat(r,")")),r===c.IGNORE_ROOT_AGGRO_RULES&&n.push("Ignore root aggro rules "+" (".concat(r,")")),r===c.CASTING_RESIST_DIFF&&n.push("Casting resist diff "+" (".concat(r,")")),r===c.COUNTER_AVOID_DAMAGE&&n.push("Counter avoid damage "+" (".concat(r,")")),r===c.PROX_AGGRO&&n.push("Proximity Aggro "+" (".concat(r,")")),r===c.IMMUNE_RANGED_ATTACKS&&n.push("Immune to Ranged Attacks "+" (".concat(r,")")),r===c.IMMUNE_DAMAGE_CLIENT&&n.push("Immune to Damage from Clients "+" (".concat(r,")")),r===c.IMMUNE_DAMAGE_NPC&&n.push("Immune to Damage from NPCs "+" (".concat(r,")")),r===c.IMMUNE_AGGRO_CLIENT&&n.push("Immune to Aggro from Clients "+" (".concat(r,")")),r===c.IMMUNE_AGGRO_NPC&&n.push("Immune to Aggro from NPCs "+" (".concat(r,")")),r===c.MODIFY_AVOID_DAMAGE&&n.push("Modify avoid damage "+" (".concat(r,")")),r===c.IMMUNE_FADING_MEMORIES&&n.push("Immune to fading memories "+" (".concat(r,")")))}}catch(l){a.e(l)}finally{a.f()}return n}},{key:"updateNpc",value:function(e,t){return Object(o["d"])(this,void 0,void 0,regeneratorRuntime.mark((function n(){var s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return s=Object(a["a"])(l["NpcTypeApi"],Object(i["a"])(u["SpireApi"].cfg())),n.next=3,s.updateNpcType({id:e,npcType:t});case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}}),n)})))}},{key:"listNpcsByName",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Object(o["d"])(this,void 0,void 0,regeneratorRuntime.mark((function n(){var s,r,o,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return s=Object(a["a"])(l["NpcTypeApi"],Object(i["a"])(u["SpireApi"].cfg())),r=new p["a"],o=[],t.includes("all")?o=[].concat(Object(i["a"])(o),["NpcSpell.NpcSpellsEntries.SpellsNew","NpcFactions.NpcFactionEntries.FactionList","NpcFactions","NpcEmotes","Merchantlists.Items","Loottable.LoottableEntries.Lootdrop.LootdropEntries.Item"]):t.length>0&&(o=[].concat(Object(i["a"])(o),Object(i["a"])(t))),r.where("name","like",e),r.whereOr("lastname","like",e),r.includes(o),n.next=9,s.listNpcTypes(r.get());case 9:if(c=n.sent,200!==c.status){n.next=12;break}return n.abrupt("return",c.data);case 12:case"end":return n.stop()}}),n)})))}},{key:"getBaseNpcRelationships",value:function(){return["NpcSpell.NpcSpellsEntries.SpellsNew","NpcFactions.NpcFactionEntries.FactionList","NpcFactions","NpcEmotes","Merchantlists.Items","Loottable.LoottableEntries.Lootdrop.LootdropEntries.Item"]}},{key:"listNpcsByEmoteId",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Object(o["d"])(this,void 0,void 0,regeneratorRuntime.mark((function n(){var s,r,o,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return s=Object(a["a"])(l["NpcTypeApi"],Object(i["a"])(u["SpireApi"].cfg())),r=new p["a"],o=[],t.includes("all")?o=[].concat(Object(i["a"])(o),Object(i["a"])(this.getBaseNpcRelationships())):t.length>0&&(o=[].concat(Object(i["a"])(o),Object(i["a"])(t))),r.where("emoteid","=",e),r.includes(o),n.next=8,s.listNpcTypes(r.get());case 8:if(c=n.sent,200!==c.status){n.next=11;break}return n.abrupt("return",c.data);case 11:case"end":return n.stop()}}),n,this)})))}},{key:"listNpcsByNpcSpellsId",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Object(o["d"])(this,void 0,void 0,regeneratorRuntime.mark((function n(){var s,r,o,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return s=Object(a["a"])(l["NpcTypeApi"],Object(i["a"])(u["SpireApi"].cfg())),r=new p["a"],o=[],t.includes("all")?o=[].concat(Object(i["a"])(o),Object(i["a"])(this.getBaseNpcRelationships())):t.length>0&&(o=[].concat(Object(i["a"])(o),Object(i["a"])(t))),r.where("npc_spells_id","=",e),r.includes(o),r.limit(100),n.next=9,s.listNpcTypes(r.get());case 9:if(c=n.sent,200!==c.status){n.next=12;break}return n.abrupt("return",c.data);case 12:case"end":return n.stop()}}),n,this)})))}},{key:"getNpc",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Object(o["d"])(this,void 0,void 0,regeneratorRuntime.mark((function n(){var s,r,o,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!this.npc[e]){n.next=2;break}return n.abrupt("return",this.npc[e]);case 2:return s=Object(a["a"])(l["NpcTypeApi"],Object(i["a"])(u["SpireApi"].cfg())),r=new p["a"],o=[],t.includes("all")?o=[].concat(Object(i["a"])(o),["NpcSpell.NpcSpellsEntries.SpellsNew","NpcFactions.NpcFactionEntries.FactionList","NpcFactions","NpcEmotes","Merchantlists.Items","Loottable.LoottableEntries.Lootdrop.LootdropEntries.Item"]):t.length>0&&(o=[].concat(Object(i["a"])(o),Object(i["a"])(t))),r.includes(o),n.next=9,s.getNpcType({id:e},{query:r.get()});case 9:if(c=n.sent,200!==c.status){n.next=13;break}return this.npc[e]=c.data,n.abrupt("return",c.data);case 13:case"end":return n.stop()}}),n,this)})))}},{key:"getNpcsBulk",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Object(o["d"])(this,void 0,void 0,regeneratorRuntime.mark((function n(){var s,r,o,c,h,f,m;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(0!==e.length){n.next=2;break}return n.abrupt("return",[]);case 2:return s=Object(a["a"])(l["NpcTypeApi"],Object(i["a"])(u["SpireApi"].cfg())),r=new p["a"],o=[],t.includes("all")?o=[].concat(Object(i["a"])(o),["NpcSpell.NpcSpellsEntries.SpellsNew","NpcFactions.NpcFactionEntries.FactionList","NpcFactions","NpcEmotes","Merchantlists.Items","Loottable.LoottableEntries.Lootdrop.LootdropEntries.Item"]):t.length>0&&(o=[].concat(Object(i["a"])(o),Object(i["a"])(t))),r.includes(o),n.next=9,s.getNpcTypesBulk({body:{ids:e}},{query:r.get()});case 9:if(c=n.sent,200!==c.status){n.next=14;break}h=d(c.data);try{for(h.s();!(f=h.n()).done;)m=f.value,this.npc[m.id]=m}catch(g){h.e(g)}finally{h.f()}return n.abrupt("return",c.data);case 14:case"end":return n.stop()}}),n,this)})))}},{key:"getNpcsByZone",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{relations:[],uniqueEntries:!0};return Object(o["d"])(this,void 0,void 0,regeneratorRuntime.mark((function s(){var r,o,c,h,f,m,g,v,_,b,w;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return r=Object(a["a"])(l["Spawn2Api"],Object(i["a"])(u["SpireApi"].cfg())),o=new p["a"],o.where("zone","=",e),-1===t?o.where("version",">=",t):o.where("version","=",t),c=["Spawnentries.NpcType"],n.relations.includes("all")?c=[].concat(Object(i["a"])(c),["Spawnentries.NpcType.NpcSpell.NpcSpellsEntries.SpellsNew","Spawnentries.NpcType.NpcFactions.NpcFactionEntries.FactionList","Spawnentries.NpcType.NpcFactions","Spawnentries.NpcType.NpcEmotes","Spawnentries.NpcType.Merchantlists.Items","Spawnentries.NpcType.Loottable.LoottableEntries.Lootdrop.LootdropEntries.Item"]):n.relations.length>0&&(c=[].concat(Object(i["a"])(c),Object(i["a"])(n.relations))),o.limit(1e6),o.includes(c),s.next=10,r.listSpawn2s(o.get());case 10:if(h=s.sent,200!==h.status||!h.data){s.next=46;break}f=[],m=d(h.data),s.prev=14,m.s();case 16:if((g=m.n()).done){s.next=37;break}if(v=g.value,!v.spawnentries){s.next=35;break}_=d(v.spawnentries),s.prev=20,w=regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=b.value,t.npc_type&&(n.uniqueEntries?(a=f.find((function(e){return e.id===t.npc_type.id})),a||f.push(t.npc_type)):f.push(t.npc_type));case 2:case"end":return e.stop()}}),e)})),_.s();case 23:if((b=_.n()).done){s.next=27;break}return s.delegateYield(w(),"t0",25);case 25:s.next=23;break;case 27:s.next=32;break;case 29:s.prev=29,s.t1=s["catch"](20),_.e(s.t1);case 32:return s.prev=32,_.f(),s.finish(32);case 35:s.next=16;break;case 37:s.next=42;break;case 39:s.prev=39,s.t2=s["catch"](14),m.e(s.t2);case 42:return s.prev=42,m.f(),s.finish(42);case 45:return s.abrupt("return",f);case 46:return s.abrupt("return",[]);case 47:case"end":return s.stop()}}),s,null,[[14,39,42,45],[20,29,32,35]])})))}},{key:"getFieldDescriptions",value:function(){return{id:"ID number of the NPC",name:"First Name of the NPC",lastname:"Last Name of the NPC",level:"Level of the NPC",race:"Race of the NPC",class:"Class of the NPC",bodytype:"Bodytype of the NPC",hp:"Maximum Hitpoints of the NPC",mana:"Maximum Mana of the NPC",gender:"Gender of the NPC",texture:"Texture of the NPC",helmtexture:"Helmet Texture of the NPC",herosforgemodel:"Heroes Forge Model used on the NPC",size:"Numerical size of the NPC",hp_regen_rate:"Hitpoint Regeneration Rate of the NPC",hp_regen_per_second:"Hitpoint Regeneration Rate (per second) of the NPC",mana_regen_rate:"Mana Regen Rate of the NPC",loottable_id:"Loottable Id of the NPC",merchant_id:"Merchant Id of the NPC",alt_currency_id:"Alt Currency Id used with the NPC",npc_spells_effects_id:"Npc Spells Effects Id used with the NPC",npc_faction_id:"Npc Faction Id of the NPC",adventure_template_id:"Adventure Template Id of the NPC",trap_template:"Trap Template of the NPC",mindmg:"Minimum damge of the NPC",maxdmg:"Maximum damage of the NPC",attack_count:"Attack Count of the NPC",npcspecialattks:"Special Attacks used by the NPC",special_abilities:"Special Abilities used by the NPC",aggroradius:"Aggro radius of the NPC",assistradius:"Assist radius of the NPC",face:"Face of the NPC",luclin_hairstyle:"Luclin Hairstyle used with the NPC",luclin_haircolor:"Luclin Haircolor used with the NPC",luclin_eyecolor:"Luclin Eyecolor used with the NPC",luclin_eyecolor_2:"Luclin Eyecolor 2 used with the NPC",luclin_beardcolor:"Luclin Beardcolor used with the NPC",luclin_beard:"Luclin Beard used with the NPC",drakkin_heritage:"Drakkin Heritage used with the NPC",drakkin_tattoo:"Drakkin Tattoo used with the NPC",drakkin_details:"Drakkin Details used with the NPC",armortint_id:"Armor tint Id used with the NPC",armortint_red:"Armor tint Red used with the NPC",armortint_green:"Armor tint Green used with the NPC",armortint_blue:"Armor tint Blue used with the NPC",d_melee_texture_1:"D Melee Texture 1 used with the NPC",d_melee_texture_2:"D Melee Texture 2 used with the NPC",ammo_idfile:"Ammo Id file used for the NPC",prim_melee_type:"Primary Melee Type of the NPC",sec_melee_type:"Secondary Melee Type of the NPC",ranged_type:"Ranged Type of the NPC",runspeed:"Runspeed of the NPC",mr:"Magic Resistance of the NPC",cr:"Cold Resistance of the NPC",dr:"Disease Resistance of the NPC",fr:"Fire Resistance of the NPC",pr:"Poison Resistance of the NPC",corrup:"Corruption Resistanceance of the NPC",ph_r:"",see_invis:"NPC Sees through invisibility",see_invis_undead:"NPC Sees through invisibility vs Undead",qglobal:"Qglobal enabled for the NPC",ac:"Armor Class of the NPC",npc_aggro:"NPC will aggro other NPCs",spawn_limit:"Spawn Limit of the NPC",attack_speed:"Attack Speed of the NPC",attack_delay:"Attack Delay of the NPC",findable:"NPC can be located with Find",str:"Strength of the NPC",sta:"Stamina of the NPC",dex:"Dexterity of the NPC",agi:"Agility of the NPC",_int:"Intelligence of the NPC",wis:"Wisdom of the NPC",cha:"Charisma of the NPC",see_hide:"NPC can see through hide",see_improved_hide:"NPC can see through improved hide",trackable:"NPC is trackable",isbot:"NPC is a bot",exclude:"",atk:"Attack rating of the NPC",accuracy:"Accuracy rating of the NPC",avoidance:"Avoidance rating of the NPC",slow_mitigation:"Slow Mitigation of the NPC",version:"Version of the NPC",maxlevel:"Maximum level of the NPC",scalerate:"Scale rate of the NPC",private_corpse:"",unique_spawn_by_name:"NPC is a Unique Spawn By Name",underwater:"Underwater NPC",isquest:"The NPC has a quest script",emoteid:"Emote id of the NPC",spellscale:"Spell scale of the NPC",healscale:"Heal scale of the NPC",no_target_hotkey:"",raidtarget:"NPC is a Raid Target",armtexture:"Arm texture of the NPC",bracertexture:"Bracer texture of the NPC",handtexture:"Hand texture of the NPC",legtexture:"Leg texture of the NPC",feettexture:"Feet texture of the NPC",light:"Light value of the NPC",walkspeed:"Walkspeed of the NPC",peqid:"",unique:"NPC is unique",fixed:"",ignore_despawn:"",show_name:"NPC name is shown",untargetable:"NPC is untargetable",charm_ac:"Charmed Armor Class of the NPC",charm_min_dmg:"Charmed Minimum Damage of the NPC",charm_max_dmg:"Charmed Maximum Damage of the NPC",charm_attack_delay:"Charmed Attack Delay of the NPC",charm_accuracy_rating:"Charmed Accuracy Rating of the NPC",charm_avoidance_rating:"Charmed Avoidance Rating of the NPC",charm_atk:"Charmed Attack Rating of the NPC",skip_global_loot:"Skip Global Loot on this NPC",rare_spawn:"NPC is a rare spawn",stuck_behavior:"Behavior followed if NPC is stuck",model:"Model of the NPC",flymode:"Flymode for the NPC",always_aggro:"NPC will always aggro",exp_mod:"Experience modifier for the NPC"}}},{key:"getFieldDescription",value:function(e){var t=e.toLowerCase().replace("_","");for(var n in this.getFieldDescriptions()){var a=n.toLowerCase().replace("_","");if(a===t)return this.getFieldDescriptions()[n]}return""}},{key:"cacheExists",value:function(e){return this.npc[e]}}])}();m.npc={}},"02f6":function(e,t,n){"use strict";var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"container-fluid content-area"},[t("div",{staticClass:"panel-body"},[t("div",{staticClass:"panel panel-default"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-12 mt-3"},[e._t("default")],2)])])])])},i=[],s={name:"ContentArea"},r=s,o=n("2877"),c=Object(o["a"])(r,a,i,!1,null,"4665fdac",null);t["a"]=c.exports},"093e":function(e,t,n){"use strict";var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"eq-window-simple"},[e.title?t("div",{staticClass:"eq-window-title-bar",style:"font-weight: "+(e.boldTitle?"bold":"normal")+";"},[e._v(e._s(e.title)+"\n  ")]):e._e(),t("div",{class:e.classes,style:"padding: "+("undefined"!==typeof e.padding?e.padding:10)+"px"},[e._t("default")],2)])},i=[],s=(n("c5f6"),{name:"EqWindowSimple",props:{title:{type:String,required:!1},padding:{type:Number,required:!1,default:10},classes:{type:String,required:!1,default:""},boldTitle:{type:Boolean,required:!1,default:!1}}}),r=s,o=n("2877"),c=Object(o["a"])(r,a,i,!1,null,"4db0cdea",null);t["a"]=c.exports},"0a49":function(e,t,n){var a=n("9b43"),i=n("626a"),s=n("4bf8"),r=n("9def"),o=n("cd1c");e.exports=function(e,t){var n=1==e,c=2==e,l=3==e,u=4==e,p=6==e,d=5==e||p,h=t||o;return function(t,o,f){for(var m,g,v=s(t),_=i(v),b=a(o,f,3),w=r(_.length),y=0,N=n?h(t,w):c?h(t,0):void 0;w>y;y++)if((d||y in _)&&(m=_[y],g=b(m,y,v),e))if(n)N[y]=g;else if(g)switch(e){case 3:return!0;case 5:return m;case 6:return y;case 2:N.push(m)}else if(u)return!1;return p?-1:l||u?u:N}}},2514:function(e,t,n){},"26df":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n("d225"),i=n("b0b4"),s={0:"original.gif",1:"kunarkicon.gif",2:"veliousicon.gif",3:"luclinicon.gif",4:"powericon.gif",5:"ykeshaicon.gif",6:"ldonicon.gif",7:"gatesicon.gif",8:"omensicon.gif",9:"donicon.gif",10:"dodicon.png",11:"poricon.png",12:"serpsicon.gif",13:"buried.gif",14:"secrets.gif",15:"seedsofdestruction.gif",16:"underfoot.gif",17:"thule.gif",18:"alaris.gif",19:"fear.gif",20:"calloftheforsaken.gif",21:"darkenedsea.gif",22:"brokenmirror.gif",23:"empires.gif",24:"scale.gif",25:"burning.gif",26:"torment.gif"},r=n("4ac1"),o=n("78ff"),c=function(){function e(){Object(a["a"])(this,e)}return Object(i["a"])(e,null,[{key:"getExpansionIconUrlSmall",value:function(e){return s[e]?r["a"].ASSET_EXPANSION_ICON_SMALL_URL+s[e]:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"}},{key:"getExpansionName",value:function(e){return o["b"][e]?o["b"][e]:-1===e?"All":"Unknown"}}])}()},"31f9":function(e,t,n){"use strict";n("2514")},4917:function(e,t,n){"use strict";var a=n("cb7c"),i=n("9def"),s=n("0390"),r=n("5f1b");n("214f")("match",1,(function(e,t,n,o){return[function(n){var a=e(this),i=void 0==n?void 0:n[t];return void 0!==i?i.call(n,a):new RegExp(n)[t](String(a))},function(e){var t=o(n,e,this);if(t.done)return t.value;var c=a(e),l=String(this);if(!c.global)return r(c,l);var u=c.unicode;c.lastIndex=0;var p,d=[],h=0;while(null!==(p=r(c,l))){var f=String(p[0]);d[h]=f,""===f&&(c.lastIndex=s(l,i(c.lastIndex),u)),h++}return 0===h?null:d}]}))},"646b":function(e,t,n){"use strict";n("7f7f");var a=function(){var e=this,t=e._self._c;return e.spell?t("div",{staticClass:"d-inline-block"},[t("div",{attrs:{id:e.spell.id+"-"+e.popoverId+"-popover"}},[t("span",{class:"d-inline-block spell-"+e.spell.new_icon+e.getIconClassLabelFromSize(),style:e.getBorderStyling(),attrs:{title:e.spell.icon}}),t("span",{class:e.getLeftMargin(),style:"position:relative;"+e.getTextTopOffset()},[e._v(e._s(e.clampSpellName(e.spell.name))+" "+e._s(e.annotation))])]),t("b-popover",{staticStyle:{width:"500px !important"},attrs:{target:e.spell.id+"-"+e.popoverId+"-popover","custom-class":"no-bg",placement:"right",delay:"0",boundary:"viewport","no-fade":!0,triggers:"hover focus"}},[t("eq-window",{staticStyle:{width:"auto",height:"100%"}},[t("eq-spell-preview",{attrs:{"spell-data":e.spell}})],1)],1)],1):e._e()},i=[],s=(n("6b54"),n("c5f6"),n("935a")),r=n("adf0"),o=n("0329"),c={name:"SpellPopover",props:{spell:Object,size:{type:[Number,String],required:!1,default:40},spellNameLength:{type:Number,required:!1},annotation:{type:String,required:!1,default:""}},watch:{spell:{deep:!0,handler:function(){}}},data:function(){return{popoverId:Math.random().toString(16).slice(2),spellEffectInfo:[],spellData:{},sideLoadedSpellData:{},reagents:[]}},methods:{truncate:function(e,t){return e.length>t?e.substring(0,t)+"...":e},clampSpellName:function(e){return this.spellNameLength?this.truncate(e,this.spellNameLength):e},getLeftMargin:function(){return this.size<=12||this.size<=20?"ml-2":(this.size,"ml-3")},getIconClassLabelFromSize:function(){return this.size<=12?"-12":this.size<=20?"-20":this.size<=30?"-30":"-40"},getBorderStyling:function(){return this.size<=12?" border: 1px solid "+this.getTargetTypeColor():this.size<=20?"position: relative; top: 5px; border-radius: 5px; border: .5px solid "+this.getTargetTypeColor():(this.size,"border-radius: 5px; border: 1px solid "+this.getTargetTypeColor())},getTextTopOffset:function(){return this.size<=12?"top: -3px":this.size<=20?"top: 0px":this.size<=30?"top: -10px":"top: -15px"},getTargetTypeColor:function(){return o["a"].getTargetTypeColor(this.spell["targettype"])}},mounted:function(){this.sideLoadedSpellData=o["a"].data},components:{EqSpellPreview:r["a"],EqSpellCardPreview:r["a"],EqWindow:s["a"]}},l=c,u=n("2877"),p=Object(u["a"])(l,a,i,!1,null,null,null);t["a"]=p.exports},"73b7":function(e,t,n){"use strict";var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"d-inline-block"},[e.filterData.min_expansion>0?t("div",{staticClass:"d-inline-block ml-3"},[t("expansion-icon",{attrs:{expansion:e.filterData.min_expansion,title:"Minimum Expansion Required "}})],1):e._e(),e.filterData.max_expansion>0?t("div",{staticClass:"d-inline-block ml-3"},[t("expansion-icon",{attrs:{expansion:e.filterData.max_expansion,title:"Max Expansion Required "}})],1):e._e(),t("content-flag-pills",{attrs:{"flags-enabled":e.filterData.content_flags}}),t("content-flag-pills",{attrs:{"flags-disabled":e.filterData.content_flags_disabled}})],1)},i=[],s=n("7eeb"),r=n("a332"),o={name:"ContentFilterDisplayPills",components:{ExpansionIcon:r["a"],ContentFlagPills:s["a"]},props:{filterData:{type:Object,required:!0}}},c=o,l=n("2877"),u=Object(l["a"])(c,a,i,!1,null,"fe0c6456",null);t["a"]=u.exports},7514:function(e,t,n){"use strict";var a=n("5ca1"),i=n("0a49")(5),s="find",r=!0;s in[]&&Array(1)[s]((function(){r=!1})),a(a.P+a.F*r,"Array",{find:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),n("9c6c")(s)},"78ff":function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return i}));var a=["Classic","The Ruins of Kunark","The Scars of Velious","The Shadows of Luclin","The Planes of Power","The Legacy of Ykesha","Lost Dungeons of Norrath","Gates of Discord","Omens of War","Dragons of Norrath","Depths of Darkhollow","Prophecy of Ro","The Serpent's Spine","The Buried Sea","Secrets of Faydwer","Seeds of Destruction","Underfoot","House of Thule","Veil of Alaris","Rain of Fear","Call of the Forsaken","The Darkened Sea","The Broken Mirror","Empires of Kunark","Ring of Scale","The Burning Lands","Torment of Velious"],i={0:{name:"Classic",mask:0,icon:"original.gif"},1:{name:"The Ruins of Kunark",mask:1,icon:"kunarkicon.gif"},2:{name:"The Scars of Velious",mask:2,icon:"veliousicon.gif"},3:{name:"The Shadows of Luclin",mask:4,icon:"luclinicon.gif"},4:{name:"The Planes of Power",mask:8,icon:"powericon.gif"},5:{name:"The Legacy of Ykesha",mask:16,icon:"ykeshaicon.gif"},6:{name:"Lost Dungeons of Norrath",mask:32,icon:"ldonicon.gif"},7:{name:"Gates of Discord",mask:64,icon:"gatesicon.gif"},8:{name:"Omens of War",mask:128,icon:"omensicon.gif"},9:{name:"Dragons of Norrath",mask:256,icon:"donicon.gif"},10:{name:"Depths of Darkhollow",mask:512,icon:"dodicon.png"},11:{name:"Prophecy of Ro",mask:1024,icon:"poricon.png"},12:{name:"The Serpent's Spine",mask:2048,icon:"serpsicon.gif"},13:{name:"The Buried Sea",mask:4096,icon:"buried.gif"},14:{name:"Secrets of Faydwer",mask:8192,icon:"secrets.gif"},15:{name:"Seeds of Destruction",mask:16384,icon:"seedsofdestruction.gif"},16:{name:"Underfoot",mask:32768,icon:"underfoot.gif"},17:{name:"House of Thule",mask:65536,icon:"thule.gif"},18:{name:"Veil of Alaris",mask:131072,icon:"alaris.gif"},19:{name:"Rain of Fear",mask:262144,icon:"fear.gif"},20:{name:"Call of the Forsaken",mask:524288,icon:"calloftheforsaken.gif"},21:{name:"The Darkened Sea",mask:1048576,icon:"darkenedsea.gif"},22:{name:"The Broken Mirror",mask:2097152,icon:"brokenmirror.gif"},23:{name:"Empires of Kunark",mask:4194304,icon:"empires.gif"},24:{name:"Ring of Scale",mask:8388608,icon:"scale.gif"},25:{name:"The Burning Lands",mask:16777216,icon:"burning.gif"},26:{name:"Torment of Velious",mask:33554432,icon:"torment.gif"}}},"7dc0":function(e,t,n){"use strict";(function(e){n("4917"),n("a481"),n("55dd"),n("7f7f"),n("7514");function a(e,t){if(!(this instanceof a))return new a(e,t);if(!e||"TABLE"!==e.tagName)throw new Error("Element must be a table");this.init(e,t||{})}var i=[],s=function(e){var t;return window.CustomEvent&&"function"===typeof window.CustomEvent?t=new CustomEvent(e):(t=document.createEvent("CustomEvent"),t.initCustomEvent(e,!1,!1,void 0)),t},r=function(e,t){return e.getAttribute(t.sortAttribute||"data-sort")||e.textContent||e.innerText||""},o=function(e,t){return e=e.trim().toLowerCase(),t=t.trim().toLowerCase(),e===t?0:e<t?1:-1},c=function(e,t){return[].slice.call(e).find((function(e){return e.getAttribute("data-sort-column-key")===t}))},l=function(e,t){return function(n,a){var i=e(n.td,a.td);return 0===i?t?a.index-n.index:n.index-a.index:i}};a.extend=function(e,t,n){if("function"!==typeof t||"function"!==typeof n)throw new Error("Pattern and sort must be a function");i.push({name:e,pattern:t,sort:n})},a.prototype={init:function(e,t){var n,a,i,s,r=this;if(r.table=e,r.thead=!1,r.options=t,e.rows&&e.rows.length>0)if(e.tHead&&e.tHead.rows.length>0){for(i=0;i<e.tHead.rows.length;i++)if("thead"===e.tHead.rows[i].getAttribute("data-sort-method")){n=e.tHead.rows[i];break}n||(n=e.tHead.rows[e.tHead.rows.length-1]),r.thead=!0}else n=e.rows[0];if(n){var o=function(){r.current&&r.current!==this&&r.current.removeAttribute("aria-sort"),r.current=this,r.sortTable(this)};for(i=0;i<n.cells.length;i++)s=n.cells[i],s.setAttribute("role","columnheader"),"none"!==s.getAttribute("data-sort-method")&&(s.tabindex=0,s.addEventListener("click",o,!1),null!==s.getAttribute("data-sort-default")&&(a=s));a&&(r.current=a,r.sortTable(a))}},sortTable:function(e,t){var n=this,a=e.getAttribute("data-sort-column-key"),u=e.cellIndex,p=o,d="",h=[],f=n.thead?0:1,m=e.getAttribute("data-sort-method"),g=e.getAttribute("aria-sort");if(n.table.dispatchEvent(s("beforeSort")),t||(g="ascending"===g?"descending":"descending"===g?"ascending":n.options.descending?"descending":"ascending",e.setAttribute("aria-sort",g)),!(n.table.rows.length<2)){if(!m){while(h.length<3&&f<n.table.tBodies[0].rows.length)N=a?c(n.table.tBodies[0].rows[f].cells,a):n.table.tBodies[0].rows[f].cells[u],d=N?r(N,n.options):"",d=d.trim(),d.length>0&&h.push(d),f++;if(!h)return}for(f=0;f<i.length;f++)if(d=i[f],m){if(d.name===m){p=d.sort;break}}else if(h.every(d.pattern)){p=d.sort;break}for(n.col=u,f=0;f<n.table.tBodies.length;f++){var v,_=[],b={},w=0,y=0;if(!(n.table.tBodies[f].rows.length<2)){for(v=0;v<n.table.tBodies[f].rows.length;v++){var N;d=n.table.tBodies[f].rows[v],"none"===d.getAttribute("data-sort-method")?b[w]=d:(N=a?c(d.cells,a):d.cells[n.col],_.push({tr:d,td:N?r(N,n.options):"",index:w})),w++}for("descending"===g?_.sort(l(p,!0)):(_.sort(l(p,!1)),_.reverse()),v=0;v<w;v++)b[v]?(d=b[v],y++):d=_[v-y].tr,n.table.tBodies[f].appendChild(d)}}n.table.dispatchEvent(s("afterSort"))}},refresh:function(){void 0!==this.current&&this.sortTable(this.current,!0)}},e.exports?e.exports=a:window.Tablesort=a;var u=function(e){return e.replace(/[^\-?0-9.]/g,"")},p=function(e,t){return e=parseFloat(e),t=parseFloat(t),e=isNaN(e)?0:e,t=isNaN(t)?0:t,e-t};a.extend("number",(function(e){return e.match(/^[-+]?[£\x24Û¢´€]?\d+\s*([,\.]\d{0,2})/)||e.match(/^[-+]?\d+\s*([,\.]\d{0,2})?[£\x24Û¢´€]/)||e.match(/^[-+]?(\d)*-?([,\.]){0,1}-?(\d)+([E,e][\-+][\d]+)?%?$/)}),(function(e,t){return e=u(e),t=u(t),p(t,e)})),t["a"]=a}).call(this,n("dd40")(e))},"7eeb":function(e,t,n){"use strict";n("28a5");var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"d-inline-block ml-1"},[e.flagsEnabled&&e.flagsEnabled.length>0?t("div",{staticClass:"d-inline-block"},e._l(e.flagsEnabled.split(","),(function(n){return t("b-badge",{key:n,attrs:{title:"Enabled when this content flag is enabled",pill:"",variant:"warning"}},[e._v(e._s(n)+"\n    ")])})),1):e._e(),e.flagsDisabled&&e.flagsDisabled.length>0?t("div",{staticClass:"d-inline-block"},e._l(e.flagsDisabled.split(","),(function(n){return t("b-badge",{key:n,attrs:{title:"Disabled when this content flag is enabled",pill:"",variant:"danger"}},[e._v(e._s(n)+"\n    ")])})),1):e._e()])},i=[],s={name:"ContentFlagPills",props:{flagsEnabled:{type:String,required:!1},flagsDisabled:{type:String,required:!1}}},r=s,o=n("2877"),c=Object(o["a"])(r,a,i,!1,null,"f1f957d2",null);t["a"]=c.exports},8915:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a={"-1":"None",0:"Grounded",1:"Flying",2:"Levitate",3:"Water",4:"Floating",5:"Levitate While Running"}},"95ee":function(e,t,n){"use strict";n("ac6a"),n("456d");var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"eq-window-nested-blue",staticStyle:{width:"100%","overflow-y":"scroll"}},[e.data&&0===e.data.length?t("div",{staticClass:"p-3"},[e._v("\n    There were no entries to be shown\n  ")]):e._e(),e.data&&e.data.length>0?t("table",{staticClass:"eq-table eq-highlight-rows",staticStyle:{display:"table","font-size":"14px","overflow-x":"scroll"}},[t("thead",[t("tr",e._l(Object.keys(e.data[0]),(function(n){return e.doesColumnHaveObjects(n)?e._e():t("th",{staticStyle:{"text-align":"center"}},[e._v(e._s(n)+"\n      ")])})),0)]),t("tbody",e._l(e.data,(function(n,a){return t("tr",{key:a},e._l(Object.keys(n),(function(a){return e.doesRowColumnHaveObjects(n,a)?t("td",{staticStyle:{width:"1%","white-space":"nowrap","text-align":"center"}},[e._v("\n        "+e._s(n[a])+"\n      ")]):e._e()})),0)})),0)]):e._e()])},i=[],s=(n("7514"),n("7618")),r={name:"EqAutoTable",props:{data:{required:!1}},methods:{doesColumnHaveObjects:function(e){return"object"===Object(s["a"])(e)||this.data.find((function(t){return"object"===Object(s["a"])(t[e])&&null!==t[e]&&Object.keys(t[e])}))},doesRowColumnHaveObjects:function(e,t){return"undefined"!==typeof e[t]&&!("object"===Object(s["a"])(e[t])&&null!==e[t]&&Object.keys(e[t]))}}},o=r,c=n("2877"),l=Object(c["a"])(o,a,i,!1,null,"0bd1cf36",null);t["a"]=l.exports},a006:function(e,t,n){"use strict";n("7f7f"),n("ac6a"),n("456d"),n("55dd"),n("6b54");var a=function(){var e=this,t=e._self._c;return e.npc?t("div",[t("span",{class:"race-models-ctn-"+e.getRaceImage(e.npc),staticStyle:{position:"absolute",right:"7%",opacity:".8",filter:"drop-shadow(10px 5px 2px #000)"}}),e.npc.d_melee_texture_1>0?t("span",{class:"mt-2 mb-2 object-ctn-"+e.npc.d_melee_texture_1,style:"position: absolute; right: "+(e.npc.d_melee_texture_2>0?25:20)+"%; top: 10px; opacity: 1; filter: drop-shadow(10px 5px 2px #000); z-index: 9999"}):e._e(),e.npc.d_melee_texture_2>0?t("span",{class:"mt-2 mb-2 object-ctn-"+e.npc.d_melee_texture_2,staticStyle:{position:"absolute",right:"20%",top:"10px",filter:"drop-shadow(10px 5px 2px #000)",opacity:".8"}}):e._e(),t("div",{staticClass:"row"},[t("div",{staticClass:"col-8"},[t("h6",{staticClass:"eq-header",staticStyle:{margin:"0px","margin-bottom":"10px"}},[e._v("\n        "+e._s(e.getCleanName())+" "+e._s(e.npc.lastname&&e.npc.lastname.length>0?"("+e.npc.lastname+")":"")+"\n      ")])]),t("div",{staticClass:"col-12"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-2 text-right font-weight-bold pr-0"},[e._v("\n          ID\n        ")]),t("div",{staticClass:"col-4 pl-3"},[e._v("\n          "+e._s(e.npc.id)+"\n        ")])]),t("div",{staticClass:"row"},[t("div",{staticClass:"col-2 text-right font-weight-bold pr-0"},[e._v("\n          Level\n        ")]),t("div",{staticClass:"col-4 pl-3"},[e._v("\n          "+e._s(e.npc.level)+"\n        ")])]),t("div",{staticClass:"row"},[t("div",{staticClass:"col-2 text-right font-weight-bold pr-0"},[e._v("\n          Class\n        ")]),t("div",{staticClass:"col-4 pl-3"},[e.getClassIcon().toString().length>0?t("span",{class:"item-"+e.getClassIcon()+"-sm",staticStyle:{display:"inline-block"}}):e._e(),t("span",{staticStyle:{position:"relative",top:"-2px"}},[e._v("\n            "+e._s(e.getClassName(e.npc.class))+" ("+e._s(e.npc.class)+")\n          ")])])]),t("div",{staticClass:"row"},[t("div",{staticClass:"col-2 text-right font-weight-bold pr-0"},[e._v("\n          Race\n        ")]),t("div",{staticClass:"col-4 pl-3"},[e.getRaceIcon().toString().length>0?t("span",{class:"item-"+e.getRaceIcon()+"-sm",staticStyle:{display:"inline-block"}}):e._e(),t("span",{staticStyle:{position:"relative",top:"-2px"}},[e._v("\n            "+e._s(e.getRaceName(e.npc.race))+" ("+e._s(e.npc.race)+")\n          ")])])]),t("div",{staticClass:"row"},[t("div",{staticClass:"col-2 text-right font-weight-bold pr-0"},[e._v("\n          Bodytype\n        ")]),t("div",{staticClass:"col-4 pl-3"},[e._v("\n          "+e._s(e.getBodytype())+" ("+e._s(e.npc.bodytype)+")\n        ")])]),e.npc.merchant_id>0?t("div",{staticClass:"row"},[t("div",{staticClass:"col-2 text-right font-weight-bold pr-0"},[e._v("\n          Merchant ID\n        ")]),t("div",{staticClass:"col-4 pl-3"},[e._v("\n          "+e._s(e.npc.merchant_id)+"\n        ")])]):e._e(),0!==e.npc.armortint_red||0!==e.npc.armortint_green||0!==e.npc.armortint_blue?t("div",{staticClass:"row"},[t("div",{staticClass:"col-2 text-right font-weight-bold pr-0"},[e._v("\n          Armor RGB\n        ")]),t("div",{staticClass:"col-4 pl-3"},[t("div",{staticClass:"mr-3",style:"width: 15px; height: 15px; margin-top: 3px; border-radius: 5px; background-color: rgb("+e.npc.armortint_red+", "+e.npc.armortint_green+", "+e.npc.armortint_blue+");"})])]):e._e()])]),e.noStats?e._e():t("div",{staticClass:"mt-4 mb-5"},e._l(e.rows,(function(n,a){return t("div",{key:a,staticClass:"row mt-3"},e._l(n.columns,(function(n,a){return t("div",{key:a,staticClass:"col-4"},e._l(n,(function(n){return"undefined"!==typeof n.showIf&&n.showIf||"undefined"===typeof n.showIf?t("div",{key:n.label,staticClass:"row"},[t("div",{staticClass:"col-8 text-left font-weight-bold pr-0"},[n.icon?t("span",{class:"item-"+n.icon+"-sm",staticStyle:{display:"inline-block"}}):e._e(),t("span",{staticStyle:{position:"relative",top:"-2px"}},[e._v("\n          "+e._s(n.label)+"\n          ")])]),t("div",{staticClass:"col-4 pl-1",staticStyle:{position:"relative",top:"-2px"}},[e._v("\n            "+e._s(parseInt(n.value)>0?e.commify(n.value):n.value)+"\n          ")])]):e._e()})),0)})),0)})),0),e.npc.special_abilities.length>0&&!e.noStats?t("div",{staticClass:"mt-3"},[t("div",{staticClass:"font-weight-bold mb-3"},[e._v("\n      This NPC has the following special abilities ("+e._s(e.parseSpecialAbilities(e.npc.special_abilities).length)+")\n    ")]),t("ul",{staticStyle:{"padding-left":"20px"}},e._l(e.parseSpecialAbilities(e.npc.special_abilities).sort((function(e,t){return e.localeCompare(t)})),(function(n){return t("li",{staticStyle:{display:"list-item","list-style-type":"circle"}},[e._v("\n        "+e._s(n)+"\n      ")])})),0)]):e._e(),e.npc.merchant_id>0?t("div",{staticClass:"mt-3"},[e.merchantitems&&e.merchantitems.length>0&&(e.merchantitems.length<e.maxDataEntries||e.showMerchantItems)?t("div",{},[t("div",{staticClass:"font-weight-bold mb-3"},[e._v("This NPC sells the following items ("+e._s(e.commify(e.merchantitems.length))+")\n        "),e.merchantitems.length>e.maxDataEntries?t("a",{attrs:{href:"javascript:void(0);"},on:{click:function(t){e.showMerchantItems=!1}}},[e._v("hide")]):e._e()]),t("table",{staticClass:"eq-table eq-highlight-rows",staticStyle:{width:"95%"}},[t("tbody",e._l(e.merchantitems,(function(n){return n.item&&"undefined"!==typeof n.item.price?t("tr",[t("td",[Object.keys(n.item).length>0&&n.item?t("item-popover",{staticClass:"d-inline-block",attrs:{item:n.item,size:"sm"}}):e._e(),e._v("\n            "+e._s(n.item.stacksize>0?"(".concat(n.item.stacksize,")"):"")+"\n\n            "),t("content-filter-display-pills",{attrs:{"filter-data":n.entry}})],1),t("td",[t("eq-cash-display",{staticClass:"ml-1",staticStyle:{"min-width":"150px"},attrs:{price:parseInt(n.item.price)}})],1)]):e._e()})),0)])]):e._e(),e.merchantitems&&e.merchantitems.length>0&&e.merchantitems.length>e.maxDataEntries&&!e.showMerchantItems?t("div",{staticClass:"font-weight-bold"},[e._v("\n      This NPC sells ("+e._s(e.commify(e.merchantitems.length))+") items, click "),t("a",{attrs:{href:"javascript:void(0);"},on:{click:function(t){e.showMerchantItems=!0}}},[e._v("here")]),e._v("\n      to view them all\n    ")]):e._e()]):e._e(),e.npc.npc_spells_id>0?t("div",{staticClass:"mt-3"},[e.castedSpells&&e.castedSpells.length>0&&(e.castedSpells.length<e.maxDataEntries||e.showCastedSpells)?t("div",{},[t("div",{staticClass:"font-weight-bold mb-3"},[e._v("This NPC casts the following spells ("+e._s(e.commify(e.castedSpells.length))+")\n        ("+e._s(e.npc.npc_spell.name)+")\n        "),e.castedSpells.length>e.maxDataEntries?t("a",{attrs:{href:"javascript:void(0);"},on:{click:function(t){e.showCastedSpells=!1}}},[e._v("hide")]):e._e()]),e._l(e.castedSpells,(function(n){return t("div",[Object.keys(n.spell).length>0&&n.spell?t("spell-popover",{staticClass:"mt-2",attrs:{spell:n.spell,size:20,"spell-name-length":25}}):e._e()],1)}))],2):e._e(),e.castedSpells&&e.castedSpells.length>0&&e.castedSpells.length>e.maxDataEntries&&!e.showCastedSpells?t("div",{staticClass:"font-weight-bold"},[e._v("\n      This NPC casts ("+e._s(e.commify(e.castedSpells.length))+") spells, click "),t("a",{attrs:{href:"javascript:void(0);"},on:{click:function(t){e.showCastedSpells=!0}}},[e._v("here")]),e._v("\n      to view them all\n    ")]):e._e()]):e._e(),e.npc.npc_spells_id>0?t("div",{staticClass:"mt-3"},[e.factionHits&&e.factionHits.length>0&&(e.factionHits.length<e.maxDataEntries||e.showFactionHits)?t("div",{},[t("div",{staticClass:"font-weight-bold mb-3"},[e._v("This NPC has the following faction hits ("+e._s(e.commify(e.factionHits.length))+")\n        "),e.factionHits.length>e.maxDataEntries?t("a",{attrs:{href:"javascript:void(0);"},on:{click:function(t){e.showFactionHits=!1}}},[e._v("hide")]):e._e()]),t("ul",{staticStyle:{"padding-left":"20px"}},e._l(e.factionHits,(function(n){return t("li",{staticStyle:{display:"list-item","list-style-type":"circle"}},[e._v("\n          "+e._s(n.name)+" ("+e._s(n.hitValue)+")\n        ")])})),0)]):e._e(),e.factionHits&&e.factionHits.length>0&&e.factionHits.length>e.maxDataEntries&&!e.showFactionHits?t("div",{staticClass:"font-weight-bold"},[e._v("\n      This NPC has ("+e._s(e.commify(e.factionHits.length))+") faction hits, click "),t("a",{attrs:{href:"javascript:void(0);"},on:{click:function(t){e.showFactionHits=!0}}},[e._v("here")]),e._v("to view them all\n    ")]):e._e()]):e._e(),e.npc.loottable_id>0?t("div",{staticClass:"mt-3"},[e.loot&&e.loot.length>0&&(e.loot.length<e.maxDataEntries||e.showLoot)?t("div",{},[t("div",{staticClass:"font-weight-bold mb-3"},[e._v("This NPC drops the following items ("+e._s(e.commify(e.loot.length))+")\n        "),e.loot.length>e.maxDataEntries?t("a",{attrs:{href:"javascript:void(0);"},on:{click:function(t){e.showLoot=!1}}},[e._v("hide")]):e._e()]),e._l(e.loot,(function(n){return t("div",[Object.keys(n.item).length>0&&n.item?t("item-popover",{staticClass:"d-inline-block",attrs:{item:n.item,size:"sm"}}):e._e()],1)}))],2):e._e(),e.loot&&e.loot.length>0&&e.loot.length>e.maxDataEntries&&!e.showLoot?t("div",{staticClass:"font-weight-bold"},[e._v("\n      This NPC drops ("+e._s(e.commify(e.loot.length))+") items, click "),t("a",{attrs:{href:"javascript:void(0);"},on:{click:function(t){e.showLoot=!0}}},[e._v("here")]),e._v("\n      to view them all\n    ")]):e._e()]):e._e(),t("eq-debug",{attrs:{data:e.npc}})],1):e._e()},i=[],s=(n("ac4d"),n("8a81"),n("5df3"),n("1c4c"),n("a481"),n("c5f6"),n("96cf"),n("3b8d")),r=n("dd86"),o=n("01de"),c=n("6023"),l=n("a50e"),u=n("573e"),p=n("8915"),d=n("cd97"),h=n("a78e"),f=n("646b"),m=n("a332"),g=n("7eeb"),v=n("73b7");function _(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=b(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,i=function(){};return{s:i,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,r=!0,o=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return r=e.done,e},e:function(e){o=!0,s=e},f:function(){try{r||null==n.return||n.return()}finally{if(o)throw s}}}}function b(e,t){if(e){if("string"==typeof e)return w(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?w(e,t):void 0}}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}var y={name:"EqNpcCardPreview",components:{ContentFilterDisplayPills:v["a"],ContentFlagPills:g["a"],ExpansionIcon:m["a"],SpellPopover:f["a"],EqCashDisplay:h["a"],ItemPopover:d["a"],EqDebug:r["a"]},data:function(){return{maxDataEntries:15,showLoot:!1,loot:{},merchantitems:[],showMerchantItems:!1,castedSpells:[],showCastedSpells:!1,factionHits:[],showFactionHits:!1,rows:this.getCardRows()}},mounted:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.init();case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),props:{npc:{type:Object,default:{},required:!0},noStats:{type:Boolean,required:!1,default:!1},limitEntries:{type:Number,required:!1,default:20}},watch:{npc:{deep:!0,handler:function(){this.init(),this.rows=this.getCardRows(),this.$forceUpdate()}}},methods:{getRaceImage:function(e){return o["a"].getRaceImage(e)},parseSpecialAbilities:function(e){return o["a"].specialAbilitiesToHuman(e)},commify:function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},getCleanName:function(){return o["a"].getCleanName(this.npc.name)},getRaceName:function(e){return c["c"][e]},getClassName:function(e){return l["a"][e]},getBodytype:function(){return u["a"][this.npc.bodytype]},getClassIcon:function(){return l["e"][this.npc.class]?l["e"][this.npc.class].icon:""},getRaceIcon:function(){return c["a"][this.npc.race]?c["a"][this.npc.race].icon:""},init:function(){if(console.log("[npc card] rendering for [%s]",this.npc.name),this.npc.merchant_id>0&&this.npc.merchantlists){var e,t=[],n=_(this.npc.merchantlists);try{for(n.s();!(e=n.n()).done;){var a=e.value;!a.items||a.items&&0===a.items.length?console.log("not a valid item"):t.push({item:a.items&&a.items.length>0?a.items[0]:{},entry:a})}}catch(C){n.e(C)}finally{n.f()}this.merchantitems=t}if(this.npc.loottable_id>0&&this.npc.loottable&&this.npc.loottable.loottable_entries){var i,s=[],r=_(this.npc.loottable.loottable_entries);try{for(r.s();!(i=r.n()).done;){var o,c=i.value,l=_(c.lootdrop.lootdrop_entries);try{var u=function(){var e=o.value;e.item&&0===s.filter((function(t){return t.item.id===e.item.id})).length&&s.push({item:e.item})};for(l.s();!(o=l.n()).done;)u()}catch(C){l.e(C)}finally{l.f()}}}catch(C){r.e(C)}finally{r.f()}this.loot=s.sort((function(e,t){return e.item.name.localeCompare(t.item.name)}))}if(this.npc.npc_spells_id>0&&this.npc.npc_spell&&this.npc.npc_spell.npc_spells_entries){var p,d=[],h=_(this.npc.npc_spell.npc_spells_entries);try{var f=function(){var e=p.value;0===d.filter((function(t){return t.spell.id===e.spells_new.id})).length&&d.push({spell:e.spells_new})};for(h.s();!(p=h.n()).done;)f()}catch(C){h.e(C)}finally{h.f()}this.castedSpells=d.sort((function(e,t){return e.spell.name.localeCompare(t.spell.name)}))}if(this.npc.npc_faction_id>0&&this.npc.npc_factions){var m,g=[],v=_(this.npc.npc_factions);try{for(v.s();!(m=v.n()).done;){var b=m.value;if(b.npc_faction_entries){var w,y=_(b.npc_faction_entries);try{var N=function(){var e=w.value;0===g.filter((function(t){return e.name===t.name})).length&&g.push({name:e.faction_list.name,hitValue:e.value})};for(y.s();!(w=y.n()).done;)N()}catch(C){y.e(C)}finally{y.f()}}}}catch(C){v.e(C)}finally{v.f()}this.factionHits=g.sort((function(e,t){return e.name.localeCompare(t.name)}))}console.log("[card preview] no stats",this.noStats),console.log("[card preview] no limit",this.limitEntries),this.limitEntries&&(this.maxDataEntries=this.limitEntries)},getCardRows:function(){return[{columns:[[{icon:"2052",label:"HP",value:this.npc["hp"],showIf:this.npc["hp"]>0},{icon:"2052",label:"(Sec) HP Regen",value:this.npc["hp_regen_per_second"],showIf:this.npc["hp_regen_per_second"]>0},{icon:"2052",label:"(Tic) HP Regen",value:this.npc["hp_regen_rate"],showIf:this.npc["hp_regen_rate"]>0},{icon:"2057",label:"Mana",value:this.npc["mana"],showIf:this.npc["mana"]>0},{icon:"2057",label:"(Tic) Mana Regen",value:this.npc["mana_regen_rate"],showIf:this.npc["mana_regen_rate"]>0}],[{icon:"5388",label:"Armor Class",value:this.npc["ac"],showIf:this.npc["ac"]>0},{icon:"1959",label:"Agility",value:this.npc["agi"],showIf:this.npc["agi"]>0},{icon:"1953",label:"Dexterity",value:this.npc["dex"],showIf:this.npc["dex"]>0},{icon:"1947",label:"Stamina",value:this.npc["sta"],showIf:this.npc["sta"]>0},{icon:"1941",label:"Strength",value:this.npc["str"],showIf:this.npc["str"]>0},{icon:"1965",label:"Charisma",value:this.npc["cha"],showIf:this.npc["cha"]>0},{icon:"1971",label:"Wisdom",value:this.npc["wis"],showIf:this.npc["wis"]>0},{icon:"1977",label:"Intelligence",value:this.npc["_int"],showIf:this.npc["_int"]>0}],[{icon:"2987",label:"Cold Resist",value:this.npc["cr"],showIf:this.npc["cr"]>0},{icon:"2994",label:"Disease Resist",value:this.npc["dr"],showIf:this.npc["dr"]>0},{icon:"2988",label:"Fire Resist",value:this.npc["fr"],showIf:this.npc["fr"]>0},{icon:"2984",label:"Magic Resist",value:this.npc["mr"],showIf:this.npc["mr"]>0},{icon:"2986",label:"Poison Resist",value:this.npc["pr"],showIf:this.npc["pr"]>0},{icon:"2995",label:"Corrup. Resist",value:this.npc["corrup"],showIf:this.npc["corrup"]>0},{icon:"2982",label:"Physical Resist",value:this.npc["ph_r"],showIf:this.npc["ph_r"]>0}]]},{columns:[[{icon:"",label:"See Hide",value:this.npc["see_hide"]?"Yes":"No",showIf:this.npc["see_hide"]>0},{icon:"",label:"See Improved Hide",value:this.npc["see_improved_hide"]?"Yes":"No",showIf:this.npc["see_improved_hide"]>0},{icon:"",label:"See Invisible",value:this.npc["see_invis"]?"Yes":"No",showIf:this.npc["see_invis"]>0},{icon:"",label:"See Invis Undead",value:this.npc["see_invis_undead"]?"Yes":"No",showIf:this.npc["see_invis_undead"]>0},{icon:"",label:"Show Name",value:this.npc["show_name"]?"Yes":"No",showIf:this.npc["show_name"]>0},{icon:"",label:"Skip Global Loot",value:this.npc["skip_global_loot"]?"Yes":"No",showIf:this.npc["skip_global_loot"]>0},{icon:"",label:"Spawn Limit",value:this.npc["spawn_limit"],showIf:this.npc["spawn_limit"]>0},{icon:"",label:"Trackable",value:this.npc["trackable"]?"Yes":"No",showIf:this.npc["trackable"]>0},{icon:"",label:"Stuck Behavior",value:this.npc["stuck_behavior"],showIf:this.npc["stuck_behavior"]>0},{icon:"",label:"No Target Hotkey",value:this.npc["no_target_hotkey"]?"Yes":"No",showIf:this.npc["no_target_hotkey"]>0},{icon:"",label:"Flymode",value:p["a"][this.npc["flymode"]]?p["a"][this.npc["flymode"]]:"",showIf:this.npc["flymode"]>0},{icon:"",label:"Findable",value:this.npc["findable"]?"Yes":"No",showIf:this.npc["findable"]>0},{icon:"",label:"Untargetable",value:this.npc["untargetable"]?"Yes":"No",showIf:this.npc["untargetable"]>0},{icon:"",label:"Underwater",value:this.npc["underwater"]?"Yes":"No",showIf:this.npc["underwater"]>0},{icon:"",label:"Unique Spawn By Name",value:this.npc["unique_spawn_by_name"]?"Yes":"No",showIf:this.npc["unique_spawn_by_name"]>0},{icon:"",label:"QGlobals Enabled",value:this.npc["qglobal"]?"Yes":"No",showIf:this.npc["qglobal"]>0},{icon:"",label:"Ignore Despawn",value:this.npc["ignore_despawn"]?"Yes":"No",showIf:this.npc["ignore_despawn"]>0},{icon:"",label:"Experience Modifier",value:this.npc["exp_mod"],showIf:100!==this.npc["exp_mod"]},{icon:"",label:"Bot NPC",value:this.npc["isbot"]?"Yes":"No",showIf:this.npc["isbot"]>0},{icon:"",label:"Quest NPC",value:this.npc["isquest"]?"Yes":"No",showIf:this.npc["isquest"]>0}],[],[{icon:"2087",label:"Min Damage",value:this.npc["mindmg"]},{icon:"2087",label:"Max Damage",value:this.npc["maxdmg"]},{icon:"2090",label:"Attack Count",value:this.npc["attack_count"],showIf:-1!==this.npc["attack_count"]},{icon:"2095",label:"Attack Delay",value:this.npc["attack_delay"]},{icon:"2102",label:"Attack Speed",value:this.npc["attack_speed"]},{icon:"778",label:"Heal Scale",value:this.npc["healscale"]+"%",showIf:100!==this.npc["healscale"]},{icon:"777",label:"Spell Scale",value:this.npc["spellscale"]+"%",showIf:100!==this.npc["spellscale"]},{icon:"778",label:"Scale Rate",value:this.npc["scalerate"]+"%",showIf:100!==this.npc["scalerate"]},{icon:"590",label:"Attack",value:this.npc["atk"],showIf:this.npc["atk"]>0},{icon:"597",label:"Accuracy",value:this.npc["accuracy"],showIf:this.npc["accuracy"]>0},{icon:"3656",label:"Avoidance",value:this.npc["avoidance"],showIf:this.npc["avoidance"]>0},{icon:"5388",label:"Charm Armor Class",value:this.npc["charm_ac"],showIf:this.npc["charm_ac"]>0},{icon:"597",label:"Charm Accuracy",value:this.npc["charm_accuracy_rating"],showIf:this.npc["charm_accuracy_rating"]>0},{icon:"590",label:"Charm Attack",value:this.npc["charm_atk"],showIf:this.npc["charm_atk"]>0},{icon:"2095",label:"Charm Attack Delay",value:this.npc["charm_attack_delay"],showIf:this.npc["charm_attack_delay"]>0},{icon:"3656",label:"Charm Avoidance",value:this.npc["charm_avoidance_rating"],showIf:this.npc["charm_avoidance_rating"]>0},{icon:"2087",label:"Charm Min Damage",value:this.npc["charm_min_dmg"],showIf:this.npc["charm_min_dmg"]>0},{icon:"2087",label:"Charm Max Damage",value:this.npc["charm_max_dmg"],showIf:this.npc["charm_max_dmg"]>0}]]}]}}},N=y,C=n("2877"),E=Object(C["a"])(N,a,i,!1,null,"3303983e",null);t["a"]=E.exports},a332:function(e,t,n){"use strict";n("6762"),n("2fdb");var a=function(){var e=this,t=e._self._c;return e.getExpansionIcon(e.expansion).includes("base64")?e._e():t("img",{staticClass:"mr-2 p-1 hover-highlight-inner",style:"width: 56px; opacity: .7; border: 2px solid rgb(218 218 218 / 30%); border-radius: 7px;",attrs:{alt:e.getExpansionName(e.expansion),title:e.title+e.getExpansionName(e.expansion)+" ("+e.expansion+")",src:e.getExpansionIcon(e.expansion)}})},i=[],s=(n("c5f6"),n("26df")),r={name:"ExpansionIcon",props:{expansion:{type:Number,required:!0},title:{type:String,required:!1,default:""}},methods:{getExpansionIcon:function(e){return s["a"].getExpansionIconUrlSmall(e)},getExpansionName:function(e){return s["a"].getExpansionName(e)}}},o=r,c=n("2877"),l=Object(c["a"])(o,a,i,!1,null,"54580cb1",null);t["a"]=l.exports},ae45:function(e,t){function n(e,t,n){var a,i,s,r,o;function c(){var l=Date.now()-r;l<t&&l>=0?a=setTimeout(c,t-l):(a=null,n||(o=e.apply(s,i),s=i=null))}null==t&&(t=100);var l=function(){s=this,i=arguments,r=Date.now();var l=n&&!a;return a||(a=setTimeout(c,t)),l&&(o=e.apply(s,i),s=i=null),o};return l.clear=function(){a&&(clearTimeout(a),a=null)},l.flush=function(){a&&(o=e.apply(s,i),s=i=null,clearTimeout(a),a=null)},l}n.debounce=n,e.exports=n},c955:function(e,t,n){"use strict";n.r(t);n("6762"),n("2fdb"),n("ac6a"),n("456d"),n("386d");var a=function(){var e=this,t=e._self._c;return t("content-area",{staticStyle:{padding:"0px !important"}},[t("div",{staticClass:"row"},[t("div",{class:e.isSubEditActive()?"col-6":"col-12"},[t("eq-window",{staticClass:"p-0",attrs:{title:"NPC Emotes"}},[t("div",{staticClass:"row minified-inputs mt-4 text-center"},[t("div",{staticClass:"col-3 p-0 text-right"},[t("div",{staticClass:"d-inline-block btn-group ml-4 text-right",staticStyle:{"margin-top":"26px"},attrs:{role:"group"}},[t("b-button",{attrs:{size:"sm",variant:"outline-warning"},on:{click:function(t){e.reset(),e.rows=[],e.loading=!0,e.updateQueryState(),e.init()}}},[t("i",{staticClass:"fa fa-refresh mr-1"}),e._v("\n                Reset\n              ")]),t("b-button",{attrs:{size:"sm",variant:"outline-warning"},on:{click:function(t){return e.newEmote()}}},[t("i",{staticClass:"fa fa-plus mr-1"}),e._v("\n                New\n              ")])],1)]),t("div",{staticClass:"col-2"},[e._v("\n            Event\n            "),t("b-form-select",{attrs:{options:e.NPC_EMOTE_EVENTS},on:{change:function(t){e.subSelectedId=-1,e.rows=[],e.updateQueryState()}},model:{value:e.eventSelection,callback:function(t){e.eventSelection=t},expression:"eventSelection"}})],1),t("div",{staticClass:"col-2"},[e._v("\n            Type\n            "),t("b-form-select",{attrs:{options:e.NPC_EMOTE_TYPES},on:{change:function(t){e.subSelectedId=-1,e.rows=[],e.updateQueryState()}},model:{value:e.typeSelection,callback:function(t){e.typeSelection=t},expression:"typeSelection"}})],1),t("div",{staticClass:"col-2"},[e._v("\n            Search\n            "),t("b-form-input",{attrs:{placeholder:"Search by text or id",autofocus:""},on:{keyup:function(t){e.subSelectedId=-1,e.rows=[],e.loading=!0,e.updateQueryStateDebounce()}},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)]),t("div",{staticStyle:{"max-height":"85vh","overflow-y":"scroll","overflow-x":"hidden"},attrs:{id:"emote-viewport"}},[t("app-loader",{attrs:{"is-loading":e.loading,padding:"4"}}),e.rows&&e.rows.length>0?t("table",{staticClass:"eq-table bordered eq-highlight-rows row-table emotes-table",staticStyle:{display:"table","font-size":"14px","overflow-x":"scroll"},attrs:{id:"emotes-table"}},[t("thead",{staticClass:"eq-table-floating-header"},[t("tr",e._l(Object.keys(e.rows[0]).filter((function(t){return!e.filterColumns.includes(t)})),(function(n,a){return t("th",{style:("text"===n?"text-align: left":"text-align: center")+";"+e.getColumnWidth(n),attrs:{id:"column-"+n}},[e._v(e._s(n)+"\n              ")])})),0)]),t("tbody",e._l(e.rows,(function(n,a){return t("tr",{key:n.id,class:e.isRowSelected(n)?"pulsate-highlight-white":"",attrs:{id:"row-"+n.id},on:{click:function(t){return e.selectEmote(n)}}},e._l(Object.keys(n).filter((function(t){return!e.filterColumns.includes(t)})),(function(a,i){return t("td",{style:"text"===a?"text-align: left":"text-align: center"},[["type","event_"].includes(a)?e._e():t("div",{staticClass:"d-inline-block"},[e._v("\n                  "+e._s(n[a])+"\n                ")]),"type"===a?t("div",{staticClass:"d-inline-block"},[e._v("\n                  "+e._s(e.NPC_EMOTE_TYPES[n[a]]?e.NPC_EMOTE_TYPES[n[a]]:"")+"\n                ")]):e._e(),"event_"===a?t("div",{staticClass:"d-inline-block"},[e._v("\n                  "+e._s(e.NPC_EMOTE_EVENTS[n[a]]?e.NPC_EMOTE_EVENTS[n[a]]:"")+"\n                ")]):e._e()])})),0)})),0)]):e._e()],1)])],1),e.isSubEditActive()?t("div",{staticClass:"col-6 fade-in"},[t("eq-window",{attrs:{title:"Edit NPC Emote ("+e.subSelectedId+")"}},[t("div",{staticClass:"mt-3"},[e._v("Emote ID\n          "),t("b-input",{model:{value:e.selectedEmote.emoteid,callback:function(t){e.$set(e.selectedEmote,"emoteid",e._n(t))},expression:"selectedEmote.emoteid"}})],1),t("div",{staticClass:"mt-3"},[e._v("Event\n          "),t("select",{directives:[{name:"model",rawName:"v-model.number",value:e.selectedEmote.event_,expression:"selectedEmote.event_",modifiers:{number:!0}}],staticClass:"form-control",on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(t){var n="_value"in t?t._value:t.value;return e._n(n)}));e.$set(e.selectedEmote,"event_",t.target.multiple?n:n[0])}}},e._l(e.NPC_EMOTE_EVENTS,(function(n,a){return t("option",{key:a,domProps:{value:parseInt(a)}},[e._v("\n              "+e._s(a)+") "+e._s(n)+"\n            ")])})),0)]),t("div",{staticClass:"mt-3"},[e._v("Type\n          "),t("select",{directives:[{name:"model",rawName:"v-model.number",value:e.selectedEmote.type,expression:"selectedEmote.type",modifiers:{number:!0}}],staticClass:"form-control",on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(t){var n="_value"in t?t._value:t.value;return e._n(n)}));e.$set(e.selectedEmote,"type",t.target.multiple?n:n[0])}}},e._l(e.NPC_EMOTE_TYPES,(function(n,a){return t("option",{key:a,domProps:{value:parseInt(a)}},[e._v("\n              "+e._s(a)+") "+e._s(n)+"\n            ")])})),0)]),t("div",{staticClass:"mt-3"},[e._v("Text\n          "),t("b-textarea",{model:{value:e.selectedEmote.text,callback:function(t){e.$set(e.selectedEmote,"text",e._n(t))},expression:"selectedEmote.text"}})],1),t("div",{staticClass:"row mt-4"},[t("div",{staticClass:"col-12"},[t("b-button",{attrs:{size:"sm",variant:"outline-warning"},on:{click:function(t){return e.save()}}},[t("i",{staticClass:"fa fa-save"}),e._v("\n              Save\n            ")]),t("b-button",{staticClass:"ml-3",attrs:{size:"sm",variant:"outline-danger"},on:{click:function(t){return e.deleteEmote()}}},[t("i",{staticClass:"fa fa-trash"}),e._v("\n              Delete\n            ")])],1)]),t("info-error-banner",{staticClass:"mt-3",attrs:{notification:e.notification,error:e.error},on:{"dismiss-error":function(t){e.error=""},"dismiss-notification":function(t){e.notification=""}}})],1),e.selectedEmote&&e.selectedEmote.emoteid&&e.npcs&&e.npcs.length>0?t("eq-window",{staticClass:"mt-5",attrs:{title:"Emote ID ("+e.selectedEmote.emoteid+") NPC(s) ("+e.npcs.length+")"}},[t("div",{staticStyle:{"max-height":"46vh","overflow-y":"scroll","overflow-x":"hidden"}},[t("table",{staticClass:"eq-table eq-highlight-rows",staticStyle:{display:"table","font-size":"14px"},attrs:{id:"npctable"}},[t("thead",{staticClass:"eq-table-floating-header"},[t("tr",[t("th",[e._v("\n                NPC\n              ")]),t("th",[e._v("\n                Zone(s)\n              ")])])]),t("tbody",e._l(e.npcs,(function(n,a){return t("tr",{key:n.id,attrs:{id:"npc-"+n.short_name}},[t("td",{staticStyle:{position:"relative"}},[t("npc-popover",{attrs:{npc:n}})],1),t("td",{staticStyle:{"vertical-align":"middle"}},[e._v("\n                "+e._s(e.getZonesByNpc(n).join(","))+"\n              ")])])})),0)])])]):e._e()],1):e._e()])])},i=[],s=(n("ac4d"),n("8a81"),n("5df3"),n("1c4c"),n("7f7f"),n("6b54"),n("96cf"),n("3b8d")),r=n("9a04"),o=n("75fc"),c=n("093e"),l=n("95ee"),u=n("02f6"),p=n("a7a1"),d=n("0d95"),h=n("cc79"),f=n("80b0"),m=n("e40e"),g=n("5afa"),v=n("935a"),_={0:"Say",1:"Emote",2:"Shout",3:"Message Close"},b={0:"Leave Combat",1:"Enter Combat",2:"On Death",3:"After Death",4:"Hailed",5:"Killed PC",6:"Killed NPC",7:"On Spawn",8:"On Despawn"},w=n("7dc0"),y=n("f501"),N=n("ae45"),C=n("01de"),E=n("fb61");function S(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=I(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,i=function(){};return{s:i,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,r=!0,o=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return r=e.done,e},e:function(e){o=!0,s=e},f:function(){try{r||null==n.return||n.return()}finally{if(o)throw s}}}}function I(e,t){if(e){if("string"==typeof e)return x(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?x(e,t):void 0}}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}var A=Object(r["a"])(p["NpcEmoteApi"],Object(o["a"])(d["SpireApi"].cfg())),k={name:"NpcEmotesEditor",components:{NpcPopover:E["a"],EqWindow:v["a"],InfoErrorBanner:g["a"],LoaderFakeProgress:h["a"],ContentArea:u["a"],EqAutoTable:l["a"],EqWindowSimple:c["a"],"v-runtime-template":function(){return n.e("chunk-2d2293ca").then(n.bind(null,"dd1e"))}},data:function(){return{rows:[],filterColumns:[],subSelectedId:-1,selectedEmote:{},error:"",notification:"",eventSelection:-1,typeSelection:-1,search:"",npcs:[],NPC_EMOTE_TYPES:_,NPC_EMOTE_EVENTS:b,lastSelectedTime:Date.now(),loading:!1}},watch:{$route:function(){console.log("route trigger"),this.reset(),this.init()}},methods:{getZonesByNpc:function(e){var t=[];if(e.spawnentries){var n,a=S(e.spawnentries);try{for(a.s();!(n=a.n()).done;){var i=n.value;i.spawngroup.spawn_2.zone=i.spawngroup.spawn_2.zone.toLowerCase(),t.includes(i.spawngroup.spawn_2.zone)||t.push(i.spawngroup.spawn_2.zone)}}catch(s){a.e(s)}finally{a.f()}}return t},loadNpcsByEmote:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,C["a"].listNpcsByEmoteId(t.emoteid,["NpcSpell.NpcSpellsEntries.SpellsNew","NpcFactions.NpcFactionEntries.FactionList","NpcFactions","NpcEmotes","Merchantlists.Items","Loottable.LoottableEntries.Lootdrop.LootdropEntries.Item","Spawnentries.Spawngroup.Spawn2"]);case 2:this.npcs=e.sent;case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),updateQueryStateDebounce:Object(N["debounce"])((function(){this.updateQueryState()}),600),getColumnWidth:function(e){return"event_"===e?"width: 130px;":"type"===e?"width: 140px;":""},reset:function(){this.search="",this.error="",this.notification="",this.eventSelection=-1,this.typeSelection=-1,this.subSelectedId=-1,this.npcs=[]},resetSelections:function(){this.subSelectedId=-1},updateQueryState:function(){var e={};-1!==this.subSelectedId&&(e.selectedId=this.subSelectedId),-1!==this.eventSelection&&(e.event=this.eventSelection),-1!==this.typeSelection&&(e.type=this.typeSelection),""!==this.search&&(e.search=this.search),this.$router.push({path:f["a"].NPC_EMOTES_EDIT,query:e}).catch((function(){}))},loadQueryState:function(){console.log("loading query state"),this.$route.query.selectedId>=0&&(this.subSelectedId=parseInt(this.$route.query.selectedId)),this.$route.query.event>=0&&(this.eventSelection=parseInt(this.$route.query.event)),this.$route.query.type>=0&&(this.typeSelection=parseInt(this.$route.query.type)),""!==this.$route.query.search&&(this.search=this.$route.query.search)},selectEmote:function(e){this.subSelectedId=e.id,this.updateQueryState()},isSubEditActive:function(){return this.subSelectedId>=0},isRowSelected:function(e){return e.id===this.subSelectedId},newEmote:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,n,a,i,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=0,n=S(this.rows);try{for(n.s();!(a=n.n()).done;)i=a.value,i.emoteid>t&&(t=i.emoteid)}catch(r){n.e(r)}finally{n.f()}return e.prev=3,e.next=6,A.createNpcEmote({npcEmote:{emoteid:t+1,event_:1,type:0,text:"You will not evade me!"}});case 6:s=e.sent,200===s.status&&s.data.id>0&&(this.notification="New emote created!",this.subSelectedId=s.data.id,this.rows=[],this.updateQueryState()),e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](3),e.t0.response.data.error&&(this.error=e.t0.response.data.error);case 13:case"end":return e.stop()}}),e,this,[[3,10]])})));function t(){return e.apply(this,arguments)}return t}(),save:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.updateNpcEmote({id:this.selectedEmote.id,npcEmote:this.selectedEmote});case 3:t=e.sent,200===t.status&&(this.notification="Emote data saved!"),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),e.t0.response.data.error&&(this.error=e.t0.response.data.error);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));function t(){return e.apply(this,arguments)}return t}(),deleteEmote:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!confirm("Are you sure you want to delete this emote ("+this.subSelectedId+")?")){e.next=12;break}return e.prev=1,e.next=4,A.deleteNpcEmote({id:this.selectedEmote.id});case 4:t=e.sent,200===t.status&&(this.notification="Emote deleted!",this.reset(),n=this.selectedEmote.id===this.rows[this.rows.length-1].id,n&&(this.subSelectedId=this.rows[this.rows.length-2].id),this.rows=[],this.updateQueryState()),e.next=12;break;case 8:e.prev=8,e.t0=e["catch"](1),console.log(e.t0),e.t0.response&&e.t0.response.data&&e.t0.response.data.error&&(this.error=e.t0.response.data.error);case 12:case"end":return e.stop()}}),e,this,[[1,8]])})));function t(){return e.apply(this,arguments)}return t}(),init:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,n,a,i,s,r,o,c,l=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=l.length>0&&void 0!==l[0]&&l[0],this.loading=!0,this.loadQueryState(),!(this.rows&&0===this.rows.length||t)){e.next=8;break}return e.next=6,this.getAllNpcEmotes();case 6:this.rows=e.sent,this.originalRows=JSON.parse(JSON.stringify(this.rows));case 8:if(setTimeout((function(){document.getElementById("emotes-table")&&new w["a"](document.getElementById("emotes-table"))}),100),this.subSelectedId>0){n=S(this.rows);try{for(n.s();!(a=n.n()).done;)i=a.value,i.id===this.subSelectedId&&(this.selectedEmote=JSON.parse(JSON.stringify(i)),this.loadNpcsByEmote(this.selectedEmote))}catch(u){n.e(u)}finally{n.f()}Object(y["b"])("emote-viewport","row-"+this.subSelectedId)}if(s=[],!(this.eventSelection>-1||this.typeSelection>-1||""!==this.search)){e.next=35;break}r=S(this.originalRows),e.prev=13,r.s();case 15:if((o=r.n()).done){e.next=26;break}if(c=o.value,!(this.eventSelection>-1&&c.event_!==this.eventSelection)){e.next=19;break}return e.abrupt("continue",24);case 19:if(!(this.typeSelection>-1&&c.type!==this.typeSelection)){e.next=21;break}return e.abrupt("continue",24);case 21:if(!this.search||""===this.search||!c.text||c.text.toLowerCase().includes(this.search.toLowerCase())||c.id.toString().includes(this.search)||c.emoteid.toString().includes(this.search)){e.next=23;break}return e.abrupt("continue",24);case 23:s.push(c);case 24:e.next=15;break;case 26:e.next=31;break;case 28:e.prev=28,e.t0=e["catch"](13),r.e(e.t0);case 31:return e.prev=31,r.f(),e.finish(31);case 34:s.length>0&&(this.rows=s);case 35:this.loading=!1;case 36:case"end":return e.stop()}}),e,this,[[13,28,31,34]])})));function t(){return e.apply(this,arguments)}return t}(),getAllNpcEmotes:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.loading=!0,t=(new m["a"]).limit(1e5),e.next=4,A.listNpcEmotes(t.get());case 4:if(n=e.sent,200!==n.status||!n.data){e.next=8;break}return this.loading=!1,e.abrupt("return",n.data);case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},created:function(){this.originalRows=[]},mounted:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},P=k,T=(n("31f9"),n("2877")),M=Object(T["a"])(P,a,i,!1,null,null,null);t["default"]=M.exports},cd1c:function(e,t,n){var a=n("e853");e.exports=function(e,t){return new(a(e))(t)}},cd97:function(e,t,n){"use strict";n("7f7f");var a=function(){var e=this,t=e._self._c;return e.item?t("div",[t("div",{staticStyle:{display:"inline-block"},attrs:{id:e.item.id+"-"+e.popoverId+"-popover"}},[t("span",{class:"item-"+e.item.icon+("regular"===this.size?"":"-sm"),staticStyle:{display:"inline-block"},attrs:{title:e.item.icon}}),t("span",{class:"sm"===e.size?"ml-2":"ml-3",style:"position:relative;"+("regular"===this.size?"top: -15px":"")},[e._v(e._s(e.item.name)+" "+e._s(e.annotation)+" "),e._t("default")],2)]),t("b-popover",{staticStyle:{width:"500px !important"},attrs:{target:e.item.id+"-"+e.popoverId+"-popover","custom-class":"no-bg",placement:"right",delay:"0",boundary:"viewport","no-fade":!0,triggers:"hover focus"}},[t("eq-window",{staticStyle:{width:"auto",height:"100%"}},[t("eq-item-card-preview",{attrs:{"item-data":e.item,"show-related-data":e.showRelatedData}})],1)],1)],1):e._e()},i=[],s=(n("6b54"),n("935a")),r=(n("5201"),n("ec53")),o={name:"ItemPopover",props:{item:Object,size:{type:String,required:!1,default:"sm"},annotation:{type:String,required:!1,default:""},showRelatedData:{type:Boolean,required:!1,default:!1}},data:function(){return{popoverId:Math.random().toString(16).slice(2),itemEffectInfo:[]}},components:{EqItemCardPreview:r["default"],EqWindow:s["a"]}},c=o,l=n("2877"),u=Object(l["a"])(c,a,i,!1,null,"423115ce",null);t["a"]=u.exports},dd40:function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},e853:function(e,t,n){var a=n("d3f4"),i=n("1169"),s=n("2b4c")("species");e.exports=function(e){var t;return i(e)&&(t=e.constructor,"function"!=typeof t||t!==Array&&!i(t.prototype)||(t=void 0),a(t)&&(t=t[s],null===t&&(t=void 0))),void 0===t?Array:t}},fb61:function(e,t,n){"use strict";n("7f7f");var a=function(){var e=this,t=e._self._c;return e.npc?t("div",[t("div",{staticStyle:{display:"inline-block",position:"relative"},attrs:{id:e.npc.id+"-"+e.popoverId+"-popover"}},[e.showImage?t("div",{staticClass:"d-inline-block ml-3 text-center",staticStyle:{width:"60px",height:"50px"}},[t("span",{class:"race-models-ctn-"+e.getRaceImage(e.npc)+"-sm",staticStyle:{top:"50%",filter:"drop-shadow(10px 5px 5px #000)"}})]):e._e(),e.showLabel?t("span",{class:(e.showImage?"ml-3":"")+" d-inline-block",style:e.showImage?"top: 30%; position: absolute; min-width: 300px":""},[e._v("\n      "+e._s(e.getCleanName(e.npc.name))+" "+e._s(e.formatLastName(e.npc.lastname))+" "+e._s(e.additionalLabel?e.additionalLabel:"")+"\n    ")]):e._e(),e._t("default")],2),e.popoverEnabled?t("b-popover",{attrs:{target:e.npc.id+"-"+e.popoverId+"-popover","custom-class":"no-bg",placement:"right",delay:"0",boundary:"viewport","no-fade":!0,triggers:"hover focus"}},[t("eq-window",{staticStyle:{width:"650px",height:"100%"}},[t("eq-npc-card-preview",{attrs:{"limit-entries":e.limitEntries,"no-stats":e.noStats,npc:e.npc}})],1)],1):e._e()],1):e._e()},i=[],s=(n("6b54"),n("c5f6"),n("935a")),r=n("a006"),o=n("01de"),c={name:"npcPopover",props:{npc:Object,size:{type:String,required:!1,default:"sm"},additionalLabel:{type:String,required:!1},showImage:{type:Boolean,required:!1,default:!0},noStats:{type:Boolean,required:!1,default:!1},showLastName:{type:Boolean,required:!1,default:!0},limitEntries:{type:Number,required:!1,default:20},showLabel:{type:Boolean,required:!1,default:!0},popoverEnabled:{type:Boolean,required:!1,default:!0}},watch:{npc:{deep:!0,handler:function(){}}},mounted:function(){console.log("[popover] no limit",this.noLimitEntries)},methods:{formatLastName:function(e){return this.showLastName&&e&&e.length>0?" (".concat(e,")"):""},getRaceImage:function(e){return o["a"].getRaceImage(e)},getCleanName:function(e){return o["a"].getCleanName(e)}},data:function(){return{popoverId:Math.random().toString(16).slice(2),npcEffectInfo:[],sideLoadednpcData:{}}},components:{EqNpcCardPreview:r["a"],EqWindow:s["a"]}},l=c,u=n("2877"),p=Object(u["a"])(l,a,i,!1,null,"0d2146b0",null);t["a"]=p.exports}}]);