(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5fe21dc6"],{"44ca":function(e,t,o){"use strict";o.r(t);o("386d");var s=function(){var e=this,t=e._self._c;return t("div",[t("eq-window",{attrs:{title:"Log Settings"}},[t("div",{staticClass:"row justify-content-center",staticStyle:{position:"absolute",top:"0","z-index":"9999999",width:"100%"}},[t("div",{staticClass:"col-6"},[t("info-error-banner",{staticClass:"mt-3",staticStyle:{width:"100%"},attrs:{slim:!0,notification:e.notification,error:e.error},on:{"dismiss-error":function(t){e.error=""},"dismiss-notification":function(t){e.notification=""}}})],1)]),t("div",{staticStyle:{"max-height":"80vh","overflow-y":"scroll","overflow-x":"hidden"}},[t("div",{staticClass:"row mb-3"},[t("div",{staticClass:"col-11"},[t("b-form-input",{staticClass:"form-control list-search",attrs:{type:"text",placeholder:"Search log settings...",autofocus:""},on:{keyup:function(t){return e.updateQueryState()}},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),t("div",{staticClass:"col-1"},[t("button",{staticClass:"btn m-0",attrs:{title:"Reset"},on:{click:function(t){e.search="",e.updateQueryState()}}},[t("i",{staticClass:"fa fa-refresh"}),e._v(" Reset\n          ")])])]),t("table",{staticClass:"eq-table eq-highlight-rows bordered log-settings minified-inputs"},[t("thead",{staticClass:"eq-table-floating-header"},[t("tr",[t("th",{staticClass:"text-right",staticStyle:{width:"200px"}},[e._v("(ID) Category")]),t("th",{staticStyle:{width:"230px"}},[e._v("Console Log Level")]),t("th",{staticStyle:{width:"230px"}},[e._v("File Log Level")]),t("th",{staticStyle:{width:"230px"}},[e._v("GM (In-Game) Log Level")]),t("th",{staticStyle:{width:"230px"}},[e._v("Discord Log Level")]),t("th",[t("router-link",{staticStyle:{color:"#8aa3ff"},attrs:{to:e.ROUTE.ADMIN_DISCORD_WEBHOOK_SETTINGS}},[e._v("\n              Discord Webhook\n              "),t("i",{staticClass:"fa fa-arrow-right"})])],1)])]),t("tbody",e._l(e.filteredSettings(e.settings),(function(o){return t("tr",{key:o.log_category_id},[t("td",{staticClass:"text-right"},[e._v("("+e._s(o.log_category_id)+") "+e._s(o.log_category_description))]),t("td",[t("div",{staticClass:"d-inline-block mr-3"},[t("eq-checkbox",{staticClass:"d-inline-block",attrs:{label:"Off","fade-when-not-true":!0,"true-value":0,"false-value":0},on:{change:function(t){return e.save(o)}},model:{value:o.log_to_console,callback:function(t){e.$set(o,"log_to_console",t)},expression:"s.log_to_console"}})],1),t("div",{staticClass:"d-inline-block mr-3"},[t("eq-checkbox",{staticClass:"d-inline-block",attrs:{label:"Normal","fade-when-not-true":!0,"true-value":1,"false-value":0},on:{change:function(t){return e.save(o)}},model:{value:o.log_to_console,callback:function(t){e.$set(o,"log_to_console",t)},expression:"s.log_to_console"}})],1),t("div",{staticClass:"d-inline-block"},[t("eq-checkbox",{staticClass:"d-inline-block",attrs:{label:"Detail","fade-when-not-true":!0,"true-value":3,"false-value":0},on:{change:function(t){return e.save(o)}},model:{value:o.log_to_console,callback:function(t){e.$set(o,"log_to_console",t)},expression:"s.log_to_console"}})],1)]),t("td",[t("div",{staticClass:"d-inline-block mr-3"},[t("eq-checkbox",{staticClass:"d-inline-block",attrs:{label:"Off","fade-when-not-true":!0,"true-value":0,"false-value":0},on:{change:function(t){return e.save(o)}},model:{value:o.log_to_file,callback:function(t){e.$set(o,"log_to_file",t)},expression:"s.log_to_file"}})],1),t("div",{staticClass:"d-inline-block mr-3"},[t("eq-checkbox",{staticClass:"d-inline-block",attrs:{label:"Normal","fade-when-not-true":!0,"true-value":1,"false-value":0},on:{change:function(t){return e.save(o)}},model:{value:o.log_to_file,callback:function(t){e.$set(o,"log_to_file",t)},expression:"s.log_to_file"}})],1),t("div",{staticClass:"d-inline-block"},[t("eq-checkbox",{staticClass:"d-inline-block",attrs:{label:"Detail","fade-when-not-true":!0,"true-value":3,"false-value":0},on:{change:function(t){return e.save(o)}},model:{value:o.log_to_file,callback:function(t){e.$set(o,"log_to_file",t)},expression:"s.log_to_file"}})],1)]),t("td",[t("div",{staticClass:"d-inline-block mr-3"},[t("eq-checkbox",{staticClass:"d-inline-block",attrs:{label:"Off","fade-when-not-true":!0,"true-value":0,"false-value":0},on:{change:function(t){return e.save(o)}},model:{value:o.log_to_gmsay,callback:function(t){e.$set(o,"log_to_gmsay",t)},expression:"s.log_to_gmsay"}})],1),t("div",{staticClass:"d-inline-block mr-3"},[t("eq-checkbox",{staticClass:"d-inline-block",attrs:{label:"Normal","fade-when-not-true":!0,"true-value":1,"false-value":0},on:{change:function(t){return e.save(o)}},model:{value:o.log_to_gmsay,callback:function(t){e.$set(o,"log_to_gmsay",t)},expression:"s.log_to_gmsay"}})],1),t("div",{staticClass:"d-inline-block"},[t("eq-checkbox",{staticClass:"d-inline-block",attrs:{label:"Detail","fade-when-not-true":!0,"true-value":3,"false-value":0},on:{change:function(t){return e.save(o)}},model:{value:o.log_to_gmsay,callback:function(t){e.$set(o,"log_to_gmsay",t)},expression:"s.log_to_gmsay"}})],1)]),t("td",[t("div",{staticClass:"d-inline-block mr-3"},[t("eq-checkbox",{staticClass:"d-inline-block",attrs:{label:"Off","fade-when-not-true":!0,"true-value":0,"false-value":0},on:{change:function(t){return e.save(o)}},model:{value:o.log_to_discord,callback:function(t){e.$set(o,"log_to_discord",t)},expression:"s.log_to_discord"}})],1),t("div",{staticClass:"d-inline-block mr-3"},[t("eq-checkbox",{staticClass:"d-inline-block",attrs:{label:"Normal","fade-when-not-true":!0,"true-value":1,"false-value":0},on:{change:function(t){return e.save(o)}},model:{value:o.log_to_discord,callback:function(t){e.$set(o,"log_to_discord",t)},expression:"s.log_to_discord"}})],1),t("div",{staticClass:"d-inline-block"},[t("eq-checkbox",{staticClass:"d-inline-block",attrs:{label:"Detail","fade-when-not-true":!0,"true-value":3,"false-value":0},on:{change:function(t){return e.save(o)}},model:{value:o.log_to_discord,callback:function(t){e.$set(o,"log_to_discord",t)},expression:"s.log_to_discord"}})],1)]),t("td",{style:o.log_to_discord>0&&0===o.discord_webhook_id?"color: red":"",attrs:{title:o.log_to_discord>0&&0===o.discord_webhook_id?"Webhook needs to be assigned":""}},[t("select",{directives:[{name:"model",rawName:"v-model",value:o.discord_webhook_id,expression:"s.discord_webhook_id"}],staticClass:"form-control m-0",style:o.log_to_discord>0&&0===o.discord_webhook_id?"border-color: red":"",attrs:{title:o.log_to_discord>0&&0===o.discord_webhook_id?"Webhook needs to be assigned":""},on:{change:[function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(o,"discord_webhook_id",t.target.multiple?s:s[0])},function(t){return e.save(o)}]}},[t("option",{domProps:{value:0}},[e._v("--- None ---")]),e._l(e.discordWebhooks,(function(o){return t("option",{key:o.id,domProps:{value:o.id}},[e._v("("+e._s(o.id)+") "+e._s(o.webhook_name)+"\n              ")])}))],2)])])})),0)])]),t("eq-debug",{attrs:{data:e.settings}})],1)],1)},a=[],i=(o("6762"),o("2fdb"),o("9a04")),n=o("75fc"),r=(o("96cf"),o("3b8d")),l=o("935a"),c=o("0d95"),d=o("7018"),u=o("46f9"),f=o("dd86"),_=o("5afa"),h=o("3022"),g=o.n(h),b=o("dadc"),v=o("80b0"),p={name:"LogSettings",components:{InfoErrorBanner:_["a"],EqDebug:f["a"],EqCheckbox:u["a"],EqWindow:l["a"]},data:function(){return{search:"",ROUTE:v["a"],settings:[],discordWebhooks:[],notification:"",error:""}},mounted:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.loadQueryState(),e.prev=1,e.next=4,Object(i["a"])(d["a"],Object(n["a"])(c["SpireApi"].cfg())).listLogsysCategories();case 4:return t=e.sent,200===t.status&&(this.settings=t.data),e.next=8,Object(i["a"])(b["a"],Object(n["a"])(c["SpireApi"].cfg())).listDiscordWebhooks();case 8:t=e.sent,200===t.status&&(this.discordWebhooks=t.data),e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](1),e.t0.response&&e.t0.response.data&&e.t0.response.data.error&&(this.error=e.t0.response.data.error);case 15:case"end":return e.stop()}}),e,this,[[1,12]])})));function t(){return e.apply(this,arguments)}return t}(),methods:{filteredSettings:function(e){var t=this;return e.filter((function(e){return t.search&&t.search.length>0?e.log_category_description.toLowerCase().includes(t.search.toLowerCase()):e}))},updateQueryState:function(){var e={};""!==this.search&&(e.search=this.search),this.$router.push({path:v["a"].ADMIN_LOG_SETTINGS,query:e}).catch((function(){}))},loadQueryState:function(){this.$route.query.search&&this.$route.query.search.length>0&&(this.search=this.$route.query.search)},save:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var o,s,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(t.log_to_discord>0&&0===t.discord_webhook_id)){e.next=3;break}return this.error="Discord Webhook needs to be assigned for this log category [".concat(t.log_category_description,"] to work!"),e.abrupt("return");case 3:return e.prev=3,e.next=6,Object(i["a"])(d["a"],Object(n["a"])(c["SpireApi"].cfg())).updateLogsysCategory({id:t.log_category_id,logsysCategory:t});case 6:if(o=e.sent,200!==o.status){e.next=14;break}return this.notification="",setTimeout((function(){a.notification=g.a.format("Settings updated for [%s] (%s)!",t.log_category_description,t.log_category_id)}),1),e.next=12,c["SpireApi"].v1().post("eqemuserver/reload/logs");case 12:s=e.sent,200===s.status&&setTimeout((function(){a.notification="Server logs reloaded in-game!"}),1e3);case 14:e.next=19;break;case 16:e.prev=16,e.t0=e["catch"](3),e.t0.response&&e.t0.response.data&&e.t0.response.data.error&&(this.error=e.t0.response.data.error);case 19:case"end":return e.stop()}}),e,this,[[3,16]])})));function t(t){return e.apply(this,arguments)}return t}()}},k=p,m=(o("d52e"),o("2877")),y=Object(m["a"])(k,s,a,!1,null,"53087970",null);t["default"]=y.exports},7030:function(e,t,o){},d52e:function(e,t,o){"use strict";o("7030")}}]);