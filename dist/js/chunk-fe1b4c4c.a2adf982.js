(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-fe1b4c4c","chunk-38c26661"],{"01de":function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));n("ac4d"),n("8a81"),n("5df3"),n("1c4c"),n("7f7f"),n("6b54"),n("a481"),n("7514"),n("ac6a");var a=n("9a04"),i=n("75fc"),r=(n("96cf"),n("28a5"),n("6762"),n("2fdb"),n("d225")),s=n("b0b4"),c=n("9ab4"),o={SUMMON:1,ENRAGE:2,RAMPAGE:3,AREA_RAMPAGE:4,FLURRY:5,TRIPLE:6,QUAD:7,INNATE_DW:8,BANE:9,MAGICAL:10,RANGED_ATK:11,UNSLOWABLE:12,UNMEZABLE:13,UNCHARMABLE:14,UNSTUNABLE:15,UNSNAREABLE:16,UNFEARABLE:17,UNDISPELLABLE:18,IMMUNE_MELEE:19,IMMUNE_MAGIC:20,IMMUNE_FLEEING:21,IMMUNE_MELEE_EXCEPT_BANE:22,IMMUNE_MELEE_NONMAGICAL:23,IMMUNE_AGGRO:24,IMMUNE_AGGRO_ON:25,IMMUNE_CASTING_FROM_RANGE:26,IMMUNE_FEIGN_DEATH:27,IMMUNE_TAUNT:28,NPC_TUNNELVISION:29,NPC_NO_BUFFHEAL_FRIENDS:30,IMMUNE_PACIFY:31,LEASH:32,TETHER:33,DESTRUCTIBLE_OBJECT:34,NO_HARM_FROM_CLIENT:35,ALWAYS_FLEE:36,FLEE_PERCENT:37,ALLOW_BENEFICIAL:38,DISABLE_MELEE:39,NPC_CHASE_DISTANCE:40,ALLOW_TO_TANK:41,IGNORE_ROOT_AGGRO_RULES:42,CASTING_RESIST_DIFF:43,COUNTER_AVOID_DAMAGE:44,PROX_AGGRO:45,IMMUNE_RANGED_ATTACKS:46,IMMUNE_DAMAGE_CLIENT:47,IMMUNE_DAMAGE_NPC:48,IMMUNE_AGGRO_CLIENT:49,IMMUNE_AGGRO_NPC:50,MODIFY_AVOID_DAMAGE:51,IMMUNE_FADING_MEMORIES:52,MAX_SPECIAL_ATTACK:53},l=n("a7a1"),u=n("0d95"),d=n("e40e");function h(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=p(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,i=function(){};return{s:i,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){c=!0,r=e},f:function(){try{s||null==n.return||n.return()}finally{if(c)throw r}}}}function p(e,t){if(e){if("string"==typeof e)return f(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}var m=function(){function e(){Object(r["a"])(this,e)}return Object(s["a"])(e,null,[{key:"getCleanName",value:function(e){return e=e.replaceAll("_"," "),e=e.replaceAll("#"," "),e}},{key:"getRaceImage",value:function(e){var t=e.texture,n=e.helmtexture;return this.isPlayableRace(e.race)&&(n>3&&(n=0),(t>16||t>3&&t<10)&&(t=0)),e.race+"-"+e.gender+"-"+t+"-"+n}},{key:"isPlayableRace",value:function(e){return[1,2,3,4,5,6,7,8,9,10,11,12,128,130,330,522].includes(e)}},{key:"specialAbilitiesToHuman",value:function(e){var t,n=[],a=h(e.split("^"));try{for(a.s();!(t=a.n()).done;){var i=t.value,r=i.split(","),s=r[0]?parseInt(r[0]):0,c=r[1]?parseInt(r[1]):0;s>0&&c&&(s===o.SUMMON&&n.push("Summon"+" (".concat(s,")")),s===o.ENRAGE&&n.push("Enrage "+" (".concat(s,")")),s===o.AREA_RAMPAGE&&n.push("Area Rampage "+" (".concat(s,")")),s===o.FLURRY&&n.push("Flurry "+" (".concat(s,")")),s===o.TRIPLE&&n.push("Triple "+" (".concat(s,")")),s===o.QUAD&&n.push("Quad "+" (".concat(s,")")),s===o.INNATE_DW&&n.push("Innate DW "+" (".concat(s,")")),s===o.BANE&&n.push("Bane "+" (".concat(s,")")),s===o.MAGICAL&&n.push("Magical "+" (".concat(s,")")),s===o.RANGED_ATK&&n.push("Ranged Attack "+" (".concat(s,")")),s===o.UNSLOWABLE&&n.push("Unslowable "+" (".concat(s,")")),s===o.UNMEZABLE&&n.push("Unmezable "+" (".concat(s,")")),s===o.UNCHARMABLE&&n.push("Uncharmable "+" (".concat(s,")")),s===o.UNSTUNABLE&&n.push("Unstunable "+" (".concat(s,")")),s===o.UNSNAREABLE&&n.push("Unsnareable "+" (".concat(s,")")),s===o.UNFEARABLE&&n.push("Unfearable "+" (".concat(s,")")),s===o.UNDISPELLABLE&&n.push("Undispellable "+" (".concat(s,")")),s===o.IMMUNE_MELEE&&n.push("Immune to Melee "+" (".concat(s,")")),s===o.IMMUNE_MAGIC&&n.push("Immune to Magic "+" (".concat(s,")")),s===o.IMMUNE_FLEEING&&n.push("Immune to Fleeing "+" (".concat(s,")")),s===o.IMMUNE_MELEE_EXCEPT_BANE&&n.push("Immune to Melee Except Bane "+" (".concat(s,")")),s===o.IMMUNE_MELEE_NONMAGICAL&&n.push("Immune to Melee Non-Magical "+" (".concat(s,")")),s===o.IMMUNE_AGGRO&&n.push("Immune to Aggro "+" (".concat(s,")")),s===o.IMMUNE_AGGRO_ON&&n.push("Immune to Aggro On "+" (".concat(s,")")),s===o.IMMUNE_CASTING_FROM_RANGE&&n.push("Immune to Casting from Range "+" (".concat(s,")")),s===o.IMMUNE_FEIGN_DEATH&&n.push("Immune to Feign Death "+" (".concat(s,")")),s===o.IMMUNE_TAUNT&&n.push("Immune to Taunt "+" (".concat(s,")")),s===o.NPC_TUNNELVISION&&n.push("NPC Tunnelvision "+" (".concat(s,")")),s===o.NPC_NO_BUFFHEAL_FRIENDS&&n.push("NPC doesn't buff or heal other NPC's "+" (".concat(s,")")),s===o.IMMUNE_PACIFY&&n.push("Immune to Pacify "+" (".concat(s,")")),s===o.LEASH&&n.push("Immune to Leash "+" (".concat(s,")")),s===o.TETHER&&n.push("Immune to Tether "+" (".concat(s,")")),s===o.DESTRUCTIBLE_OBJECT&&n.push("Destructible Object "+" (".concat(s,")")),s===o.NO_HARM_FROM_CLIENT&&n.push("Immune to Harm from Clients "+" (".concat(s,")")),s===o.ALWAYS_FLEE&&n.push("Always flees "+" (".concat(s,")")),s===o.FLEE_PERCENT&&n.push("Flees at percent X "+" (".concat(s,")")),s===o.ALLOW_BENEFICIAL&&n.push("Allow Beneficial "+" (".concat(s,")")),s===o.DISABLE_MELEE&&n.push("Disable Melee "+" (".concat(s,")")),s===o.NPC_CHASE_DISTANCE&&n.push("NPC Chase Distances "+" (".concat(s,")")),s===o.ALLOW_TO_TANK&&n.push("Allow to tank "+" (".concat(s,")")),s===o.IGNORE_ROOT_AGGRO_RULES&&n.push("Ignore root aggro rules "+" (".concat(s,")")),s===o.CASTING_RESIST_DIFF&&n.push("Casting resist diff "+" (".concat(s,")")),s===o.COUNTER_AVOID_DAMAGE&&n.push("Counter avoid damage "+" (".concat(s,")")),s===o.PROX_AGGRO&&n.push("Proximity Aggro "+" (".concat(s,")")),s===o.IMMUNE_RANGED_ATTACKS&&n.push("Immune to Ranged Attacks "+" (".concat(s,")")),s===o.IMMUNE_DAMAGE_CLIENT&&n.push("Immune to Damage from Clients "+" (".concat(s,")")),s===o.IMMUNE_DAMAGE_NPC&&n.push("Immune to Damage from NPCs "+" (".concat(s,")")),s===o.IMMUNE_AGGRO_CLIENT&&n.push("Immune to Aggro from Clients "+" (".concat(s,")")),s===o.IMMUNE_AGGRO_NPC&&n.push("Immune to Aggro from NPCs "+" (".concat(s,")")),s===o.MODIFY_AVOID_DAMAGE&&n.push("Modify avoid damage "+" (".concat(s,")")),s===o.IMMUNE_FADING_MEMORIES&&n.push("Immune to fading memories "+" (".concat(s,")")))}}catch(l){a.e(l)}finally{a.f()}return n}},{key:"updateNpc",value:function(e,t){return Object(c["d"])(this,void 0,void 0,regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=Object(a["a"])(l["NpcTypeApi"],Object(i["a"])(u["SpireApi"].cfg())),n.next=3,r.updateNpcType({id:e,npcType:t});case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}}),n)})))}},{key:"listNpcsByName",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Object(c["d"])(this,void 0,void 0,regeneratorRuntime.mark((function n(){var r,s,c,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=Object(a["a"])(l["NpcTypeApi"],Object(i["a"])(u["SpireApi"].cfg())),s=new d["a"],c=[],t.includes("all")?c=[].concat(Object(i["a"])(c),["NpcSpell.NpcSpellsEntries.SpellsNew","NpcFactions.NpcFactionEntries.FactionList","NpcFactions","NpcEmotes","Merchantlists.Items","Loottable.LoottableEntries.Lootdrop.LootdropEntries.Item"]):t.length>0&&(c=[].concat(Object(i["a"])(c),Object(i["a"])(t))),s.where("name","like",e),s.whereOr("lastname","like",e),s.includes(c),n.next=9,r.listNpcTypes(s.get());case 9:if(o=n.sent,200!==o.status){n.next=12;break}return n.abrupt("return",o.data);case 12:case"end":return n.stop()}}),n)})))}},{key:"getBaseNpcRelationships",value:function(){return["NpcSpell.NpcSpellsEntries.SpellsNew","NpcFactions.NpcFactionEntries.FactionList","NpcFactions","NpcEmotes","Merchantlists.Items","Loottable.LoottableEntries.Lootdrop.LootdropEntries.Item"]}},{key:"listNpcsByEmoteId",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Object(c["d"])(this,void 0,void 0,regeneratorRuntime.mark((function n(){var r,s,c,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=Object(a["a"])(l["NpcTypeApi"],Object(i["a"])(u["SpireApi"].cfg())),s=new d["a"],c=[],t.includes("all")?c=[].concat(Object(i["a"])(c),Object(i["a"])(this.getBaseNpcRelationships())):t.length>0&&(c=[].concat(Object(i["a"])(c),Object(i["a"])(t))),s.where("emoteid","=",e),s.includes(c),n.next=8,r.listNpcTypes(s.get());case 8:if(o=n.sent,200!==o.status){n.next=11;break}return n.abrupt("return",o.data);case 11:case"end":return n.stop()}}),n,this)})))}},{key:"listNpcsByNpcSpellsId",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Object(c["d"])(this,void 0,void 0,regeneratorRuntime.mark((function n(){var r,s,c,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=Object(a["a"])(l["NpcTypeApi"],Object(i["a"])(u["SpireApi"].cfg())),s=new d["a"],c=[],t.includes("all")?c=[].concat(Object(i["a"])(c),Object(i["a"])(this.getBaseNpcRelationships())):t.length>0&&(c=[].concat(Object(i["a"])(c),Object(i["a"])(t))),s.where("npc_spells_id","=",e),s.includes(c),s.limit(100),n.next=9,r.listNpcTypes(s.get());case 9:if(o=n.sent,200!==o.status){n.next=12;break}return n.abrupt("return",o.data);case 12:case"end":return n.stop()}}),n,this)})))}},{key:"getNpc",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Object(c["d"])(this,void 0,void 0,regeneratorRuntime.mark((function n(){var r,s,c,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!this.npc[e]){n.next=2;break}return n.abrupt("return",this.npc[e]);case 2:return r=Object(a["a"])(l["NpcTypeApi"],Object(i["a"])(u["SpireApi"].cfg())),s=new d["a"],c=[],t.includes("all")?c=[].concat(Object(i["a"])(c),["NpcSpell.NpcSpellsEntries.SpellsNew","NpcFactions.NpcFactionEntries.FactionList","NpcFactions","NpcEmotes","Merchantlists.Items","Loottable.LoottableEntries.Lootdrop.LootdropEntries.Item"]):t.length>0&&(c=[].concat(Object(i["a"])(c),Object(i["a"])(t))),s.includes(c),n.next=9,r.getNpcType({id:e},{query:s.get()});case 9:if(o=n.sent,200!==o.status){n.next=13;break}return this.npc[e]=o.data,n.abrupt("return",o.data);case 13:case"end":return n.stop()}}),n,this)})))}},{key:"getNpcsBulk",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Object(c["d"])(this,void 0,void 0,regeneratorRuntime.mark((function n(){var r,s,c,o,p,f,m;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(0!==e.length){n.next=2;break}return n.abrupt("return",[]);case 2:return r=Object(a["a"])(l["NpcTypeApi"],Object(i["a"])(u["SpireApi"].cfg())),s=new d["a"],c=[],t.includes("all")?c=[].concat(Object(i["a"])(c),["NpcSpell.NpcSpellsEntries.SpellsNew","NpcFactions.NpcFactionEntries.FactionList","NpcFactions","NpcEmotes","Merchantlists.Items","Loottable.LoottableEntries.Lootdrop.LootdropEntries.Item"]):t.length>0&&(c=[].concat(Object(i["a"])(c),Object(i["a"])(t))),s.includes(c),n.next=9,r.getNpcTypesBulk({body:{ids:e}},{query:s.get()});case 9:if(o=n.sent,200!==o.status){n.next=14;break}p=h(o.data);try{for(p.s();!(f=p.n()).done;)m=f.value,this.npc[m.id]=m}catch(v){p.e(v)}finally{p.f()}return n.abrupt("return",o.data);case 14:case"end":return n.stop()}}),n,this)})))}},{key:"getNpcsByZone",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{relations:[],uniqueEntries:!0};return Object(c["d"])(this,void 0,void 0,regeneratorRuntime.mark((function r(){var s,c,o,p,f,m,v,g,b,y,_;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return s=Object(a["a"])(l["Spawn2Api"],Object(i["a"])(u["SpireApi"].cfg())),c=new d["a"],c.where("zone","=",e),-1===t?c.where("version",">=",t):c.where("version","=",t),o=["Spawnentries.NpcType"],n.relations.includes("all")?o=[].concat(Object(i["a"])(o),["Spawnentries.NpcType.NpcSpell.NpcSpellsEntries.SpellsNew","Spawnentries.NpcType.NpcFactions.NpcFactionEntries.FactionList","Spawnentries.NpcType.NpcFactions","Spawnentries.NpcType.NpcEmotes","Spawnentries.NpcType.Merchantlists.Items","Spawnentries.NpcType.Loottable.LoottableEntries.Lootdrop.LootdropEntries.Item"]):n.relations.length>0&&(o=[].concat(Object(i["a"])(o),Object(i["a"])(n.relations))),c.limit(1e6),c.includes(o),r.next=10,s.listSpawn2s(c.get());case 10:if(p=r.sent,200!==p.status||!p.data){r.next=46;break}f=[],m=h(p.data),r.prev=14,m.s();case 16:if((v=m.n()).done){r.next=37;break}if(g=v.value,!g.spawnentries){r.next=35;break}b=h(g.spawnentries),r.prev=20,_=regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=y.value,t.npc_type&&(n.uniqueEntries?(a=f.find((function(e){return e.id===t.npc_type.id})),a||f.push(t.npc_type)):f.push(t.npc_type));case 2:case"end":return e.stop()}}),e)})),b.s();case 23:if((y=b.n()).done){r.next=27;break}return r.delegateYield(_(),"t0",25);case 25:r.next=23;break;case 27:r.next=32;break;case 29:r.prev=29,r.t1=r["catch"](20),b.e(r.t1);case 32:return r.prev=32,b.f(),r.finish(32);case 35:r.next=16;break;case 37:r.next=42;break;case 39:r.prev=39,r.t2=r["catch"](14),m.e(r.t2);case 42:return r.prev=42,m.f(),r.finish(42);case 45:return r.abrupt("return",f);case 46:return r.abrupt("return",[]);case 47:case"end":return r.stop()}}),r,null,[[14,39,42,45],[20,29,32,35]])})))}},{key:"getFieldDescriptions",value:function(){return{id:"ID number of the NPC",name:"First Name of the NPC",lastname:"Last Name of the NPC",level:"Level of the NPC",race:"Race of the NPC",class:"Class of the NPC",bodytype:"Bodytype of the NPC",hp:"Maximum Hitpoints of the NPC",mana:"Maximum Mana of the NPC",gender:"Gender of the NPC",texture:"Texture of the NPC",helmtexture:"Helmet Texture of the NPC",herosforgemodel:"Heroes Forge Model used on the NPC",size:"Numerical size of the NPC",hp_regen_rate:"Hitpoint Regeneration Rate of the NPC",hp_regen_per_second:"Hitpoint Regeneration Rate (per second) of the NPC",mana_regen_rate:"Mana Regen Rate of the NPC",loottable_id:"Loottable Id of the NPC",merchant_id:"Merchant Id of the NPC",alt_currency_id:"Alt Currency Id used with the NPC",npc_spells_effects_id:"Npc Spells Effects Id used with the NPC",npc_faction_id:"Npc Faction Id of the NPC",adventure_template_id:"Adventure Template Id of the NPC",trap_template:"Trap Template of the NPC",mindmg:"Minimum damge of the NPC",maxdmg:"Maximum damage of the NPC",attack_count:"Attack Count of the NPC",npcspecialattks:"Special Attacks used by the NPC",special_abilities:"Special Abilities used by the NPC",aggroradius:"Aggro radius of the NPC",assistradius:"Assist radius of the NPC",face:"Face of the NPC",luclin_hairstyle:"Luclin Hairstyle used with the NPC",luclin_haircolor:"Luclin Haircolor used with the NPC",luclin_eyecolor:"Luclin Eyecolor used with the NPC",luclin_eyecolor_2:"Luclin Eyecolor 2 used with the NPC",luclin_beardcolor:"Luclin Beardcolor used with the NPC",luclin_beard:"Luclin Beard used with the NPC",drakkin_heritage:"Drakkin Heritage used with the NPC",drakkin_tattoo:"Drakkin Tattoo used with the NPC",drakkin_details:"Drakkin Details used with the NPC",armortint_id:"Armor tint Id used with the NPC",armortint_red:"Armor tint Red used with the NPC",armortint_green:"Armor tint Green used with the NPC",armortint_blue:"Armor tint Blue used with the NPC",d_melee_texture_1:"D Melee Texture 1 used with the NPC",d_melee_texture_2:"D Melee Texture 2 used with the NPC",ammo_idfile:"Ammo Id file used for the NPC",prim_melee_type:"Primary Melee Type of the NPC",sec_melee_type:"Secondary Melee Type of the NPC",ranged_type:"Ranged Type of the NPC",runspeed:"Runspeed of the NPC",mr:"Magic Resistance of the NPC",cr:"Cold Resistance of the NPC",dr:"Disease Resistance of the NPC",fr:"Fire Resistance of the NPC",pr:"Poison Resistance of the NPC",corrup:"Corruption Resistanceance of the NPC",ph_r:"",see_invis:"NPC Sees through invisibility",see_invis_undead:"NPC Sees through invisibility vs Undead",qglobal:"Qglobal enabled for the NPC",ac:"Armor Class of the NPC",npc_aggro:"NPC will aggro other NPCs",spawn_limit:"Spawn Limit of the NPC",attack_speed:"Attack Speed of the NPC",attack_delay:"Attack Delay of the NPC",findable:"NPC can be located with Find",str:"Strength of the NPC",sta:"Stamina of the NPC",dex:"Dexterity of the NPC",agi:"Agility of the NPC",_int:"Intelligence of the NPC",wis:"Wisdom of the NPC",cha:"Charisma of the NPC",see_hide:"NPC can see through hide",see_improved_hide:"NPC can see through improved hide",trackable:"NPC is trackable",isbot:"NPC is a bot",exclude:"",atk:"Attack rating of the NPC",accuracy:"Accuracy rating of the NPC",avoidance:"Avoidance rating of the NPC",slow_mitigation:"Slow Mitigation of the NPC",version:"Version of the NPC",maxlevel:"Maximum level of the NPC",scalerate:"Scale rate of the NPC",private_corpse:"",unique_spawn_by_name:"NPC is a Unique Spawn By Name",underwater:"Underwater NPC",isquest:"The NPC has a quest script",emoteid:"Emote id of the NPC",spellscale:"Spell scale of the NPC",healscale:"Heal scale of the NPC",no_target_hotkey:"",raidtarget:"NPC is a Raid Target",armtexture:"Arm texture of the NPC",bracertexture:"Bracer texture of the NPC",handtexture:"Hand texture of the NPC",legtexture:"Leg texture of the NPC",feettexture:"Feet texture of the NPC",light:"Light value of the NPC",walkspeed:"Walkspeed of the NPC",peqid:"",unique:"NPC is unique",fixed:"",ignore_despawn:"",show_name:"NPC name is shown",untargetable:"NPC is untargetable",charm_ac:"Charmed Armor Class of the NPC",charm_min_dmg:"Charmed Minimum Damage of the NPC",charm_max_dmg:"Charmed Maximum Damage of the NPC",charm_attack_delay:"Charmed Attack Delay of the NPC",charm_accuracy_rating:"Charmed Accuracy Rating of the NPC",charm_avoidance_rating:"Charmed Avoidance Rating of the NPC",charm_atk:"Charmed Attack Rating of the NPC",skip_global_loot:"Skip Global Loot on this NPC",rare_spawn:"NPC is a rare spawn",stuck_behavior:"Behavior followed if NPC is stuck",model:"Model of the NPC",flymode:"Flymode for the NPC",always_aggro:"NPC will always aggro",exp_mod:"Experience modifier for the NPC"}}},{key:"getFieldDescription",value:function(e){var t=e.toLowerCase().replace("_","");for(var n in this.getFieldDescriptions()){var a=n.toLowerCase().replace("_","");if(a===t)return this.getFieldDescriptions()[n]}return""}},{key:"cacheExists",value:function(e){return this.npc[e]}}])}();m.npc={}},"02f6":function(e,t,n){"use strict";var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"container-fluid content-area"},[t("div",{staticClass:"panel-body"},[t("div",{staticClass:"panel panel-default"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-12 mt-3"},[e._t("default")],2)])])])])},i=[],r={name:"ContentArea"},s=r,c=n("2877"),o=Object(c["a"])(s,a,i,!1,null,"4665fdac",null);t["a"]=o.exports},"093e":function(e,t,n){"use strict";var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"eq-window-simple"},[e.title?t("div",{staticClass:"eq-window-title-bar",style:"font-weight: "+(e.boldTitle?"bold":"normal")+";"},[e._v(e._s(e.title)+"\n  ")]):e._e(),t("div",{class:e.classes,style:"padding: "+("undefined"!==typeof e.padding?e.padding:10)+"px"},[e._t("default")],2)])},i=[],r=(n("c5f6"),{name:"EqWindowSimple",props:{title:{type:String,required:!1},padding:{type:Number,required:!1,default:10},classes:{type:String,required:!1,default:""},boldTitle:{type:Boolean,required:!1,default:!1}}}),s=r,c=n("2877"),o=Object(c["a"])(s,a,i,!1,null,"4db0cdea",null);t["a"]=o.exports},"0a49":function(e,t,n){var a=n("9b43"),i=n("626a"),r=n("4bf8"),s=n("9def"),c=n("cd1c");e.exports=function(e,t){var n=1==e,o=2==e,l=3==e,u=4==e,d=6==e,h=5==e||d,p=t||c;return function(t,c,f){for(var m,v,g=r(t),b=i(g),y=a(c,f,3),_=s(b.length),w=0,k=n?p(t,_):o?p(t,0):void 0;_>w;w++)if((h||w in b)&&(m=b[w],v=y(m,w,g),e))if(n)k[w]=v;else if(v)switch(e){case 3:return!0;case 5:return m;case 6:return w;case 2:k.push(m)}else if(u)return!1;return d?-1:l||u?u:k}}},"0c83":function(e,t,n){"use strict";function a(e,t){var n=[];while(e.length>0){var a=e.splice(0,t);n.push(a)}return n}n.d(t,"a",(function(){return a}))},"1b9f":function(e,t,n){},"238f":function(e,t,n){"use strict";n("36db")},"26df":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n("d225"),i=n("b0b4"),r={0:"original.gif",1:"kunarkicon.gif",2:"veliousicon.gif",3:"luclinicon.gif",4:"powericon.gif",5:"ykeshaicon.gif",6:"ldonicon.gif",7:"gatesicon.gif",8:"omensicon.gif",9:"donicon.gif",10:"dodicon.png",11:"poricon.png",12:"serpsicon.gif",13:"buried.gif",14:"secrets.gif",15:"seedsofdestruction.gif",16:"underfoot.gif",17:"thule.gif",18:"alaris.gif",19:"fear.gif",20:"calloftheforsaken.gif",21:"darkenedsea.gif",22:"brokenmirror.gif",23:"empires.gif",24:"scale.gif",25:"burning.gif",26:"torment.gif"},s=n("4ac1"),c=n("78ff"),o=function(){function e(){Object(a["a"])(this,e)}return Object(i["a"])(e,null,[{key:"getExpansionIconUrlSmall",value:function(e){return r[e]?s["a"].ASSET_EXPANSION_ICON_SMALL_URL+r[e]:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"}},{key:"getExpansionName",value:function(e){return c["b"][e]?c["b"][e]:-1===e?"All":"Unknown"}}])}()},"2c03":function(e,t,n){"use strict";n("ac6a"),n("456d"),n("a481");var a=function(){var e=this,t=e._self._c;return t("div",[0===e.items.length?t("div",{staticClass:"eq-window-simple text-center mb-0"},[e._v("\n    No items were found\n  ")]):e._e(),e.items&&e.items.length>0?t("div",{staticClass:"eq-window-simple p-0",staticStyle:{transition:"all 1s ease"}},[e.items.length>0?t("div",{staticClass:"item-table fill-screen",staticStyle:{"overflow-y":"scroll","overflow-x":"hidden"}},[t("table",{staticClass:"eq-table bordered eq-highlight-rows",attrs:{id:"items-table"}},[e._m(0),t("tbody",e._l(e.items,(function(n,a){return t("tr",{key:n.id},[t("td",{staticClass:"p-0 text-center"},[t("b-button",{staticClass:"btn-outline-danger mr-2",staticStyle:{width:"28px",height:"28px"},attrs:{variant:"primary",size:"sm",title:"Delete"},on:{click:function(t){return e.deleteItem(n)}}},[t("i",{staticClass:"fa fa-trash"})]),t("router-link",{staticClass:"btn btn-sm btn-outline-success mr-2",staticStyle:{width:"28px",height:"28px"},attrs:{to:e.ROUTE.ITEM_EDIT.replace("%s",n.id),size:"sm",tag:"button",title:"Edit"}},[t("i",{staticClass:"fa fa-pencil-square"})]),t("router-link",{staticClass:"btn btn-sm btn-outline-light mr-2",staticStyle:{width:"30px",height:"28px"},attrs:{to:e.ROUTE.ITEM_EDIT.replace("%s",n.id)+"?clone=true",size:"sm",tag:"button",title:"Clone"}},[t("i",{staticClass:"ra ra-double-team"})])],1),t("td",[e._v("\n            "+e._s(n.id)+"\n          ")]),t("td",{staticClass:"text-left",staticStyle:{"vertical-align":"middle"}},[Object.keys(n).length>0&&n?t("item-popover",{attrs:{item:n,size:"regular"}}):e._e()],1),t("td",[e._v(e._s(n.reqlevel))]),t("td",[e._v(e._s(n.ac))]),t("td",[e._v(e._s(e.commify(n.hp)))]),t("td",[e._v(e._s(e.commify(n.mana)))]),t("td",[e._v(e._s(e.commify(n.endur)))]),t("td",{staticClass:"text-left"},[e._v(e._s(e.getClasses(n)))])])})),0)])]):e._e()]):e._e()])},i=[function(){var e=this,t=e._self._c;return t("thead",{staticClass:"eq-table-floating-header"},[t("tr",[t("th",{staticStyle:{"text-align":"center",width:"120px"}}),t("th",{staticClass:"text-center",staticStyle:{"text-align":"center",width:"100px"}},[e._v("Id")]),t("th",{staticStyle:{"text-align":"center",width:"auto"}},[e._v("Name")]),t("th",{staticStyle:{"text-align":"center",width:"auto"}},[e._v("ReqLvl")]),t("th",{staticStyle:{"text-align":"center",width:"auto"}},[e._v("AC")]),t("th",{staticStyle:{"text-align":"center",width:"auto"}},[e._v("HP")]),t("th",{staticStyle:{"text-align":"center",width:"auto"}},[e._v("Mana")]),t("th",{staticStyle:{"text-align":"center",width:"auto"}},[e._v("End")]),t("th",{staticStyle:{width:"auto"}},[e._v("Classes")])])])}],r=(n("ac4d"),n("8a81"),n("5df3"),n("1c4c"),n("768b")),s=(n("ffc1"),n("6b54"),n("7f7f"),n("96cf"),n("3b8d")),c=n("935a"),o=n("f4a8"),l=n("a50e"),u=n("80b0"),d=n("7dc0"),h=n("cd97"),p=n("5201"),f=n("d73b");function m(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=v(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,i=function(){};return{s:i,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){c=!0,r=e},f:function(){try{s||null==n.return||n.return()}finally{if(c)throw r}}}}function v(e,t){if(e){if("string"==typeof e)return g(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,t):void 0}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}var b={name:"ItemPreviewTable",components:{ItemPopover:h["a"],EqWindow:c["a"]},data:function(){return{title:"",dbClassIcons:o["a"],dbClassesShort:l["b"],ROUTE:u["a"]}},mounted:function(){this.items.length>0&&(setTimeout((function(){document.getElementById("items-table")&&new d["a"](document.getElementById("items-table"))}),1e3),setTimeout((function(){f["a"].resizeFillScreenElements()}),100))},props:{items:Array},methods:{deleteItem:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!confirm("Are you sure you want to permanently delete this item? [".concat(t.name,"] (").concat(t.id,")"))){e.next=4;break}return e.next=3,p["a"].deleteItem(t.id);case 3:this.$emit("reload-list",!0);case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),commify:function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},getClasses:function(e){var t,n=[],a=e.classes,i=m(Object.entries(l["c"]).reverse());try{for(i.s();!(t=i.n()).done;){var s=Object(r["a"])(t.value,2),c=s[0],o=s[1];c<=a&&(a-=c,n.push(o))}}catch(u){i.e(u)}finally{i.f()}return e.classes>=65535?"ALL":n.join(", ").trim()}}},y=b,_=(n("238f"),n("2877")),w=Object(_["a"])(y,a,i,!1,null,"6852292e",null);t["a"]=w.exports},"2ed4":function(e,t,n){"use strict";n("1b9f")},"35d0":function(e,t,n){"use strict";n("ac6a"),n("456d");var a=function(){var e=this,t=e._self._c;return Object.keys(e.editMerchantEntry).length>0?t("div",{staticClass:"col-5"},[t("eq-window",{attrs:{title:"Edit Merchant List Entry (".concat(e.editMerchantEntrySlot,")")}},[e._l(e.editMerchantEntryFields,(function(n){return t("div",{key:n.field,class:"row minified-inputs"},["checkbox"===n.fType?t("div",{staticClass:"col-4 text-right p-0 m-0 mr-1 mt-3",staticStyle:{position:"relative",bottom:"6px"}},[n.category?t("span",{staticClass:"font-weight-bold"},[e._v(e._s(n.category))]):e._e(),e._v("\n        "+e._s(n.desc)+"\n      ")]):e._e(),"checkbox"!==n.fType?t("div",{staticClass:"col-4 text-right p-0 m-0 mr-3",staticStyle:{"margin-top":"10px !important"}},[n.category?t("span",{staticClass:"font-weight-bold"},[e._v(e._s(n.category))]):e._e(),e._v("\n        "+e._s(n.desc)+"\n      ")]):e._e(),t("div",{staticClass:"col-7 text-left p-0 mt-2"},["checkbox"===n.fType?t("div",{class:"text-left ml-2 mt-1"},[t("eq-checkbox",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.v-dark.right",modifiers:{hover:!0,"v-dark":!0,right:!0}}],staticClass:"d-inline-block text-center",attrs:{title:e.getFieldDescription(n.field),"true-value":"undefined"!==typeof n.true?n.true:1,"false-value":"undefined"!==typeof n.false?n.false:0},on:{input:function(t){e.editMerchantEntry[n.field]=t}},model:{value:e.editMerchantEntry[n.field],callback:function(t){e.$set(e.editMerchantEntry,n.field,e._n(t))},expression:"editMerchantEntry[field.field]"}})],1):e._e(),"number"===n.fType?t("b-form-input",e._g({directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.v-dark.right",modifiers:{hover:!0,"v-dark":!0,right:!0}}],staticClass:"m-0 mt-1",style:0===e.editMerchantEntry[n.field]?"opacity: .5":"",attrs:{id:n.field,title:e.getFieldDescription(n.field)},model:{value:e.editMerchantEntry[n.field],callback:function(t){e.$set(e.editMerchantEntry,n.field,e._n(t))},expression:"editMerchantEntry[field.field]"}},n.e?e.getEventHandlers(n.e,n.field):{})):e._e(),"text"===n.fType?t("b-form-input",e._g({directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.v-dark.right",modifiers:{hover:!0,"v-dark":!0,right:!0}}],staticClass:"m-0 mt-1",style:e.editMerchantEntry[n.field]<=("undefined"!==typeof n.zeroValue?n.zeroValue:0)?"opacity: .5":"",attrs:{id:n.field,title:e.getFieldDescription(n.field)},model:{value:e.editMerchantEntry[n.field],callback:function(t){e.$set(e.editMerchantEntry,n.field,e._n(t))},expression:"editMerchantEntry[field.field]"}},n.e?e.getEventHandlers(n.e,n.field):{})):e._e(),"range"===n.fType?t("b-form-input",e._g({directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.v-dark.right",modifiers:{hover:!0,"v-dark":!0,right:!0}}],key:e.rerenderProbability,staticClass:"m-0 mt-1 d-inline-block",staticStyle:{width:"80%"},style:e.editMerchantEntry[n.field]<=("undefined"!==typeof n.zeroValue?n.zeroValue:0)?"opacity: .5":"",attrs:{type:"range",id:n.field,min:n.min,max:n.max,title:e.getFieldDescription(n.field)},on:{change:function(t){e.rerenderProbability=Date.now()}},model:{value:e.editMerchantEntry[n.field],callback:function(t){e.$set(e.editMerchantEntry,n.field,e._n(t))},expression:"editMerchantEntry[field.field]"}},n.e?e.getEventHandlers(n.e,n.field):{})):e._e(),"range"===n.fType?t("div",{key:e.rerenderProbability+"-visual",staticClass:"d-inline-block ml-3"},[e._v("\n          ("+e._s(e.editMerchantEntry[n.field])+") %\n        ")]):e._e(),"textarea"===n.fType?t("b-textarea",e._g({directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.v-dark.right",modifiers:{hover:!0,"v-dark":!0,right:!0}}],staticClass:"m-0 mt-1",style:(""===e.editMerchantEntry[n.field]?"opacity: .5":"")+";",attrs:{id:n.field,rows:"2","max-rows":"6",title:e.getFieldDescription(n.field)},model:{value:e.editMerchantEntry[n.field],callback:function(t){e.$set(e.editMerchantEntry,n.field,t)},expression:"editMerchantEntry[field.field]"}},n.e?e.getEventHandlers(n.e,n.field):{})):e._e(),n.selectData?t("select",e._g({directives:[{name:"model",rawName:"v-model.number",value:e.editMerchantEntry[n.field],expression:"editMerchantEntry[field.field]",modifiers:{number:!0}},{name:"b-tooltip",rawName:"v-b-tooltip.hover.v-dark.right",modifiers:{hover:!0,"v-dark":!0,right:!0}}],staticClass:"form-control m-0 mt-1",style:e.editMerchantEntry[n.field]<=("undefined"!==typeof n.zeroValue?n.zeroValue:0)?"opacity: .5":"",attrs:{id:n.field,title:e.getFieldDescription(n.field)},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(t){var n="_value"in t?t._value:t.value;return e._n(n)}));e.$set(e.editMerchantEntry,n.field,t.target.multiple?a:a[0])}}},n.e?e.getEventHandlers(n.e,n.field):{}),e._l(n.selectData,(function(n,a){return t("option",{key:a,domProps:{value:parseInt(a)}},[e._v("\n            "+e._s(a)+") "+e._s(n)+"\n          ")])})),0):e._e(),"content-flag"===n.fType?t("content-flag-selector",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.v-dark.right",modifiers:{hover:!0,"v-dark":!0,right:!0}}],key:e.rerenderContentFlags,attrs:{value:e.editMerchantEntry[n.field],title:e.getFieldDescription(n.field)},on:{input:function(t){e.editMerchantEntry[n.field]=t,e.rerenderContentFlags=Date.now()}}}):e._e(),"content-expansion"===n.fType?t("content-expansion-selector",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.v-dark.right",modifiers:{hover:!0,"v-dark":!0,right:!0}}],key:e.rerenderExpansion,attrs:{value:e.editMerchantEntry[n.field],title:e.getFieldDescription(n.field)},on:{input:function(t){e.editMerchantEntry[n.field]=t,e.rerenderExpansion=Date.now()}}}):e._e(),"classes"===n.fType?t("class-bitmask-calculator",{key:e.rerenderClasses,staticClass:"text-center mt-3",staticStyle:{"border-radius":"15px","min-height":"150px"},attrs:{"show-text-top":!1,"show-text-side":!0,imageSize:38,"centered-buttons":!0,mask:e.editMerchantEntry[n.field]},on:{input:function(t){e.editMerchantEntry[n.field]=parseInt(t),e.rerenderClasses=Date.now()}}}):e._e()],1)])})),t("div",{staticClass:"row"},[t("div",{staticClass:"col-12 text-center mt-3"},[t("b-button",{attrs:{size:"sm",variant:"outline-warning"},on:{click:function(t){return e.save()}}},[t("i",{staticClass:"ra ra-save"}),e._v("\n          Save\n        ")])],1)]),t("info-error-banner",{staticClass:"mt-4",attrs:{notification:e.notification,error:e.error},on:{"dismiss-error":function(t){e.error=""},"dismiss-notification":function(t){e.notification=""}}}),t("eq-debug",{attrs:{data:e.editMerchantEntry}})],2)],1):e._e()},i=[],r=(n("96cf"),n("3b8d")),s=(n("a481"),n("c5f6"),n("dd86")),c=n("935a"),o=n("46f9"),l=n("d970"),u=n("5afa"),d=function(){var e=this,t=e._self._c;return e.inputVal?t("div",[t("b-form-group",{staticClass:"mb-0",attrs:{"label-for":"tags-component-select"}},[t("b-form-tags",{staticClass:"mb-2 p-0",staticStyle:{"background-color":"transparent",border:"transparent"},attrs:{id:"tags-component-select","add-on-change":"","no-outer-focus":""},scopedSlots:e._u([{key:"default",fn:function(n){var a=n.tags,i=n.inputAttrs,r=n.inputHandlers,s=n.disabled,c=n.removeTag;return[a.length>0?t("ul",{staticClass:"list-inline d-inline-block mb-2"},e._l(a,(function(n){return t("li",{key:n,staticClass:"list-inline-item"},[t("b-form-tag",{attrs:{title:n,disabled:s,variant:"warning"},on:{remove:function(e){return c(n)}}},[e._v(e._s(n)+"\n            ")])],1)})),0):e._e(),t("b-form-select",e._g(e._b({attrs:{disabled:s||0===e.availableOptions.length,options:e.availableOptions},scopedSlots:e._u([{key:"first",fn:function(){return[t("option",{attrs:{disabled:"",value:""}},[e._v(e._s(0===e.availableOptions.length?"All Flags Selected":"Add a flag...")+"\n            ")])]},proxy:!0}],null,!0)},"b-form-select",i,!1),r))]}}],null,!1,2283319955),model:{value:e.inputVal,callback:function(t){e.inputVal=t},expression:"inputVal"}})],1)],1):e._e()},h=[],p=(n("ac4d"),n("8a81"),n("5df3"),n("1c4c"),n("7f7f"),n("6b54"),n("28a5"),n("9a04")),f=n("75fc"),m=(n("3846"),n("d225")),v=n("b0b4"),g=n("9ab4"),b=n("a7a1"),y=n("0d95"),_=function(){function e(){Object(m["a"])(this,e)}return Object(v["a"])(e,null,[{key:"get",value:function(){return Object(g["d"])(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(this.flags&&this.flags.length>0)){e.next=2;break}return e.abrupt("return",this.flags);case 2:return e.next=4,Object(p["a"])(b["ContentFlagApi"],Object(f["a"])(y["SpireApi"].cfg())).listContentFlags();case 4:if(t=e.sent,200!==t.status){e.next=8;break}return this.flags=t.data,e.abrupt("return",t.data);case 8:return e.abrupt("return",[]);case 9:case"end":return e.stop()}}),e,this)})))}}])}();function w(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=k(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,i=function(){};return{s:i,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){c=!0,r=e},f:function(){try{s||null==n.return||n.return()}finally{if(c)throw r}}}}function k(e,t){if(e){if("string"==typeof e)return C(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?C(e,t):void 0}}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}_.flags=[];var x={name:"ContentFlagSelector",props:{value:[String,Array]},data:function(){return{options:[],availableOptions:[]}},mounted:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n,a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=[],e.t0=w,e.next=4,_.get();case 4:e.t1=e.sent,n=(0,e.t0)(e.t1);try{for(n.s();!(a=n.n()).done;)i=a.value,t.push(i.flag_name)}catch(r){n.e(r)}finally{n.f()}this.options=t,this.calcAvailableOptions();case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),methods:{calcAvailableOptions:function(){var e=this;console.log("calcing options",this.inputVal),this.availableOptions=this.options.filter((function(t){return-1===e.inputVal.indexOf(t)})),console.log(this.availableOptions)}},watch:{value:{handler:function(e){var t=this;console.log("[ContentFlagSelector] value watcher [%s]",this.value),setTimeout((function(){console.log("firing options"),t.calcAvailableOptions()}),100)}},deep:!0},computed:{inputVal:{get:function(){var e=this.value;return console.log("[ContentFlagSelector] value computed [%s]",e),"undefined"===typeof e||null===e?[]:Array.isArray(e)?e&&e.length>0?e:[]:"string"===typeof e||e instanceof String?e.split(","):[]},set:function(e){var t=e?e.join(","):"";console.log("[ContentFlagSelector] value computed set [%s]",t),this.value!==t&&this.$emit("input",t)}}}},E=x,S=n("2877"),N=Object(S["a"])(E,d,h,!1,null,null,null),I=N.exports,A=(n("6762"),n("2fdb"),function(){var e=this,t=e._self._c;return t("div",[e._l(e.EXPANSIONS_FULL,(function(n,a){return e.getExpansionIcon(a).includes("base64")?e._e():t("img",{staticClass:"mr-2 p-1 mt-1 hover-highlight-inner",style:"width: 56px; opacity: .7; "+(e.isExpansionSelected(a)?"border: 2px solid #dadada; border-radius: 7px;":"border: 2px solid rgb(218 218 218 / 30%); border-radius: 7px;"),attrs:{alt:e.getExpansionName(a),title:e.getExpansionName(a)+" ("+a+")",src:e.getExpansionIcon(a)},on:{click:function(t){return e.selectExpansion(a)}}})})),t("div",{staticClass:"mr-2 mt-2 hover-highlight-inner d-inline-block text-center",style:"width: 56px; font-size: 12px; font-weight: bold; padding: 0px !important; opacity: .7; "+(e.isExpansionSelected(-1)?"border: 2px solid #dadada; border-radius: 7px;":"border: 2px solid rgb(218 218 218 / 30%); border-radius: 7px;"),on:{click:function(t){return e.selectExpansion(-1)}}},[e._v("\n    All\n  ")]),e._v("\n\n  ("+e._s(e.selectedExpansion)+") "+e._s(e.getExpansionName(e.selectedExpansion))+"\n\n")],2)}),M=[],O=n("78ff"),R=n("26df"),T={name:"ContentExpansionSelector",data:function(){return{selectedExpansion:-1,EXPANSIONS_FULL:O["a"]}},props:{value:[Number,Array]},mounted:function(){this.selectedExpansion=parseInt(this.value)},methods:{selectExpansion:function(e){console.log("select expansion [%s] value [%s]",e,this.value),e=parseInt(e),this.value!==e&&(this.selectedExpansion=e,this.$emit("input",e))},isExpansionSelected:function(e){return parseInt(e)===this.selectedExpansion},getExpansionIcon:function(e){return R["a"].getExpansionIconUrlSmall(e)},getExpansionName:function(e){return R["a"].getExpansionName(e)}}},L=T,P=Object(S["a"])(L,A,M,!1,null,"965aa6e0",null),q=P.exports,D=n("b51d"),j={name:"MerchantlistEntryEdit",components:{ClassBitmaskCalculator:D["a"],ContentExpansionSelector:q,ContentFlagSelector:I,InfoErrorBanner:u["a"],EqCheckbox:o["a"],EqWindow:c["a"],EqDebug:s["a"]},props:{editMerchantEntry:{type:Object,required:!0},editMerchantEntrySlot:{type:Number,required:!0}},data:function(){return{notification:"",error:"",rerenderContentFlags:0,rerenderExpansion:0,rerenderClasses:0,rerenderProbability:0,editMerchantEntryFields:[{desc:"Faction Requirement",field:"faction_required",fType:"text"},{desc:"Level Requirement",field:"level_required",fType:"text"},{desc:"Alternate Currency Cost",field:"alt_currency_cost",fType:"text"},{desc:"Enabled with Classes",field:"classes_required",fType:"classes"},{desc:"Probability",field:"probability",fType:"range",min:0,max:100},{desc:"Min Status",field:"min_status",fType:"text"},{desc:"Max Status",field:"max_status",fType:"text"},{desc:"Min Expansion",field:"min_expansion",fType:"content-expansion"},{desc:"Max Expansion",field:"max_expansion",fType:"content-expansion"},{desc:"Enabled on Content Flag(s)",field:"content_flags",fType:"content-flag"},{desc:"Disabled on Content Flag(s)",field:"content_flags_disabled",fType:"content-flag"}]}},methods:{getEventHandlers:function(e,t){var n={};return e.onclick&&(n.click=function(){return e.onclick(t)}),e.onmouseover&&(n.mouseover=function(){return e.onmouseover(t)}),n},getFieldDescription:function(e){var t={classes_required:"This Merchant entry is enabled the client falls within the classes selected",min_expansion:"This Merchant entry is enabled when the server's current expansion is above this value if not -1",max_expansion:"This Merchant entry is enabled when the server's current expansion is below this value if not -1",content_flags:"This Merchant entry is enabled when these content flags are enabled on the server",content_flags_disabled:"This Merchant entry is enabled when these content flags are disabled on the server",probability:"This Merchant entry is enabled on successful roll on the spawn of the Merchant (0-100%)"},n=e.toLowerCase().replace("_","");for(var a in t){var i=a.toLowerCase().replace("_","");if(i===n)return t[a]}},save:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.editMerchantEntry,e.prev=1,e.next=4,l["a"].updateSlotForEntry(t.merchantid,t.slot,t);case 4:n=e.sent,200===n.status&&(this.notification="Saved!"),e.next=12;break;case 8:e.prev=8,e.t0=e["catch"](1),console.log(e.t0),e.t0.response&&e.t0.response.data&&e.t0.response.data.error&&(this.error=e.t0.response.data.error);case 12:case"end":return e.stop()}}),e,this,[[1,8]])})));function t(){return e.apply(this,arguments)}return t}()}},B=j,F=Object(S["a"])(B,a,i,!1,null,"1aa2616e",null);t["a"]=F.exports},"36db":function(e,t,n){},"3ace":function(e,t,n){"use strict";n("386d");var a=function(){var e=this,t=e._self._c;return t("div",[e.searchPerformed?t("eq-window-simple",{staticClass:"text-center"},[t("b-button",{staticClass:"btn-dark btn-sm btn-dark",on:{click:function(t){e.searchPerformed=!1}}},[e._v("\n      Return to Search\n    ")])],1):e._e(),e.searchPerformed?e._e():t("eq-window-simple",{staticClass:"mt-3"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-12 pl-4"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-12 text-center"},[t("class-bitmask-calculator",{attrs:{"centered-buttons":!1,"display-all-none":!0,"add-only-button-enabled":!0,"add-only-state-enabled":e.selectOnlyClassEnabled,inputData:e.selectedClasses,mask:e.selectedClasses},on:{selectOnly:function(t){e.selectOnlyClassEnabled=t},"update:inputData":function(t){e.selectedClasses=t},"update:input-data":function(t){e.selectedClasses=t}}})],1)]),t("div",{staticClass:"row"},[t("div",{staticClass:"col-12 text-center mt-3"},[t("race-bitmask-calculator",{attrs:{"centered-buttons":!1,"display-all-none":!0,inputData:e.selectedRaces,mask:e.selectedRaces},on:{"update:inputData":function(t){e.selectedRaces=t},"update:input-data":function(t){e.selectedRaces=t}}})],1)]),t("div",{staticClass:"row"},[t("div",{staticClass:"col-12 text-center mt-3"},[t("inventory-slot-calculator",{attrs:{"image-size":40,"skip-duplicate-slots":!0,"display-all-none":!1,"centered-buttons":!0,inputData:e.selectedSlots,mask:e.selectedSlots},on:{"update:inputData":function(t){e.selectedSlots=t},"update:input-data":function(t){e.selectedSlots=t}}})],1)]),t("div",{staticClass:"row mt-3 text-center"},[t("div",{staticClass:"col-lg-4 col-sm-12 p-0 pr-1 text-center"},[e._v("\n            Item Name or ID\n            "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.itemName,expression:"itemName"}],staticClass:"form-control",attrs:{name:"item_name",type:"text",placeholder:"Name or ID",autofocus:"",id:"item_name",value:""},domProps:{value:e.itemName},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.triggerState.apply(null,arguments)},input:function(t){t.target.composing||(e.itemName=t.target.value)}}})]),t("div",{staticClass:"col-lg-4 col-sm-12 p-0 pr-1 text-center"},[e._v("\n            Item Type\n            "),t("select",{directives:[{name:"model",rawName:"v-model",value:e.itemType,expression:"itemType"}],staticClass:"form-control",attrs:{id:"item_type"},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.itemType=t.target.multiple?n:n[0]}}},[t("option",{attrs:{value:"-1"}},[e._v("-- Select --")]),e._l(e.itemTypeOptions,(function(n){return t("option",{domProps:{value:n.value}},[e._v("\n                "+e._s(n.text)+"\n              ")])}))],2)]),t("div",{staticClass:"col-lg-4 col-sm-12 p-0 pr-1 text-center"},[e._v("\n            Level\n            "),t("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedLevel,expression:"selectedLevel"}],staticClass:"form-control",on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selectedLevel=t.target.multiple?n:n[0]}}},[t("option",{attrs:{value:"0"}},[e._v("-- Select --")]),e._l(105,(function(n){return t("option",{domProps:{value:n}},[e._v("\n                "+e._s(n)+"\n              ")])}))],2)])]),t("div",{staticClass:"row"},[t("div",{staticClass:"col-lg-12 col-sm-12 mt-3 pl-0 pr-0 text-center"},[e.selectedLevel?t("div",{staticClass:"btn-group ml-3",attrs:{role:"group","aria-label":"Basic example"}},[t("b-button",{attrs:{size:"sm",variant:0===parseInt(e.selectedLevelType)?"warning":"outline-warning"},on:{click:function(t){e.selectedLevelType=0}}},[e._v("Only\n              ")]),t("b-button",{attrs:{size:"sm",variant:1===parseInt(e.selectedLevelType)?"warning":"outline-warning"},on:{click:function(t){e.selectedLevelType=1}}},[e._v("Higher\n              ")]),t("b-button",{attrs:{size:"sm",variant:2===parseInt(e.selectedLevelType)?"warning":"outline-warning"},on:{click:function(t){e.selectedLevelType=2}}},[e._v("Lower\n              ")])],1):e._e(),t("div",{staticClass:"btn-group ml-3",attrs:{role:"group","aria-label":"Basic example"}},[t("b-button",{attrs:{size:"sm",variant:10===parseInt(e.limit)?"warning":"outline-warning"},on:{click:function(t){e.limit=10}}},[e._v("10\n              ")]),t("b-button",{attrs:{size:"sm",variant:100===parseInt(e.limit)?"warning":"outline-warning"},on:{click:function(t){e.limit=100}}},[e._v("100\n              ")]),t("b-button",{attrs:{size:"sm",variant:1e3===parseInt(e.limit)?"warning":"outline-warning"},on:{click:function(t){e.limit=1e3}}},[e._v("1000\n              ")])],1),t("b-button",{staticClass:"btn-dark btn-sm btn-dark ml-3",on:{click:function(t){return e.search()}}},[t("i",{staticClass:"fa fa-search"}),e._v(" Search\n            ")]),t("div",{class:"text-center btn-xs eq-button-fancy ml-3",staticStyle:{"line-height":"25px"},on:{click:function(t){return e.resetForm()}}},[e._v("\n              Reset Form\n            ")])],1)]),e._e(),e._l(3,(function(t){return e._e()}))],2)])]),t("app-loader",{attrs:{"is-loading":!e.loaded,padding:"4"}}),e.loaded&&e.items&&e.searchPerformed?t("item-selector-preview-table",{attrs:{items:e.items,"selected-item-id":e.selectedItemId},on:{input:function(t){return e.bubbleToParent(t)}}}):e._e()],1)},i=[],r=(n("55dd"),n("456d"),n("9a04")),s=n("75fc"),c=(n("c5f6"),n("768b")),o=(n("ac6a"),n("ffc1"),n("96cf"),n("3b8d")),l=n("bd86"),u=n("94bf"),d=n("935a"),h=n("0d95"),p=n("ec53"),f=n("f4a8"),m=n("a50e"),v=n("d6b6"),g=n("5201"),b=n("b51d"),y=n("a25c"),_=n("6267"),w=n("ef1f"),k=n("8e98"),C=n("46f9"),x=n("2c03"),E=n("093e"),S=n("e40e"),N=n("c4af"),I=function(){var e=this,t=e._self._c;return t("div",[e.items&&0===e.items.length?t("div",{staticClass:"eq-window-simple text-center"},[e._v("\n    No items were found\n  ")]):e._e(),e.items.length>0?t("eq-window-simple",{staticClass:"mt-3 p-0",staticStyle:{"overflow-x":"scroll",height:"85vh","overflow-y":"scroll"}},[e.items.length>0?t("div",{staticClass:"item-table"},[t("table",{staticClass:"eq-table bordered eq-highlight-rows",staticStyle:{display:"table","overflow-x":"scroll"},attrs:{id:"spell-items-table-selector"}},[t("thead",[t("tr",[t("th",{staticStyle:{"text-align":"center",width:"50px"}}),t("th",{staticClass:"text-center",staticStyle:{"text-align":"center",width:"50px"}},[e._v("Id")]),t("th",{staticStyle:{"text-align":"center"}},[e._v("Name")])])]),t("tbody",e._l(e.items,(function(n,a){return t("tr",{key:n.id,class:e.isItemSelected(n)?"pulsate-highlight-white":"",attrs:{id:"item-selection-row-"+n.id}},[t("td",[t("div",{staticClass:"btn-group",attrs:{role:"group"}},[t("b-button",{staticClass:"btn-dark btn-sm btn-outline-warning",on:{click:function(t){return e.selectItem(n)}}},[t("i",{staticClass:"fa fa-arrow-left"})])],1)]),t("td",[e._v("\n            "+e._s(n.id)+"\n          ")]),t("td",{staticClass:"text-left",staticStyle:{"vertical-align":"middle"}},[Object.keys(n).length>0&&n?t("item-popover",{attrs:{item:n,size:"regular"}}):e._e()],1)])})),0)])]):e._e()]):e._e()],1)},A=[],M=(n("ac4d"),n("8a81"),n("5df3"),n("1c4c"),n("7f7f"),n("6b54"),n("4ac1")),O=n("7dc0"),R=n("cd97");function T(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=L(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,i=function(){};return{s:i,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){c=!0,r=e},f:function(){try{s||null==n.return||n.return()}finally{if(c)throw r}}}}function L(e,t){if(e){if("string"==typeof e)return P(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?P(e,t):void 0}}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}var q={name:"ItemSelectorPreviewTable",components:{ItemPopover:R["a"],EqWindowSimple:E["a"],EqWindow:d["a"],"eq-item-card-preview":function(){return Promise.resolve().then(n.bind(null,"ec53"))},"v-runtime-template":function(){return n.e("chunk-2d2293ca").then(n.bind(null,"dd1e"))}},data:function(){return{debug:M["a"].DEBUG,debugItemEffects:!1,itemCdnUrl:M["a"].ASSET_ITEM_ICON_BASE_URL,itemEffectInfo:[],itemData:{},sideLoadedItemData:{},componentId:"",reagents:[],effectDescription:"",recourseLink:"",title:"",itemMinis:{},dbClassIcons:f["a"],dbClassesShort:m["b"],highlightedItem:0}},created:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.sideLoadedItemData=g["a"].data;case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),mounted:function(){if(console.log("mounted"),this.items.length>0){var e=document.getElementById("spell-items-table-selector");e&&setTimeout((function(){new O["a"](e)}),100)}this.selectedItemId>0&&(this.highlightedItem=this.selectedItemId)},props:{items:Array,selectedItemId:{type:Number,required:!1}},methods:{selectItem:function(e){this.$emit("input",e),this.highlightedItem=e.id},isItemSelected:function(e){return e.id===this.highlightedItem},getClasses:function(e){var t,n=[],a=e.classes,i=T(Object.entries(m["c"]).reverse());try{for(i.s();!(t=i.n()).done;){var r=Object(c["a"])(t.value,2),s=r[0],o=r[1];s<=a&&(a-=s,n.push(o))}}catch(l){i.e(l)}finally{i.f()}return e.classes>=65535?"ALL":n.join(", ").trim()}}},D=q,j=(n("8bde"),n("2877")),B=Object(j["a"])(D,I,A,!1,null,"296e756d",null),F=B.exports,U={name:"ItemSelector",components:Object(l["a"])(Object(l["a"])(Object(l["a"])({ItemSelectorPreviewTable:F,TaskItemPreviewTable:N["a"],EqWindowSimple:E["a"],ItemPreviewTable:x["a"],EqCheckbox:C["a"],DeityBitmaskCalculator:w["a"],InventorySlotCalculator:_["a"],RaceBitmaskCalculator:y["a"],ClassBitmaskCalculator:b["a"],EqItemCardPreview:p["default"]},"EqItemCardPreview",p["default"]),"EqWindow",d["a"]),"page-header",(function(){return n.e("chunk-2d226c5c").then(n.bind(null,"e9a3"))})),data:function(){return{loaded:!1,items:[],limit:100,dbClassIcons:f["a"],dbClassesShort:m["b"],dbClasses:m["d"],dbItemEffects:v["d"],selectedClasses:0,selectedRaces:0,selectedDeities:0,selectedSlots:0,itemName:"",itemType:-1,spellEffect:"",selectOnlyClassEnabled:!1,filters:{},selectedLevel:0,selectedLevelType:0,listType:"table",itemFields:[],filterOptions:["=","<=",">="],itemTypeOptions:[],searchPerformed:!1}},mounted:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,n,a,i,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.resetFilters(),e.next=3,this.getItemFields();case 3:for(this.itemFields=e.sent,this.itemTypeOptions=[],t=0,n=Object.entries(k);t<n.length;t++)a=Object(c["a"])(n[t],2),i=a[0],r=a[1],this.itemTypeOptions.push({text:i+") "+r,value:i});this.selectedItemId>0&&(this.itemName=this.selectedItemId,this.search()),this.loaded=!0;case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),props:{selectedItemId:{type:Number,required:!1}},methods:{bubbleToParent:function(e){this.$emit("input",e)},search:function(){this.triggerState()},getChangedFilterCount:function(){var e=this,t=0,n=function(n){var a=e.filters[n];e.formFilters().forEach((function(e){(e.field==n&&"undefined"!==typeof e.true&&0==e.true&&0===a||e.field==n&&"undefined"===typeof e.true)&&t++}))};for(var a in this.filters)n(a);return console.log("[getChangedFilterCount] set values [%s]",t),t},getFiltersNonZeroValues:function(){var e=this,t={},n=function(n){var a=e.filters[n];e.formFilters().forEach((function(e){(e.field==n&&"undefined"!==typeof e.true&&0==e.true&&0===a||e.field==n&&"undefined"===typeof e.true)&&(t[e.field]=a)}))};for(var a in this.filters)n(a);return t},triggerCheckboxFilter:function(e,t){for(var n in this.filters){var a=this.filters[n];e==n&&a===t&&delete this.filters[n]}this.listItems()},resetFilters:function(){this.filters={}},resetForm:function(){this.resetFilters(),this.selectedClasses=0,this.selectedRaces=0,this.selectedSlots=0,this.selectedDeities=0,this.itemType=-1,this.itemName="",this.spellEffect="",this.selectedLevel=0,this.limit=100,this.selectedLevelType=0,this.items=null,this.listType="table"},triggerStateDelayed:function(){var e=this;setTimeout((function(){e.triggerState()}),100)},triggerState:function(){this.listItems()},getItemFields:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,n,a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=Object(r["a"])(u["G"],Object(s["a"])(h["SpireApi"].cfg())),n={},n.limit=1,e.next=5,t.listItems(n);case 5:if(a=e.sent,200!==a.status||1!==a.data.length){e.next=10;break}return i=[],Object.keys(a.data[0]).forEach((function(e){i.push(e)})),e.abrupt("return",i.sort());case 10:return e.abrupt("return",[]);case 11:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),isClassSelected:function(e){return e===this.selectedClasses},listItems:function(){var e=this;this.loaded=!1;var t=Object(r["a"])(u["G"],Object(s["a"])(h["SpireApi"].cfg())),n=new S["a"];for(var a in this.selectedClasses&&parseInt(this.selectedClasses)>0&&65535!==parseInt(this.selectedClasses)?(this.selectOnlyClassEnabled?n.where("classes","=",this.selectedClasses):n.where("classes","&",this.selectedClasses),n.where("classes","!=",65535)):this.selectedClasses&&parseInt(this.selectedClasses)>0&&65535===parseInt(this.selectedClasses)&&n.where("classes","=",65535),this.selectedRaces&&parseInt(this.selectedRaces)>0&&65535!==parseInt(this.selectedRaces)?(n.where("classes","&",this.selectedRaces),n.where("classes","!=",65535)):this.selectedRaces&&parseInt(this.selectedRaces)>0&&65535===parseInt(this.selectedRaces)&&n.where("races","=",65535),this.selectedDeities&&parseInt(this.selectedDeities)>0&&65535!==parseInt(this.selectedDeities)?(n.where("deity","&",this.selectedDeities),n.where("deity","!=",65535)):this.selectedDeities&&parseInt(this.selectedDeities)>0&&65535===parseInt(this.selectedDeities)&&n.where("deity","=",65535),this.selectedSlots&&parseInt(this.selectedSlots)>0&&65535!==parseInt(this.selectedSlots)?(n.where("slots","&",this.selectedSlots),n.where("slots","!=",65535)):this.selectedSlots&&parseInt(this.selectedSlots)>0&&65535===parseInt(this.selectedSlots)&&n.where("slots","=",65535),this.getFiltersNonZeroValues())n.where(a,"=",this.filters[a]);if(this.itemType&&this.itemType>0&&n.where("itemtype","=",this.itemType),this.selectedLevel>0){var i="=";1===parseInt(this.selectedLevelType)&&(i=">="),2===parseInt(this.selectedLevelType)&&(i="<="),n.where("reqlevel",i,this.selectedLevel)}if(!isNaN(this.itemName)&&this.itemName?n.where("id","=",this.itemName):this.itemName&&n.where("name","like",this.itemName),0===n.getFilterCount())return this.items=null,void(this.loaded=!0);n.groupBy(["id"]),n.limit(this.limit),t.listItems(n.get()).then(function(){var n=Object(o["a"])(regeneratorRuntime.mark((function n(a){var i,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(200!==a.status){n.next=9;break}return e.items=a.data,e.searchPerformed=!0,i=[],n.next=6,Object(r["a"])(u["G"],Object(s["a"])(h["SpireApi"].cfg())).getItemsBulk({body:{ids:i}});case 6:c=n.sent,200==c.status&&c.data&&parseInt(c.data.length)>0&&c.data.forEach((function(e){g["a"].setItem(e.id,e)})),t.getItemsBulk({body:{ids:i}}).then((function(t){200==t.status&&t.data&&parseInt(t.data.length)>0&&t.data.forEach((function(e){g["a"].setItem(e.id,e)})),e.loaded=!0,0===e.items.length&&(e.searchPerformed=!1,e.resetForm())}));case 9:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())}}},z=U,$=Object(j["a"])(z,a,i,!1,null,null,null);t["a"]=$.exports},"3adf":function(e,t,n){},"46f9":function(e,t,n){"use strict";var a=n("bd86"),i=function(){var e=this,t=e._self._c;return e.id?t("div",{style:e.getStyle(),on:{mouseover:function(t){e.hovered=!0},mouseout:function(t){e.hovered=!1}}},[e.label?t("span",[e._v(e._s(e.label))]):e._e(),t("input",{directives:[{name:"model",rawName:"v-model",value:e.inputVal,expression:"inputVal"}],staticClass:"eq-checkbox",attrs:{type:"checkbox",id:e.id,"true-value":e.trueValue,"false-value":e.falseValue,disabled:1===e.disabled},domProps:Object(a["a"])({checked:e.inputVal>0},"checked",Array.isArray(e.inputVal)?e._i(e.inputVal,null)>-1:e._q(e.inputVal,e.trueValue)),on:{change:[function(t){var n=e.inputVal,a=t.target,i=a.checked?e.trueValue:e.falseValue;if(Array.isArray(n)){var r=null,s=e._i(n,r);a.checked?s<0&&(e.inputVal=n.concat([r])):s>-1&&(e.inputVal=n.slice(0,s).concat(n.slice(s+1)))}else e.inputVal=i},function(t){return e.change()}]}}),t("label",{staticClass:"eq-checkbox-label",attrs:{for:e.id}}),e.labelRight?t("span",{staticClass:"ml-3"},[e._v(e._s(e.labelRight))]):e._e()]):e._e()},r=[],s=(n("6b54"),n("c5f6"),{name:"EqCheckbox",data:function(){return{id:"",hovered:!1}},computed:{inputVal:{get:function(){return this.value},set:function(e){this.$emit("input",e)}}},props:{isChecked:{type:Boolean,required:!1,default:!1},disabled:{default:0},fadeWhenNotTrue:{type:Boolean,required:!1,default:!1},label:{type:String,required:!1,default:""},labelRight:{type:String,required:!1,default:""},value:{type:[Number,String,Boolean],required:!1,default:0},trueValue:{type:[Number,String,Boolean],required:!1,default:1},falseValue:{type:[Number,String,Boolean],required:!1,default:0}},mounted:function(){this.init()},methods:{change:function(){this.$emit("change",this.value)},getStyle:function(){return this.fadeWhenNotTrue?this.hovered?"opacity: 1; font-weight: bold;":this.value!==this.trueValue?"opacity: .3":"opacity: 1":""},init:function(){this.id=this.randId()},randId:function(){return"_"+Math.random().toString(36).substr(2,9)}}}),c=s,o=n("2877"),l=Object(o["a"])(c,i,r,!1,null,null,null);t["a"]=l.exports},4917:function(e,t,n){"use strict";var a=n("cb7c"),i=n("9def"),r=n("0390"),s=n("5f1b");n("214f")("match",1,(function(e,t,n,c){return[function(n){var a=e(this),i=void 0==n?void 0:n[t];return void 0!==i?i.call(n,a):new RegExp(n)[t](String(a))},function(e){var t=c(n,e,this);if(t.done)return t.value;var o=a(e),l=String(this);if(!o.global)return s(o,l);var u=o.unicode;o.lastIndex=0;var d,h=[],p=0;while(null!==(d=s(o,l))){var f=String(d[0]);h[p]=f,""===f&&(o.lastIndex=r(l,i(o.lastIndex),u)),p++}return 0===p?null:h}]}))},6267:function(e,t,n){"use strict";n("7f7f");var a=function(){var e=this,t=e._self._c;return e.mask>=0?t("div",{staticClass:"row"},[t("div",{staticClass:"mr-3 d-inline-block text-center",style:"display: inline-block "+(e.centeredButtons?"width: 100%":"")},[e._l(e.slots,(function(n,a){return t("div",{staticClass:"mb-1 text-center d-inline-block"},[e.isSlotSkipped(a)?e._e():t("div",{staticClass:"text-center p-0 mr-1 col-lg-12 col-sm-12"},[e.showTextTop?t("span",{staticClass:"d-inline-block",style:"font-size: 12px; white-space: nowrap; overflow: hidden;text-overflow: ellipsis; max-width: "+e.imageSize+"px;"},[e._v("\n          "+e._s(n.name)+"\n        ")]):e._e(),t("div",{staticClass:"text-center"},[t("img",{staticClass:"hover-highlight",style:e.getImageSize()+(e.isSlotSelected(a)?"border: 2px solid #dadada; border-radius: 7px;":"border-radius: 7px; "),attrs:{title:n.name,src:e.slotUrl+"old_slot_"+a+".gif"},on:{click:function(t){return e.selectSlot(a)}}})])])])})),e.displayAllNone?t("div",{staticClass:"d-inline-block"},[t("div",{class:"text-center mt-4 btn-xs eq-button-fancy "+(parseInt(e.mask)>=8388607?"eq-button-fancy-highlighted":""),on:{click:function(t){return e.selectAll()}}},[e._v("\n        All\n      ")]),t("div",{class:"text-center mt-4 btn-xs eq-button-fancy "+(0===parseInt(e.mask)?"eq-button-fancy-highlighted":""),on:{click:function(t){return e.selectNone()}}},[e._v("\n        None\n      ")])]):e._e()],2)]):e._e()},i=[],r=(n("456d"),n("ac6a"),n("c5f6"),{0:{name:"Charm",mask:1},1:{name:"Ear",mask:2},2:{name:"Head",mask:4},3:{name:"Face",mask:8},4:{name:"Ear",mask:16},5:{name:"Neck",mask:32},6:{name:"Shoulder",mask:64},7:{name:"Arms",mask:128},8:{name:"Back",mask:256},9:{name:"Bracer",mask:512},10:{name:"Bracer",mask:1024},11:{name:"Range",mask:2048},12:{name:"Hands",mask:4096},13:{name:"Primary",mask:8192},14:{name:"Secondary",mask:16384},15:{name:"Ring",mask:32768},16:{name:"Ring",mask:65536},17:{name:"Chest",mask:131072},18:{name:"Legs",mask:262144},19:{name:"Feet",mask:524288},20:{name:"Waist",mask:1048576},21:{name:"Powersource",mask:2097152},22:{name:"Ammo",mask:4194304}}),s={EAR_1:1,EAR_2:4,BRACER_1:9,BRACER_2:10,RING_1:15,RING_2:16},c=n("4ac1"),o=n("3022"),l=n.n(o),u={name:"InventorySlotCalculator",data:function(){return{slotUrl:c["a"].ASSET_INVENTORY_SLOT_URL,slots:r,selectedSlots:{},currentMask:0}},props:{mask:{type:Number,required:!1},displayAllNone:{type:Boolean,required:!1,default:!0},skipDuplicateSlots:{type:Boolean,required:!1,default:!1},showTextTop:{type:Boolean,required:!1,default:!0},centeredButtons:{type:Boolean,required:!1,default:!0},imageSize:{type:Number,required:!1,default:50}},mounted:function(){this.currentMask=parseInt(this.mask),this.calculateFromBitmask()},watch:{mask:{immediate:!0,handler:function(e,t){this.currentMask=parseInt(this.mask),this.calculateFromBitmask()}}},methods:{getImageSize:function(){return l.a.format("width: %spx; height %spx;",this.imageSize,this.imageSize)},isSlotSkipped:function(e){if(!this.skipDuplicateSlots)return!1;if(this.skipDuplicateSlots){if(e=parseInt(e),e===s.EAR_2)return!0;if(e===s.BRACER_2)return!0;if(e===s.RING_2)return!0}},selectAll:function(){var e=this;Object.keys(this.slots).reverse().forEach((function(t){e.selectedSlots[t]=!0})),this.$forceUpdate(),this.calculateToBitmask()},selectNone:function(){var e=this;Object.keys(this.slots).reverse().forEach((function(t){e.selectedSlots[t]=!1})),this.$forceUpdate(),this.calculateToBitmask()},selectSlot:function(e){e=parseInt(e),this.selectedSlots[e]=!this.selectedSlots[e];var t={};t[s.EAR_1]=s.EAR_2,t[s.EAR_2]=s.EAR_1,t[s.BRACER_1]=s.BRACER_2,t[s.BRACER_2]=s.BRACER_1,t[s.RING_1]=s.RING_2,t[s.RING_2]=s.RING_1,t[e]&&(this.selectedSlots[t[e]]=this.selectedSlots[e]),this.$forceUpdate(),this.calculateToBitmask()},isSlotSelected:function(e){return this.selectedSlots[e]},calculateFromBitmask:function(){var e=this;Object.keys(this.slots).reverse().forEach((function(t){var n=e.slots[t];e.selectedSlots[t]=!1,e.currentMask>=n.mask&&(e.currentMask-=n.mask,e.selectedSlots[t]=!0)})),this.$forceUpdate()},calculateToBitmask:function(){var e=this,t=0;Object.keys(this.slots).reverse().forEach((function(n){var a=e.slots[n];e.selectedSlots[n]&&(t+=parseInt(a.mask))})),this.$emit("update:inputData",parseInt(t)),this.$emit("input",parseInt(t)),this.$emit("fired","true")}}},d=u,h=n("2877"),p=Object(h["a"])(d,a,i,!1,null,null,null);t["a"]=p.exports},"646b":function(e,t,n){"use strict";n("7f7f");var a=function(){var e=this,t=e._self._c;return e.spell?t("div",{staticClass:"d-inline-block"},[t("div",{attrs:{id:e.spell.id+"-"+e.popoverId+"-popover"}},[t("span",{class:"d-inline-block spell-"+e.spell.new_icon+e.getIconClassLabelFromSize(),style:e.getBorderStyling(),attrs:{title:e.spell.icon}}),t("span",{class:e.getLeftMargin(),style:"position:relative;"+e.getTextTopOffset()},[e._v(e._s(e.clampSpellName(e.spell.name))+" "+e._s(e.annotation))])]),t("b-popover",{staticStyle:{width:"500px !important"},attrs:{target:e.spell.id+"-"+e.popoverId+"-popover","custom-class":"no-bg",placement:"right",delay:"0",boundary:"viewport","no-fade":!0,triggers:"hover focus"}},[t("eq-window",{staticStyle:{width:"auto",height:"100%"}},[t("eq-spell-preview",{attrs:{"spell-data":e.spell}})],1)],1)],1):e._e()},i=[],r=(n("6b54"),n("c5f6"),n("935a")),s=n("adf0"),c=n("0329"),o={name:"SpellPopover",props:{spell:Object,size:{type:[Number,String],required:!1,default:40},spellNameLength:{type:Number,required:!1},annotation:{type:String,required:!1,default:""}},watch:{spell:{deep:!0,handler:function(){}}},data:function(){return{popoverId:Math.random().toString(16).slice(2),spellEffectInfo:[],spellData:{},sideLoadedSpellData:{},reagents:[]}},methods:{truncate:function(e,t){return e.length>t?e.substring(0,t)+"...":e},clampSpellName:function(e){return this.spellNameLength?this.truncate(e,this.spellNameLength):e},getLeftMargin:function(){return this.size<=12||this.size<=20?"ml-2":(this.size,"ml-3")},getIconClassLabelFromSize:function(){return this.size<=12?"-12":this.size<=20?"-20":this.size<=30?"-30":"-40"},getBorderStyling:function(){return this.size<=12?" border: 1px solid "+this.getTargetTypeColor():this.size<=20?"position: relative; top: 5px; border-radius: 5px; border: .5px solid "+this.getTargetTypeColor():(this.size,"border-radius: 5px; border: 1px solid "+this.getTargetTypeColor())},getTextTopOffset:function(){return this.size<=12?"top: -3px":this.size<=20?"top: 0px":this.size<=30?"top: -10px":"top: -15px"},getTargetTypeColor:function(){return c["a"].getTargetTypeColor(this.spell["targettype"])}},mounted:function(){this.sideLoadedSpellData=c["a"].data},components:{EqSpellPreview:s["a"],EqSpellCardPreview:s["a"],EqWindow:r["a"]}},l=o,u=n("2877"),d=Object(u["a"])(l,a,i,!1,null,null,null);t["a"]=d.exports},6542:function(e,t,n){"use strict";n.r(t);n("7f7f"),n("386d"),n("ac6a"),n("456d");var a=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"row"},[t("div",{class:Object.keys(e.activeMerchantNpc).length>0||Object.keys(e.activeMerchantList).length>0?"col-7":"col-12"},[t("eq-window",{attrs:{title:"Merchant Editor"}},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-lg-3"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.search,expression:"search"}],staticClass:"form-control ml-2",attrs:{type:"text",placeholder:"Merchants by Name",autofocus:""},domProps:{value:e.search},on:{keyup:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.zoneSelection=0,e.searchItemName="",e.updateQueryState()},input:function(t){t.target.composing||(e.search=t.target.value)}}})]),t("div",{staticClass:"col-lg-2"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.searchItemName,expression:"searchItemName"}],staticClass:"form-control ml-2",attrs:{type:"text",placeholder:"Item Name or ID"},domProps:{value:e.searchItemName},on:{keyup:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.zoneSelection=0,e.search="",e.updateQueryState()},input:function(t){t.target.composing||(e.searchItemName=t.target.value)}}})]),t("div",{staticClass:"col-lg-2"},[t("select",{directives:[{name:"model",rawName:"v-model",value:e.zoneSelection,expression:"zoneSelection"}],staticClass:"form-control",on:{change:[function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.zoneSelection=t.target.multiple?n:n[0]},function(t){e.search="",e.searchItemName="",e.updateQueryState()}]}},[t("option",{attrs:{value:"0"}},[e._v("-- Select --")]),e._l(e.zones,(function(n){return t("option",{domProps:{value:{z:n.short_name,v:n.version}}},[e._v("\n                "+e._s(n.short_name)+" ("+e._s(n.version)+") ("+e._s(n.zoneidnumber)+") "+e._s(n.long_name)+"\n              ")])}))],2)]),t("div",{staticClass:"col-lg-5 text-center p-0 mt-1"},[t("div",{staticClass:"btn-group",attrs:{role:"group","aria-label":"Basic example"}},[t("b-button",{attrs:{title:"Search",size:"sm",variant:"outline-warning"},on:{click:function(t){return e.updateQueryState()}}},[t("i",{staticClass:"fa fa-search"}),e._v(" Search\n              ")]),t("b-button",{attrs:{title:"Show all Merchant Tables",size:"sm",variant:"outline-warning"},on:{click:function(t){e.reset(),e.showAll=!0,e.updateQueryState()}}},[t("i",{staticClass:"ra ra-emerald"}),e._v(" All\n              ")]),t("b-button",{attrs:{title:"Reset",size:"sm",variant:"outline-danger"},on:{click:function(t){e.reset(),e.updateQueryState()}}},[t("i",{staticClass:"fa fa-eraser"}),e._v(" Reset\n              ")]),t("b-button",{attrs:{title:"Create New Merchant Table",size:"sm",variant:"outline-success"},on:{click:function(t){return e.createNewMerchant()}}},[t("i",{staticClass:"ra ra-emerald"}),e._v(" New Merchant\n              ")])],1)])])]),e.loading?t("eq-window",[t("div",{staticClass:"text-center"},[e._v("\n          Loading\n          "),t("loader-fake-progress",{staticClass:"mt-3"})],1)]):e._e(),e.isNavigated()&&!e.loading&&e.ml&&0===e.ml.length&&e.merchantLists&&0===e.merchantLists.length?t("eq-window",[e._v("\n        No merchants found...\n      ")]):e._e(),!e.loading&&e.ml&&e.ml.length>0?t("eq-window",{staticClass:"p-2 mt-5",attrs:{title:"Merchants ("+e.ml.length+")"}},[t("div",{staticStyle:{"overflow-y":"scroll","max-height":"83vh"}},[t("table",{staticClass:"eq-table bordered eq-highlight-rows",staticStyle:{"font-size":"14px"}},[t("thead",{staticClass:"eq-table-floating-header"},[t("tr",[t("th",{staticStyle:{width:"80px"}}),t("th",{staticClass:"text-center",staticStyle:{width:"80px"}},[e._v("Merchant ID")]),t("th",[e._v("Merchant (NPC)")])])]),t("tbody",e._l(e.ml,(function(n,a){return t("tr",{key:"ml-"+a+"-"+n.id+"-"+n.merchant_id,attrs:{id:"ml-"+n.id},on:{mouseover:function(t){e.activeMerchantNpc=n}}},[t("td",{staticClass:"text-center"},[e.isSelector?t("b-button",{staticClass:"btn-dark btn-sm btn-dark mr-3",attrs:{title:"Select Merchant List"},on:{click:function(t){return e.selectMerchantList(n.merchant_id)}}},[t("i",{staticClass:"fa fa-arrow-left"})]):e._e(),t("b-button",{staticClass:"btn btn-dark btn-outline-success mr-2",attrs:{size:"sm",title:"Edit Merchant List"},on:{click:function(t){return e.editMerchantList(n.merchant_id)}}},[t("i",{staticClass:"fa fa-pencil-square"})])],1),t("td",{staticClass:"text-center",staticStyle:{"vertical-align":"middle"}},[e._v(e._s(n.id)+"\n              ")]),t("td",{staticClass:"text-left"},[t("npc-popover",{attrs:{"popover-enabled":!1,"limit-entries":25,"no-stats":!0,npc:n}})],1)])})),0)])])]):e._e(),!e.loading&&e.merchantLists&&e.merchantLists.length>0?t("eq-window",{staticClass:"p-2 mt-5",attrs:{title:"Merchants ("+e.totalRows+")"}},[t("div",{staticStyle:{"overflow-y":"scroll","max-height":"77vh"}},[t("table",{staticClass:"eq-table bordered eq-highlight-rows",staticStyle:{"font-size":"14px"}},[t("thead",{staticClass:"eq-table-floating-header"},[t("tr",[t("th",{staticClass:"text-center"}),t("th",{staticClass:"text-center"},[e._v("Merchant ID")]),t("th",{staticClass:"text-center"},[e._v("Item Count")]),t("th",{staticClass:"text-center"},[e._v("NPC(s) Linked to Merchant Table")])])]),t("tbody",e._l(e.merchantLists,(function(n,a){return t("tr",{key:"ml-"+a+"-"+e.n.id+"-"+e.n.merchant_id,class:e.isActiveMerchant(n)?"pulsate-highlight-white":"",attrs:{id:"ml-"+n.merchantid},on:{click:function(t){return e.showMerchantList(n)}}},[t("td",{staticClass:"text-center",staticStyle:{width:"120px"}},[e.isSelector?t("b-button",{staticClass:"btn-dark btn-sm btn-dark mr-3",attrs:{title:"Select Merchant List"},on:{click:function(t){return e.selectMerchantList(n.merchantid)}}},[t("i",{staticClass:"fa fa-arrow-left"})]):e._e(),t("b-button",{staticClass:"btn-dark btn-sm btn-outline-danger mr-3",attrs:{title:"Delete Merchant List"},on:{click:function(t){return e.deleteMerchantList(n)}}},[t("i",{staticClass:"fa fa-trash-o"})]),t("b-button",{staticClass:"btn-dark btn-sm btn-dark",attrs:{title:"Edit Merchant List"},on:{click:function(t){return e.editMerchantList(n.merchantid)}}},[t("i",{staticClass:"fa fa-edit"})])],1),t("td",{staticClass:"text-center",staticStyle:{width:"50px"}},[e._v(e._s(n.merchantid))]),t("td",{staticClass:"text-center",staticStyle:{width:"50px"}},[e._v(e._s(n.slot))]),t("td",{staticClass:"text-left"},e._l(e.associatedNpcs[n.merchantid],(function(n){return t("div",[e._v("\n                  ("+e._s(n.npc.id)+") "+e._s(e.getNpcCleanName(n.npc.name))+" "+e._s(n.npc.lastname?"(".concat(n.npc.lastname,")"):"")+"\n                  ("+e._s(n.zone)+")\n\n                ")])})),0)])})),0)])]),t("div",{staticClass:"row text-center justify-content-center"},[t("div",{staticClass:"col-12 text-center mt-3"},[t("b-pagination",{staticClass:"mb-1",attrs:{"total-rows":e.totalRows,"hide-ellipsis":!0,"per-page":100},on:{change:e.paginate},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1)])]):e._e()],1),e.activeMerchantList&&Object.keys(e.activeMerchantList).length>0?t("div",{staticClass:"col-5"},[t("eq-window",{attrs:{title:"Merchant List Preview (".concat(e.activeMerchantList[0].merchantid,")")}},[t("div",{staticStyle:{"max-height":"92vh","overflow-y":"scroll","overflow-x":"hidden"}},[t("table",{staticClass:"eq-table eq-highlight-rows minified-inputs",staticStyle:{width:"95%"}},[t("thead",[t("tr",[t("th",[e._v("Item")])])]),t("tbody",e._l(e.activeMerchantList,(function(n,a){return e.itemData[n.item]?t("tr",{key:n.slot+"-"+n.item},[t("td",[e.itemData[n.item]&&Object.keys(e.itemData[n.item]).length>0?t("item-popover",{staticClass:"d-inline-block",attrs:{item:e.itemData[n.item],size:"sm"}}):e._e(),e._v("\n\n                "+e._s(e.itemData[n.item]&&e.itemData[n.item].stacksize>0?"(".concat(e.itemData[n.item].stacksize,")"):"")+"\n                "),e.itemData[n.item]?t("eq-cash-display",{staticClass:"ml-1",attrs:{price:parseInt(e.itemData[n.item].price)}}):e._e()],1)]):e._e()})),0)])])])],1):e._e(),t("div",{class:Object.keys(e.activeMerchantNpc).length>0?"col-5":"col-12"},[Object.keys(e.activeMerchantNpc).length>0?t("eq-window",{staticStyle:{"max-height":"95vh","overflow-y":"scroll","overflow-x":"hidden"}},[t("eq-npc-card-preview",{attrs:{npc:e.activeMerchantNpc,"no-stats":!0,"limit-entries":1e3}})],1):e._e()],1)])])},i=[],r=(n("ac4d"),n("8a81"),n("5df3"),n("1c4c"),n("6b54"),n("9a04")),s=n("75fc"),c=(n("96cf"),n("3b8d")),o=n("9814"),l=n("02f6"),u=n("935a"),d=n("cc79"),h=n("fb61"),p=n("80b0"),f=n("a006"),m=n("d970"),v=n("cd97"),g=n("a78e"),b=n("5201"),y=n("46f9"),_=n("dd86"),w=n("3ace"),k=n("a7a1"),C=n("0d95"),x=n("e40e"),E=n("0c83"),S=n("01de"),N=n("35d0"),I=n("76a5"),A=n("3022"),M=n.n(A);function O(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=R(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,i=function(){};return{s:i,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){c=!0,r=e},f:function(){try{s||null==n.return||n.return()}finally{if(c)throw r}}}}function R(e,t){if(e){if("string"==typeof e)return T(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?T(e,t):void 0}}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}var L={name:"Merchants",components:{MerchantEdit:I["default"],MerchantlistEntryEdit:N["a"],ItemSelector:w["a"],EqDebug:_["a"],EqCheckbox:y["a"],EqCashDisplay:g["a"],ItemPopover:v["a"],EqNpcCardPreview:f["a"],NpcPopover:h["a"],LoaderFakeProgress:d["a"],EqWindow:u["a"],ContentArea:l["a"]},created:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.loadQueryState(),this.ml=[],this.editList=[],this.itemData={},this.merchantLists=[],this.associatedNpcs={},this.editMerchantEntry={},e.next=9,o["a"].getZones();case 9:this.zones=e.sent,this.init();case 11:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),props:{isSelector:{type:Boolean,required:!1,default:!1}},data:function(){return{currentPage:1,totalRows:0,search:"",searchItemName:"",zoneSelection:0,loading:!1,selectorActive:{},lastResetTime:Date.now(),showAll:!1,activeMerchantNpc:{},activeMerchantList:{},zones:[]}},watch:{$route:function(){this.reset(),this.loadQueryState(),this.init()}},methods:{paginate:function(){var e=this;setTimeout((function(){console.log("We're paginating"),console.log(e.currentPage),console.log(e.totalRows),e.updateQueryState()}),100)},isNavigated:function(){return Object.keys(this.$route.query).length},createNewMerchant:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,m["a"].create();case 2:t=e.sent,200===t.status&&this.editMerchantList(t.data.merchantid);case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),deleteMerchantList:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!confirm("Are you sure you want to delete this Merchant? (".concat(t.merchantid,") with (").concat(t.slot,") items?"))){e.next=9;break}return e.next=3,m["a"].deleteMerchant(t.merchantid);case 3:return this.activeMerchantList={},this.loading=!0,e.next=7,this.showAllMerchants();case 7:this.$forceUpdate(),this.loading=!1;case 9:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),isActiveMerchant:function(e){return this.activeMerchantList&&this.activeMerchantList[0]&&e.merchantid===this.activeMerchantList[0].merchantid},getNpcCleanName:function(e){return S["a"].getCleanName(e)},showMerchantList:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){var n,a,i,r,s=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.npc_types&&t.npc_types.length>0){this.activeMerchantList=t.npc_types[0].merchantlists,n=[],a=O(this.activeMerchantList);try{for(a.s();!(i=a.n()).done;)r=i.value,r.item>0&&!this.itemData[r.item]&&n.push(r.item)}catch(o){a.e(o)}finally{a.f()}n.length>0&&setTimeout((function(){b["a"].loadItemsBulk(n).then(Object(c["a"])(regeneratorRuntime.mark((function e(){var t,n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=O(s.activeMerchantList),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=11;break}if(a=n.value,!(a.item>0)||s.itemData[a.item]){e.next=9;break}return e.next=8,b["a"].getItem(a.item);case 8:s.itemData[a.item]=e.sent;case 9:e.next=3;break;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](1),t.e(e.t0);case 16:return e.prev=16,t.f(),e.finish(16);case 19:s.$forceUpdate();case 20:case"end":return e.stop()}}),e,null,[[1,13,16,19]])}))))}),10)}case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),updateQueryState:function(){var e={};0!==this.zoneSelection&&(e.zone=JSON.stringify(this.zoneSelection)),this.showAll&&(e.showAll=this.showAll),this.currentPage>0&&(e.page=this.currentPage),""!==this.search&&(e.q=this.search),""!==this.searchItemName&&(e.s=this.searchItemName),this.$router.push({path:p["a"].MERCHANTS,query:e}).catch((function(){}))},loadQueryState:function(){"undefined"!==typeof this.$route.query.zone&&0!==this.$route.query.zone&&(this.zoneSelection=JSON.parse(this.$route.query.zone)),"undefined"!==typeof this.$route.query.q&&""!==this.$route.query.q&&(this.search=this.$route.query.q),"undefined"!==typeof this.$route.query.s&&""!==this.$route.query.s&&(this.searchItemName=this.$route.query.s),"undefined"!==typeof this.$route.query.page&&0!==parseInt(this.$route.query.page)&&(this.currentPage=parseInt(this.$route.query.page)),"undefined"!==typeof this.$route.query.showAll&&this.$route.query.showAll&&(this.showAll=!0)},init:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.activeMerchantNpc={},this.ml=[],this.loading=!0,t=this.zoneSelection,!(Object.keys(this.zoneSelection).length>0)){e.next=8;break}return e.next=7,m["a"].getMerchantsByZone(t.z,t.v);case 7:this.ml=e.sent;case 8:if(!(this.search.length>0)){e.next=12;break}return e.next=11,m["a"].getMerchantsByName(this.search);case 11:this.ml=e.sent;case 12:if(!(this.searchItemName.length>0)){e.next=16;break}return e.next=15,m["a"].getMerchantsByItemName(this.searchItemName);case 15:this.ml=e.sent;case 16:if(!this.showAll){e.next=19;break}return e.next=19,this.showAllMerchants();case 19:console.log("triggering force update"),this.$forceUpdate(),this.loading=!1;case 22:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),showAllMerchants:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t,n,a,i,c,o,l,u,d,h,p,f,v,g,b,y;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(console.log("show all"),0!==this.totalRows){e.next=5;break}return e.next=4,m["a"].getTotalMerchants();case 4:this.totalRows=e.sent;case 5:return e.next=7,Object(r["a"])(k["MerchantlistApi"],Object(s["a"])(C["SpireApi"].cfg())).listMerchantlists((new x["a"]).groupBy(["merchantid"]).orderBy(["merchantid"]).orderDirection("desc").limit(100).page(this.currentPage).get());case 7:t=e.sent,n=[],200===t.status&&(n=t.data.map((function(e){return e.merchantid}))),a=[],i=O(Object(E["a"])(n,500)),e.prev=12,i.s();case 14:if((c=i.n()).done){e.next=22;break}return o=c.value,e.next=18,m["a"].getMerchantsBulk(o,["NpcTypes.Spawnentries.Spawngroup.Spawn2","NpcTypes.Merchantlists"]);case 18:l=e.sent,a=[].concat(Object(s["a"])(a),Object(s["a"])(l));case 20:e.next=14;break;case 22:e.next=27;break;case 24:e.prev=24,e.t0=e["catch"](12),i.e(e.t0);case 27:return e.prev=27,i.f(),e.finish(27);case 30:if(200===t.status){this.merchantLists=a,this.associatedNpcs={},u=O(a);try{for(u.s();!(d=u.n()).done;)if(h=d.value,h.npc_types&&h.npc_types.length>0){p=O(h.npc_types);try{for(p.s();!(f=p.n()).done;)if(v=f.value,v.spawnentries&&v.spawnentries.length>0){g=O(v.spawnentries);try{for(g.s();!(b=g.n()).done;)y=b.value,y.spawngroup&&y.spawngroup.spawn_2&&("undefined"===typeof this.associatedNpcs[h.merchantid]&&(this.associatedNpcs[h.merchantid]=[]),this.associatedNpcs[h.merchantid].push({npc:v,zone:y.spawngroup.spawn_2.zone}))}catch(_){g.e(_)}finally{g.f()}}}catch(_){p.e(_)}finally{p.f()}}}catch(_){u.e(_)}finally{u.f()}}case 31:case"end":return e.stop()}}),e,this,[[12,24,27,30]])})));function t(){return e.apply(this,arguments)}return t}(),editMerchantList:function(e){console.log("[MerchantSubEditor] Editing [%s]",e),console.log(this.$router.query),this.$router.push({path:M.a.format(p["a"].MERCHANT_EDIT,e),query:{return:JSON.stringify(this.$route.query)}}).catch((function(){}))},selectMerchantList:function(e){console.log("[MerchantSubEditor] Selecting [%s]",e),this.$emit("input",e)},reset:function(){this.showAll=!1,this.search="",this.searchItemName="",this.zoneSelection=0,this.editMerchantEntry={},this.editMerchantEntrySlot=0,this.activeMerchantNpc={},this.ml=[],this.merchantLists=[],this.activeMerchantList=[],this.associatedNpcs={}}}},P=L,q=(n("2ed4"),n("2877")),D=Object(q["a"])(P,a,i,!1,null,null,null);t["default"]=D.exports},"73b7":function(e,t,n){"use strict";var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"d-inline-block"},[e.filterData.min_expansion>0?t("div",{staticClass:"d-inline-block ml-3"},[t("expansion-icon",{attrs:{expansion:e.filterData.min_expansion,title:"Minimum Expansion Required "}})],1):e._e(),e.filterData.max_expansion>0?t("div",{staticClass:"d-inline-block ml-3"},[t("expansion-icon",{attrs:{expansion:e.filterData.max_expansion,title:"Max Expansion Required "}})],1):e._e(),t("content-flag-pills",{attrs:{"flags-enabled":e.filterData.content_flags}}),t("content-flag-pills",{attrs:{"flags-disabled":e.filterData.content_flags_disabled}})],1)},i=[],r=n("7eeb"),s=n("a332"),c={name:"ContentFilterDisplayPills",components:{ExpansionIcon:s["a"],ContentFlagPills:r["a"]},props:{filterData:{type:Object,required:!0}}},o=c,l=n("2877"),u=Object(l["a"])(o,a,i,!1,null,"fe0c6456",null);t["a"]=u.exports},7514:function(e,t,n){"use strict";var a=n("5ca1"),i=n("0a49")(5),r="find",s=!0;r in[]&&Array(1)[r]((function(){s=!1})),a(a.P+a.F*s,"Array",{find:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),n("9c6c")(r)},"76a5":function(e,t,n){"use strict";n.r(t);n("ac6a"),n("456d");var a=function(){var e=this,t=e._self._c;return t("content-area",{staticStyle:{padding:"0px !important"}},[t("div",{staticClass:"row"},[t("div",{class:Object.keys(e.editMerchantEntry).length>0||e.addItem?"col-7":"col-12"},[t("eq-window",{staticClass:"pr-0",attrs:{title:"Edit Merchant (".concat(e.editMerchantId,")")}},[e.editList&&0===e.editList.length?t("div",{staticClass:"font-weight-bold mb-3"},[e._v("\n          There are no items on this Merchant, perhaps you should add some?\n        ")]):e._e(),t("div",{staticClass:"row mb-1"},[t("div",{staticClass:"col-6"},[t("div",{staticClass:"btn-group d-inline-block",attrs:{role:"group"}},[t("b-button",{attrs:{size:"sm",variant:"warning"},on:{click:e.goBack}},[t("i",{staticClass:"fa fa-arrow-left mr-1"}),e._v("\n                Go back to Merchants\n              ")]),t("b-button",{attrs:{size:"sm",variant:"outline-warning btn-dark"},on:{click:function(t){return e.addItemToMerchantListQueue()}}},[t("i",{staticClass:"fa fa-plus mr-1"}),e._v("\n                Add Item\n              ")]),e.editList&&e.editList[0]?t("b-button",{staticClass:"btn-dark btn-sm btn-outline-danger mr-3",attrs:{title:"Delete Merchant List"},on:{click:function(t){return e.deleteMerchantListFromEdit(e.editList[0])}}},[t("i",{staticClass:"fa fa-trash-o"}),e._v(" Delete Merchant\n              ")]):e._e()],1)]),e.applyingChanges?e._e():t("div",{staticClass:"col-6"},[t("div",[t("info-error-banner",{staticClass:"mt-0",attrs:{slim:!0,notification:e.notification,error:e.error},on:{"dismiss-error":function(t){e.error=""},"dismiss-notification":function(t){e.notification=""}}})],1)]),e.applyingChanges?t("div",{staticClass:"col-6 text-right"},[t("div",{staticClass:"ml-3 p-0 m-0"},[e._v("\n              Applying\n              "),t("loader-fake-progress",{staticClass:"ml-3 mt-2 d-inline-block"})],1)]):e._e()]),e.editList&&e.editList.length>0?t("div",{staticStyle:{height:"87vh","overflow-y":"scroll"}},[t("table",{staticClass:"eq-table bordered eq-highlight-rows minified-inputs"},[t("thead",{staticClass:"eq-table-floating-header"},[t("tr",[t("th",{staticClass:"text-center",staticStyle:{width:"120px"}},[e._v("Actions")]),t("th",{staticClass:"text-center",staticStyle:{width:"50px"}},[e._v("Slot")]),t("th",[e._v("Item")])])]),t("tbody",e._l(e.editList,(function(n,a){return t("tr",{key:n.slot+"-"+n.item,class:e.isMerchantEntrySelected(n)?"pulsate-highlight-white":""},[t("td",{staticClass:"text-left p-0"},[t("b-button",{staticClass:"btn-dark btn-sm btn-outline-danger ml-1",staticStyle:{padding:"0px 6px"},attrs:{variant:"primary",title:"Delete",disabled:e.applyingChanges},on:{click:function(t){return e.deleteMerchantRow(n)}}},[t("i",{staticClass:"fa fa-trash"})]),t("b-button",{staticClass:"btn-dark btn-sm btn-outline-success ml-1",staticStyle:{padding:"0px 6px"},attrs:{variant:"primary",title:"Edit",disabled:e.applyingChanges},on:{click:function(t){return e.editMerchantRow(n)}}},[t("i",{staticClass:"fa fa-pencil"})]),e.editList[a-1]?t("b-button",{staticClass:"btn-dark btn-sm btn-outline-light ml-1",staticStyle:{padding:"0px 6px"},attrs:{variant:"primary",title:"Move slot up",disabled:e.applyingChanges},on:{click:function(t){return e.moveSlotUp(n)}}},[t("i",{staticClass:"fa fa-arrow-up"})]):e._e(),e.editList[a+1]?t("b-button",{staticClass:"btn-dark btn-sm btn-outline-light ml-1",staticStyle:{padding:"0px 6px"},attrs:{variant:"primary",title:"Move slot down",disabled:e.applyingChanges},on:{click:function(t){return e.moveSlotDown(n)}}},[t("i",{staticClass:"fa fa-arrow-down"})]):e._e()],1),t("td",{staticClass:"text-center p-0"},[e._v("\n                "+e._s(n.slot)+"\n              ")]),t("td",{style:e.applyingChanges?"opacity: .2":""},[t("b-button",{staticClass:"btn-dark btn-sm btn-outline-success mr-3",staticStyle:{padding:"0px 6px"},attrs:{variant:"primary",title:"Edit Item"},on:{click:function(t){return e.editItem(n.item)}}},[t("i",{staticClass:"fa fa-pencil-square"})]),e.itemData[n.item]&&Object.keys(e.itemData[n.item]).length>0?t("item-popover",{staticClass:"d-inline-block",attrs:{item:e.itemData[n.item],size:"sm"}}):e._e(),e._v("\n\n                "+e._s(e.itemData[n.item]&&e.itemData[n.item].stacksize>0?"(".concat(e.itemData[n.item].stacksize,")"):"")+"\n                "),e.itemData[n.item]?t("eq-cash-display",{staticClass:"ml-3",attrs:{price:parseInt(e.itemData[n.item].price)}}):e._e(),t("content-filter-display-pills",{attrs:{"filter-data":n}})],1)])})),0)])]):e._e()])],1),t("merchantlist-entry-edit",{key:e.resetTime,attrs:{"edit-merchant-entry":e.editMerchantEntry,"edit-merchant-entry-slot":e.editMerchantEntrySlot}}),e.addItem?t("div",{staticClass:"col-5"},[t("item-selector",{on:{input:function(t){return e.addItemToMerchantList(t)}}})],1):e._e()],1)])},i=[],r=(n("ac4d"),n("8a81"),n("5df3"),n("1c4c"),n("7f7f"),n("6b54"),n("768b")),s=(n("7514"),n("96cf"),n("3b8d")),c=n("935a"),o=n("a78e"),l=n("cd97"),u=n("cc79"),d=n("d970"),h=n("02f6"),p=n("80b0"),f=n("9814"),m=n("3022"),v=n.n(m),g=n("5201"),b=n("3ace"),y=n("35d0"),_=n("a332"),w=n("7eeb"),k=n("73b7"),C=n("5afa");function x(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=E(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,i=function(){};return{s:i,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){c=!0,r=e},f:function(){try{s||null==n.return||n.return()}finally{if(c)throw r}}}}function E(e,t){if(e){if("string"==typeof e)return S(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?S(e,t):void 0}}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}var N={name:"MerchantEdit",components:{InfoErrorBanner:C["a"],ContentFilterDisplayPills:k["a"],ContentFlagPills:w["a"],ExpansionIcon:_["a"],MerchantlistEntryEdit:y["a"],ItemSelector:b["a"],ContentArea:h["a"],LoaderFakeProgress:u["a"],ItemPopover:l["a"],EqCashDisplay:o["a"],EqWindow:c["a"]},data:function(){return{editMerchantId:0,editMerchantEntrySlot:0,notification:"",error:"",addItem:!1,loading:!1,applyingChanges:!1,returnQuery:{},resetTime:0}},watch:{$route:function(){this.reset(),this.loadQueryState(),this.init()}},created:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.loadQueryState(),this.ml=[],this.editList=[],this.itemData={},this.merchantLists=[],this.associatedNpcs={},this.editMerchantEntry={},e.next=9,f["a"].getZones();case 9:this.zones=e.sent,this.init();case 11:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),methods:{editItem:function(e){this.$router.push({path:v.a.format(p["a"].ITEM_EDIT,e),query:{}}).catch((function(){}))},goBack:function(){console.log(this.$route.query.return0),this.$router.push({path:p["a"].MERCHANTS,query:JSON.parse(this.$route.query.return)}).catch((function(){}))},reset:function(){this.editMerchantId=0,this.editMerchantEntrySlot=0,this.editMerchantEntry={},this.addItem=!1,this.resetTime=Date.now(),this.returnQuery={}},init:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,n,a,i,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.ml=[],this.loading=!0,console.log(this.editMerchantId),!(this.editMerchantId>0)){e.next=9;break}if(console.log("[MerchantSubEditor] Editing merchant [%s]",this.editMerchantId),t=this.editList.find((function(e){return e.merchantid===parseInt(r.editMerchantId)})),"undefined"!==typeof t){e.next=9;break}return e.next=9,this.loadEditMerchant();case 9:if(console.log("this.editMerchantEntrySlot",this.editMerchantEntrySlot),this.editMerchantEntrySlot){console.log("[MerchantSubEditor] Editing merchant entry slot [%s]",this.editMerchantEntrySlot),n=x(this.editList);try{for(n.s();!(a=n.n()).done;)i=a.value,i.slot===parseInt(this.editMerchantEntrySlot)&&(this.editMerchantEntry=i)}catch(s){n.e(s)}finally{n.f()}}if(!this.showAll){e.next=14;break}return e.next=14,this.showAllMerchants();case 14:console.log("triggering force update"),this.$forceUpdate(),this.loading=!1;case 17:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),loadEditMerchant:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,n,a,i,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,d["a"].getById(this.editMerchantId);case 2:this.editList=e.sent,t=[],n=x(this.editList);try{for(n.s();!(a=n.n()).done;)i=a.value,i.item>0&&!this.itemData[i.item]&&t.push(i.item)}catch(c){n.e(c)}finally{n.f()}t.length>0&&g["a"].loadItemsBulk(t).then(Object(s["a"])(regeneratorRuntime.mark((function e(){var t,n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=x(r.editList),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=11;break}if(a=n.value,!(a.item>0)||r.itemData[a.item]){e.next=9;break}return e.next=8,g["a"].getItem(a.item);case 8:r.itemData[a.item]=e.sent;case 9:e.next=3;break;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](1),t.e(e.t0);case 16:return e.prev=16,t.f(),e.finish(16);case 19:r.$forceUpdate();case 20:case"end":return e.stop()}}),e,null,[[1,13,16,19]])}))));case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),updateQueryState:function(){var e={};this.addItem&&(e.addItem=this.addItem),0!==this.editMerchantEntrySlot&&(e.e=this.editMerchantEntrySlot),"undefined"!==typeof this.$route.query.return&&(e.return=this.$route.query.return),this.$router.push({path:v.a.format(p["a"].MERCHANT_EDIT,this.editMerchantId),query:e}).catch((function(){}))},loadQueryState:function(){"undefined"!==typeof this.$route.params.id&&0!==this.$route.params.id&&(this.editMerchantId=parseInt(this.$route.params.id)),"undefined"!==typeof this.$route.query.e&&0!==parseInt(this.$route.query.e)&&(this.editMerchantEntrySlot=parseInt(this.$route.query.e)),"undefined"!==typeof this.$route.query.addItem&&this.$route.query.addItem&&(this.addItem=!0),"undefined"!==typeof this.$route.query.return&&this.$route.query.return&&(this.returnQuery=this.$route.query.return)},deleteMerchantListFromEdit:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!confirm("Are you sure you want to delete this Merchant? (".concat(t.merchantid,") with (").concat(t.slot,") items?"))){e.next=4;break}return e.next=3,d["a"].deleteMerchant(t.merchantid);case 3:this.refreshMerchantlistEntries();case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),addItemToMerchantListQueue:function(){this.editMerchantEntry={},this.editMerchantEntrySlot=0,console.log("[MerchantSubEditor] Queue adding new item (sub editor)"),this.addItem=!0,this.updateQueryState()},reorderItems:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,n,a,i,s,c,o,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:console.log("[MerchantSubEditor] Reordering items"),this.applyingChanges=!0,e.prev=2,t=0,n=x(this.editList.entries()),e.prev=5,n.s();case 7:if((a=n.n()).done){e.next=23;break}if(i=Object(r["a"])(a.value,2),s=i[0],c=i[1],0===s&&1!==parseInt(c.slot)&&(t=1),console.log("i [%s] slot [%s]",s,c.slot),this.editList[s+1]&&this.editList[s]&&(o=this.editList[s+1].slot-this.editList[s].slot>1,o&&0===t&&(t=this.editList[s].slot)),!(t>0)){e.next=20;break}if(l=JSON.parse(JSON.stringify(this.editList[s])),l.slot=t,this.editList[s].slot===t){e.next=20;break}return e.next=18,d["a"].deleteMerchantEntry(c.merchantid,c.slot);case 18:return e.next=20,d["a"].addMerchantListEntry(l);case 20:0!==t&&t++;case 21:e.next=7;break;case 23:e.next=28;break;case 25:e.prev=25,e.t0=e["catch"](5),n.e(e.t0);case 28:return e.prev=28,n.f(),e.finish(28);case 31:e.next=36;break;case 33:e.prev=33,e.t1=e["catch"](2),e.t1.response&&e.t1.response.data&&e.t1.response.data.error&&(this.error="Error! "+e.t1.response.data.error);case 36:this.applyingChanges=!1;case 37:case"end":return e.stop()}}),e,this,[[2,33],[5,25,28,31]])})));function t(){return e.apply(this,arguments)}return t}(),editMerchantRow:function(e){console.log("[MerchantSubEditor] Editing merchant row slot [%s]",e.slot),this.addItem=!1,this.editMerchantEntrySlot=e.slot,this.updateQueryState(),this.$forceUpdate()},deleteMerchantRow:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("[MerchantSubEditor] Deleting merchant row slot [%s]",t.slot),this.resetNotifications(),e.prev=2,e.next=5,d["a"].deleteMerchantEntry(t.merchantid,t.slot);case 5:this.notification="Entry deleted!",e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](2),e.t0.response&&e.t0.response.data&&e.t0.response.data.error&&(this.error="Error! "+e.t0.response.data.error);case 11:this.editList=this.editList.filter((function(e){return e.slot!==t.slot})),this.refreshMerchantlistEntries();case 13:case"end":return e.stop()}}),e,this,[[2,8]])})));function t(t){return e.apply(this,arguments)}return t}(),refreshMerchantlistEntries:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.applyingChanges=!0,setTimeout(Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.reorderItems();case 2:t.editList=[],t.editMerchantEntrySlot=0,t.init();case 5:case"end":return e.stop()}}),e)}))),1);case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),resetNotifications:function(){this.notification="",this.error=""},addItemToMerchantList:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n,a,i,r,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=t.id,a=this.editList[this.editList.length-1]?this.editList[this.editList.length-1].slot+1:1,this.resetNotifications(),i=x(this.editList),e.prev=4,i.s();case 6:if((r=i.n()).done){e.next=13;break}if(s=r.value,s.item!==n){e.next=11;break}return this.error="Error: Item already added to Merchant!",e.abrupt("return");case 11:e.next=6;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e["catch"](4),i.e(e.t0);case 18:return e.prev=18,i.f(),e.finish(18);case 21:return e.prev=21,e.next=24,d["a"].addItemToMerchant(parseInt(this.editMerchantId),a,n);case 24:this.notification="Item added to Merchant!",e.next=30;break;case 27:e.prev=27,e.t1=e["catch"](21),e.t1.response&&e.t1.response.data&&e.t1.response.data.error&&(this.error="Error! "+e.t1.response.data.error);case 30:this.refreshMerchantlistEntries();case 31:case"end":return e.stop()}}),e,this,[[4,15,18,21],[21,27]])})));function t(t){return e.apply(this,arguments)}return t}(),moveEntry:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,n){var a,i,s,c,o,l,u,h,p,f,m,v,g;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=x(this.editList.entries()),e.prev=1,a.s();case 3:if((i=a.n()).done){e.next=32;break}if(s=Object(r["a"])(i.value,2),c=s[0],s[1],!this.editList[c]||this.editList[c].slot!==t.slot){e.next=30;break}if(o=0,"up"===n&&(o=c-1),"down"===n&&(o=c+1),console.log("we found the slot to move! [%s]",t.slot),!this.editList[o]){e.next=30;break}return l=JSON.parse(JSON.stringify(t)),u=JSON.parse(JSON.stringify(this.editList[o])),h=l.slot,p=u.slot,f=l.item,m=l,m.slot=p,m.item=-1,e.next=21,d["a"].updateSlotForEntry(t.merchantid,p,m);case 21:return v=u,v.slot=h,e.next=25,d["a"].updateSlotForEntry(t.merchantid,h,v);case 25:return g=l,m.slot=p,m.item=f,e.next=30,d["a"].updateSlotForEntry(t.merchantid,p,g);case 30:e.next=3;break;case 32:e.next=37;break;case 34:e.prev=34,e.t0=e["catch"](1),a.e(e.t0);case 37:return e.prev=37,a.f(),e.finish(37);case 40:return e.next=42,this.refreshMerchantlistEntries();case 42:case"end":return e.stop()}}),e,this,[[1,34,37,40]])})));function t(t,n){return e.apply(this,arguments)}return t}(),moveSlotUp:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.moveEntry(t,"up");case 2:console.log("[MerchantSubEditor] moveSlotUp [%s]",t.slot);case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),moveSlotDown:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.moveEntry(t,"down");case 2:console.log("[MerchantSubEditor] moveSlotDown [%s]",t.slot);case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),isMerchantEntrySelected:function(e){return e.slot===this.editMerchantEntry.slot}}},I=N,A=n("2877"),M=Object(A["a"])(I,a,i,!1,null,"6a5ef8fc",null);t["default"]=M.exports},"78ff":function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return i}));var a=["Classic","The Ruins of Kunark","The Scars of Velious","The Shadows of Luclin","The Planes of Power","The Legacy of Ykesha","Lost Dungeons of Norrath","Gates of Discord","Omens of War","Dragons of Norrath","Depths of Darkhollow","Prophecy of Ro","The Serpent's Spine","The Buried Sea","Secrets of Faydwer","Seeds of Destruction","Underfoot","House of Thule","Veil of Alaris","Rain of Fear","Call of the Forsaken","The Darkened Sea","The Broken Mirror","Empires of Kunark","Ring of Scale","The Burning Lands","Torment of Velious"],i={0:{name:"Classic",mask:0,icon:"original.gif"},1:{name:"The Ruins of Kunark",mask:1,icon:"kunarkicon.gif"},2:{name:"The Scars of Velious",mask:2,icon:"veliousicon.gif"},3:{name:"The Shadows of Luclin",mask:4,icon:"luclinicon.gif"},4:{name:"The Planes of Power",mask:8,icon:"powericon.gif"},5:{name:"The Legacy of Ykesha",mask:16,icon:"ykeshaicon.gif"},6:{name:"Lost Dungeons of Norrath",mask:32,icon:"ldonicon.gif"},7:{name:"Gates of Discord",mask:64,icon:"gatesicon.gif"},8:{name:"Omens of War",mask:128,icon:"omensicon.gif"},9:{name:"Dragons of Norrath",mask:256,icon:"donicon.gif"},10:{name:"Depths of Darkhollow",mask:512,icon:"dodicon.png"},11:{name:"Prophecy of Ro",mask:1024,icon:"poricon.png"},12:{name:"The Serpent's Spine",mask:2048,icon:"serpsicon.gif"},13:{name:"The Buried Sea",mask:4096,icon:"buried.gif"},14:{name:"Secrets of Faydwer",mask:8192,icon:"secrets.gif"},15:{name:"Seeds of Destruction",mask:16384,icon:"seedsofdestruction.gif"},16:{name:"Underfoot",mask:32768,icon:"underfoot.gif"},17:{name:"House of Thule",mask:65536,icon:"thule.gif"},18:{name:"Veil of Alaris",mask:131072,icon:"alaris.gif"},19:{name:"Rain of Fear",mask:262144,icon:"fear.gif"},20:{name:"Call of the Forsaken",mask:524288,icon:"calloftheforsaken.gif"},21:{name:"The Darkened Sea",mask:1048576,icon:"darkenedsea.gif"},22:{name:"The Broken Mirror",mask:2097152,icon:"brokenmirror.gif"},23:{name:"Empires of Kunark",mask:4194304,icon:"empires.gif"},24:{name:"Ring of Scale",mask:8388608,icon:"scale.gif"},25:{name:"The Burning Lands",mask:16777216,icon:"burning.gif"},26:{name:"Torment of Velious",mask:33554432,icon:"torment.gif"}}},"7dc0":function(e,t,n){"use strict";(function(e){n("4917"),n("a481"),n("55dd"),n("7f7f"),n("7514");function a(e,t){if(!(this instanceof a))return new a(e,t);if(!e||"TABLE"!==e.tagName)throw new Error("Element must be a table");this.init(e,t||{})}var i=[],r=function(e){var t;return window.CustomEvent&&"function"===typeof window.CustomEvent?t=new CustomEvent(e):(t=document.createEvent("CustomEvent"),t.initCustomEvent(e,!1,!1,void 0)),t},s=function(e,t){return e.getAttribute(t.sortAttribute||"data-sort")||e.textContent||e.innerText||""},c=function(e,t){return e=e.trim().toLowerCase(),t=t.trim().toLowerCase(),e===t?0:e<t?1:-1},o=function(e,t){return[].slice.call(e).find((function(e){return e.getAttribute("data-sort-column-key")===t}))},l=function(e,t){return function(n,a){var i=e(n.td,a.td);return 0===i?t?a.index-n.index:n.index-a.index:i}};a.extend=function(e,t,n){if("function"!==typeof t||"function"!==typeof n)throw new Error("Pattern and sort must be a function");i.push({name:e,pattern:t,sort:n})},a.prototype={init:function(e,t){var n,a,i,r,s=this;if(s.table=e,s.thead=!1,s.options=t,e.rows&&e.rows.length>0)if(e.tHead&&e.tHead.rows.length>0){for(i=0;i<e.tHead.rows.length;i++)if("thead"===e.tHead.rows[i].getAttribute("data-sort-method")){n=e.tHead.rows[i];break}n||(n=e.tHead.rows[e.tHead.rows.length-1]),s.thead=!0}else n=e.rows[0];if(n){var c=function(){s.current&&s.current!==this&&s.current.removeAttribute("aria-sort"),s.current=this,s.sortTable(this)};for(i=0;i<n.cells.length;i++)r=n.cells[i],r.setAttribute("role","columnheader"),"none"!==r.getAttribute("data-sort-method")&&(r.tabindex=0,r.addEventListener("click",c,!1),null!==r.getAttribute("data-sort-default")&&(a=r));a&&(s.current=a,s.sortTable(a))}},sortTable:function(e,t){var n=this,a=e.getAttribute("data-sort-column-key"),u=e.cellIndex,d=c,h="",p=[],f=n.thead?0:1,m=e.getAttribute("data-sort-method"),v=e.getAttribute("aria-sort");if(n.table.dispatchEvent(r("beforeSort")),t||(v="ascending"===v?"descending":"descending"===v?"ascending":n.options.descending?"descending":"ascending",e.setAttribute("aria-sort",v)),!(n.table.rows.length<2)){if(!m){while(p.length<3&&f<n.table.tBodies[0].rows.length)k=a?o(n.table.tBodies[0].rows[f].cells,a):n.table.tBodies[0].rows[f].cells[u],h=k?s(k,n.options):"",h=h.trim(),h.length>0&&p.push(h),f++;if(!p)return}for(f=0;f<i.length;f++)if(h=i[f],m){if(h.name===m){d=h.sort;break}}else if(p.every(h.pattern)){d=h.sort;break}for(n.col=u,f=0;f<n.table.tBodies.length;f++){var g,b=[],y={},_=0,w=0;if(!(n.table.tBodies[f].rows.length<2)){for(g=0;g<n.table.tBodies[f].rows.length;g++){var k;h=n.table.tBodies[f].rows[g],"none"===h.getAttribute("data-sort-method")?y[_]=h:(k=a?o(h.cells,a):h.cells[n.col],b.push({tr:h,td:k?s(k,n.options):"",index:_})),_++}for("descending"===v?b.sort(l(d,!0)):(b.sort(l(d,!1)),b.reverse()),g=0;g<_;g++)y[g]?(h=y[g],w++):h=b[g-w].tr,n.table.tBodies[f].appendChild(h)}}n.table.dispatchEvent(r("afterSort"))}},refresh:function(){void 0!==this.current&&this.sortTable(this.current,!0)}},e.exports?e.exports=a:window.Tablesort=a;var u=function(e){return e.replace(/[^\-?0-9.]/g,"")},d=function(e,t){return e=parseFloat(e),t=parseFloat(t),e=isNaN(e)?0:e,t=isNaN(t)?0:t,e-t};a.extend("number",(function(e){return e.match(/^[-+]?[\x24]?\d+\s*([,\.]\d{0,2})/)||e.match(/^[-+]?\d+\s*([,\.]\d{0,2})?[\x24]/)||e.match(/^[-+]?(\d)*-?([,\.]){0,1}-?(\d)+([E,e][\-+][\d]+)?%?$/)}),(function(e,t){return e=u(e),t=u(t),d(t,e)})),t["a"]=a}).call(this,n("dd40")(e))},"7eeb":function(e,t,n){"use strict";n("28a5");var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"d-inline-block ml-1"},[e.flagsEnabled&&e.flagsEnabled.length>0?t("div",{staticClass:"d-inline-block"},e._l(e.flagsEnabled.split(","),(function(n){return t("b-badge",{key:n,attrs:{title:"Enabled when this content flag is enabled",pill:"",variant:"warning"}},[e._v(e._s(n)+"\n    ")])})),1):e._e(),e.flagsDisabled&&e.flagsDisabled.length>0?t("div",{staticClass:"d-inline-block"},e._l(e.flagsDisabled.split(","),(function(n){return t("b-badge",{key:n,attrs:{title:"Disabled when this content flag is enabled",pill:"",variant:"danger"}},[e._v(e._s(n)+"\n    ")])})),1):e._e()])},i=[],r={name:"ContentFlagPills",props:{flagsEnabled:{type:String,required:!1},flagsDisabled:{type:String,required:!1}}},s=r,c=n("2877"),o=Object(c["a"])(s,a,i,!1,null,"f1f957d2",null);t["a"]=o.exports},8915:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a={"-1":"None",0:"Grounded",1:"Flying",2:"Levitate",3:"Water",4:"Floating",5:"Levitate While Running"}},"8bde":function(e,t,n){"use strict";n("3adf")},"8e98":function(e){e.exports=JSON.parse('{"0":"1H Slashing","1":"2H Slashing","2":"Piercing","3":"1H Blunt","4":"2H Blunt","5":"Archery","6":"Crossbow","7":"Throwing v1","8":"Shield","9":"Spell","10":"Armor","11":"Misc","12":"Lockpicks","13":"Fist","14":"Food","15":"Drink","16":"Light","17":"Combinable","18":"Bandages","19":"Throwing v2","20":"Scroll","21":"Potion","22":"Fletched Arrow","23":"Wind Instrument","24":"Stringed Instrument","25":"Brass Instrument","26":"Percussion Instrument","27":"Arrow","28":"Bolt","29":"Jewelry","30":"Skull","31":"Book","32":"Note","33":"Key v1","34":"Coin","35":"2H Piercing","36":"Fishing Pole","37":"Fishing Bait","38":"Alcohol","39":"Key v2","40":"Compass","41":"Metal Key","42":"Poison","43":"Magic Arrow","44":"Magic Bolt","45":"Hand to Hand","46":"Item Has Effect","47":"Haste Item","48":"Item Has FT","49":"Item Has Focus","50":"Singing Instrument","51":"All Instruments","52":"Charm","53":"Armor Dye","54":"Augment","55":"Augment Solvent","56":"Augment Distiller","57":"Alternate Ability","58":"Guild Banner Kit","59":"Guild Banner Modify Token","60":"Cultural Armor Recipe Book","61":"Cultural Weapon Recipe Book","62":"Book with Spell Effect","63":"Alternate Currency","64":"Perfected Augment Distiller","65":"Placeable","66":"Collectible","67":"Container","68":"Mount","69":"Illusion","70":"Familiar","71":"Unknown71","72":"Unknown72","255":"None"}')},"9e5c":function(e,t,n){"use strict";n("cbc6")},a006:function(e,t,n){"use strict";n("7f7f"),n("ac6a"),n("456d"),n("55dd"),n("6b54");var a=function(){var e=this,t=e._self._c;return e.npc?t("div",[t("span",{class:"race-models-ctn-"+e.getRaceImage(e.npc),staticStyle:{position:"absolute",right:"7%",opacity:".8",filter:"drop-shadow(10px 5px 2px #000)"}}),e.npc.d_melee_texture_1>0?t("span",{class:"mt-2 mb-2 object-ctn-"+e.npc.d_melee_texture_1,style:"position: absolute; right: "+(e.npc.d_melee_texture_2>0?25:20)+"%; top: 10px; opacity: 1; filter: drop-shadow(10px 5px 2px #000); z-index: 9999"}):e._e(),e.npc.d_melee_texture_2>0?t("span",{class:"mt-2 mb-2 object-ctn-"+e.npc.d_melee_texture_2,staticStyle:{position:"absolute",right:"20%",top:"10px",filter:"drop-shadow(10px 5px 2px #000)",opacity:".8"}}):e._e(),t("div",{staticClass:"row"},[t("div",{staticClass:"col-8"},[t("h6",{staticClass:"eq-header",staticStyle:{margin:"0px","margin-bottom":"10px"}},[e._v("\n        "+e._s(e.getCleanName())+" "+e._s(e.npc.lastname&&e.npc.lastname.length>0?"("+e.npc.lastname+")":"")+"\n      ")])]),t("div",{staticClass:"col-12"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-2 text-right font-weight-bold pr-0"},[e._v("\n          ID\n        ")]),t("div",{staticClass:"col-4 pl-3"},[e._v("\n          "+e._s(e.npc.id)+"\n        ")])]),t("div",{staticClass:"row"},[t("div",{staticClass:"col-2 text-right font-weight-bold pr-0"},[e._v("\n          Level\n        ")]),t("div",{staticClass:"col-4 pl-3"},[e._v("\n          "+e._s(e.npc.level)+"\n        ")])]),t("div",{staticClass:"row"},[t("div",{staticClass:"col-2 text-right font-weight-bold pr-0"},[e._v("\n          Class\n        ")]),t("div",{staticClass:"col-4 pl-3"},[e.getClassIcon().toString().length>0?t("span",{class:"item-"+e.getClassIcon()+"-sm",staticStyle:{display:"inline-block"}}):e._e(),t("span",{staticStyle:{position:"relative",top:"-2px"}},[e._v("\n            "+e._s(e.getClassName(e.npc.class))+" ("+e._s(e.npc.class)+")\n          ")])])]),t("div",{staticClass:"row"},[t("div",{staticClass:"col-2 text-right font-weight-bold pr-0"},[e._v("\n          Race\n        ")]),t("div",{staticClass:"col-4 pl-3"},[e.getRaceIcon().toString().length>0?t("span",{class:"item-"+e.getRaceIcon()+"-sm",staticStyle:{display:"inline-block"}}):e._e(),t("span",{staticStyle:{position:"relative",top:"-2px"}},[e._v("\n            "+e._s(e.getRaceName(e.npc.race))+" ("+e._s(e.npc.race)+")\n          ")])])]),t("div",{staticClass:"row"},[t("div",{staticClass:"col-2 text-right font-weight-bold pr-0"},[e._v("\n          Bodytype\n        ")]),t("div",{staticClass:"col-4 pl-3"},[e._v("\n          "+e._s(e.getBodytype())+" ("+e._s(e.npc.bodytype)+")\n        ")])]),e.npc.merchant_id>0?t("div",{staticClass:"row"},[t("div",{staticClass:"col-2 text-right font-weight-bold pr-0"},[e._v("\n          Merchant ID\n        ")]),t("div",{staticClass:"col-4 pl-3"},[e._v("\n          "+e._s(e.npc.merchant_id)+"\n        ")])]):e._e(),0!==e.npc.armortint_red||0!==e.npc.armortint_green||0!==e.npc.armortint_blue?t("div",{staticClass:"row"},[t("div",{staticClass:"col-2 text-right font-weight-bold pr-0"},[e._v("\n          Armor RGB\n        ")]),t("div",{staticClass:"col-4 pl-3"},[t("div",{staticClass:"mr-3",style:"width: 15px; height: 15px; margin-top: 3px; border-radius: 5px; background-color: rgb("+e.npc.armortint_red+", "+e.npc.armortint_green+", "+e.npc.armortint_blue+");"})])]):e._e()])]),e.noStats?e._e():t("div",{staticClass:"mt-4 mb-5"},e._l(e.rows,(function(n,a){return t("div",{key:a,staticClass:"row mt-3"},e._l(n.columns,(function(n,a){return t("div",{key:a,staticClass:"col-4"},e._l(n,(function(n){return"undefined"!==typeof n.showIf&&n.showIf||"undefined"===typeof n.showIf?t("div",{key:n.label,staticClass:"row"},[t("div",{staticClass:"col-8 text-left font-weight-bold pr-0"},[n.icon?t("span",{class:"item-"+n.icon+"-sm",staticStyle:{display:"inline-block"}}):e._e(),t("span",{staticStyle:{position:"relative",top:"-2px"}},[e._v("\n          "+e._s(n.label)+"\n          ")])]),t("div",{staticClass:"col-4 pl-1",staticStyle:{position:"relative",top:"-2px"}},[e._v("\n            "+e._s(parseInt(n.value)>0?e.commify(n.value):n.value)+"\n          ")])]):e._e()})),0)})),0)})),0),e.npc.special_abilities.length>0&&!e.noStats?t("div",{staticClass:"mt-3"},[t("div",{staticClass:"font-weight-bold mb-3"},[e._v("\n      This NPC has the following special abilities ("+e._s(e.parseSpecialAbilities(e.npc.special_abilities).length)+")\n    ")]),t("ul",{staticStyle:{"padding-left":"20px"}},e._l(e.parseSpecialAbilities(e.npc.special_abilities).sort((function(e,t){return e.localeCompare(t)})),(function(n){return t("li",{staticStyle:{display:"list-item","list-style-type":"circle"}},[e._v("\n        "+e._s(n)+"\n      ")])})),0)]):e._e(),e.npc.merchant_id>0?t("div",{staticClass:"mt-3"},[e.merchantitems&&e.merchantitems.length>0&&(e.merchantitems.length<e.maxDataEntries||e.showMerchantItems)?t("div",{},[t("div",{staticClass:"font-weight-bold mb-3"},[e._v("This NPC sells the following items ("+e._s(e.commify(e.merchantitems.length))+")\n        "),e.merchantitems.length>e.maxDataEntries?t("a",{attrs:{href:"javascript:void(0);"},on:{click:function(t){e.showMerchantItems=!1}}},[e._v("hide")]):e._e()]),t("table",{staticClass:"eq-table eq-highlight-rows",staticStyle:{width:"95%"}},[t("tbody",e._l(e.merchantitems,(function(n){return n.item&&"undefined"!==typeof n.item.price?t("tr",[t("td",[Object.keys(n.item).length>0&&n.item?t("item-popover",{staticClass:"d-inline-block",attrs:{item:n.item,size:"sm"}}):e._e(),e._v("\n            "+e._s(n.item.stacksize>0?"(".concat(n.item.stacksize,")"):"")+"\n\n            "),t("content-filter-display-pills",{attrs:{"filter-data":n.entry}})],1),t("td",[t("eq-cash-display",{staticClass:"ml-1",staticStyle:{"min-width":"150px"},attrs:{price:parseInt(n.item.price)}})],1)]):e._e()})),0)])]):e._e(),e.merchantitems&&e.merchantitems.length>0&&e.merchantitems.length>e.maxDataEntries&&!e.showMerchantItems?t("div",{staticClass:"font-weight-bold"},[e._v("\n      This NPC sells ("+e._s(e.commify(e.merchantitems.length))+") items, click "),t("a",{attrs:{href:"javascript:void(0);"},on:{click:function(t){e.showMerchantItems=!0}}},[e._v("here")]),e._v("\n      to view them all\n    ")]):e._e()]):e._e(),e.npc.npc_spells_id>0?t("div",{staticClass:"mt-3"},[e.castedSpells&&e.castedSpells.length>0&&(e.castedSpells.length<e.maxDataEntries||e.showCastedSpells)?t("div",{},[t("div",{staticClass:"font-weight-bold mb-3"},[e._v("This NPC casts the following spells ("+e._s(e.commify(e.castedSpells.length))+")\n        ("+e._s(e.npc.npc_spell.name)+")\n        "),e.castedSpells.length>e.maxDataEntries?t("a",{attrs:{href:"javascript:void(0);"},on:{click:function(t){e.showCastedSpells=!1}}},[e._v("hide")]):e._e()]),e._l(e.castedSpells,(function(n){return t("div",[Object.keys(n.spell).length>0&&n.spell?t("spell-popover",{staticClass:"mt-2",attrs:{spell:n.spell,size:20,"spell-name-length":25}}):e._e()],1)}))],2):e._e(),e.castedSpells&&e.castedSpells.length>0&&e.castedSpells.length>e.maxDataEntries&&!e.showCastedSpells?t("div",{staticClass:"font-weight-bold"},[e._v("\n      This NPC casts ("+e._s(e.commify(e.castedSpells.length))+") spells, click "),t("a",{attrs:{href:"javascript:void(0);"},on:{click:function(t){e.showCastedSpells=!0}}},[e._v("here")]),e._v("\n      to view them all\n    ")]):e._e()]):e._e(),e.npc.npc_spells_id>0?t("div",{staticClass:"mt-3"},[e.factionHits&&e.factionHits.length>0&&(e.factionHits.length<e.maxDataEntries||e.showFactionHits)?t("div",{},[t("div",{staticClass:"font-weight-bold mb-3"},[e._v("This NPC has the following faction hits ("+e._s(e.commify(e.factionHits.length))+")\n        "),e.factionHits.length>e.maxDataEntries?t("a",{attrs:{href:"javascript:void(0);"},on:{click:function(t){e.showFactionHits=!1}}},[e._v("hide")]):e._e()]),t("ul",{staticStyle:{"padding-left":"20px"}},e._l(e.factionHits,(function(n){return t("li",{staticStyle:{display:"list-item","list-style-type":"circle"}},[e._v("\n          "+e._s(n.name)+" ("+e._s(n.hitValue)+")\n        ")])})),0)]):e._e(),e.factionHits&&e.factionHits.length>0&&e.factionHits.length>e.maxDataEntries&&!e.showFactionHits?t("div",{staticClass:"font-weight-bold"},[e._v("\n      This NPC has ("+e._s(e.commify(e.factionHits.length))+") faction hits, click "),t("a",{attrs:{href:"javascript:void(0);"},on:{click:function(t){e.showFactionHits=!0}}},[e._v("here")]),e._v("to view them all\n    ")]):e._e()]):e._e(),e.npc.loottable_id>0?t("div",{staticClass:"mt-3"},[e.loot&&e.loot.length>0&&(e.loot.length<e.maxDataEntries||e.showLoot)?t("div",{},[t("div",{staticClass:"font-weight-bold mb-3"},[e._v("This NPC drops the following items ("+e._s(e.commify(e.loot.length))+")\n        "),e.loot.length>e.maxDataEntries?t("a",{attrs:{href:"javascript:void(0);"},on:{click:function(t){e.showLoot=!1}}},[e._v("hide")]):e._e()]),e._l(e.loot,(function(n){return t("div",[Object.keys(n.item).length>0&&n.item?t("item-popover",{staticClass:"d-inline-block",attrs:{item:n.item,size:"sm"}}):e._e()],1)}))],2):e._e(),e.loot&&e.loot.length>0&&e.loot.length>e.maxDataEntries&&!e.showLoot?t("div",{staticClass:"font-weight-bold"},[e._v("\n      This NPC drops ("+e._s(e.commify(e.loot.length))+") items, click "),t("a",{attrs:{href:"javascript:void(0);"},on:{click:function(t){e.showLoot=!0}}},[e._v("here")]),e._v("\n      to view them all\n    ")]):e._e()]):e._e(),t("eq-debug",{attrs:{data:e.npc}})],1):e._e()},i=[],r=(n("ac4d"),n("8a81"),n("5df3"),n("1c4c"),n("a481"),n("c5f6"),n("96cf"),n("3b8d")),s=n("dd86"),c=n("01de"),o=n("6023"),l=n("a50e"),u=n("573e"),d=n("8915"),h=n("cd97"),p=n("a78e"),f=n("646b"),m=n("a332"),v=n("7eeb"),g=n("73b7");function b(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=y(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,i=function(){};return{s:i,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){c=!0,r=e},f:function(){try{s||null==n.return||n.return()}finally{if(c)throw r}}}}function y(e,t){if(e){if("string"==typeof e)return _(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_(e,t):void 0}}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}var w={name:"EqNpcCardPreview",components:{ContentFilterDisplayPills:g["a"],ContentFlagPills:v["a"],ExpansionIcon:m["a"],SpellPopover:f["a"],EqCashDisplay:p["a"],ItemPopover:h["a"],EqDebug:s["a"]},data:function(){return{maxDataEntries:15,showLoot:!1,loot:{},merchantitems:[],showMerchantItems:!1,castedSpells:[],showCastedSpells:!1,factionHits:[],showFactionHits:!1,rows:this.getCardRows()}},mounted:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.init();case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),props:{npc:{type:Object,default:{},required:!0},noStats:{type:Boolean,required:!1,default:!1},limitEntries:{type:Number,required:!1,default:20}},watch:{npc:{deep:!0,handler:function(){this.init(),this.rows=this.getCardRows(),this.$forceUpdate()}}},methods:{getRaceImage:function(e){return c["a"].getRaceImage(e)},parseSpecialAbilities:function(e){return c["a"].specialAbilitiesToHuman(e)},commify:function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},getCleanName:function(){return c["a"].getCleanName(this.npc.name)},getRaceName:function(e){return o["c"][e]},getClassName:function(e){return l["a"][e]},getBodytype:function(){return u["a"][this.npc.bodytype]},getClassIcon:function(){return l["e"][this.npc.class]?l["e"][this.npc.class].icon:""},getRaceIcon:function(){return o["a"][this.npc.race]?o["a"][this.npc.race].icon:""},init:function(){if(console.log("[npc card] rendering for [%s]",this.npc.name),this.npc.merchant_id>0&&this.npc.merchantlists){var e,t=[],n=b(this.npc.merchantlists);try{for(n.s();!(e=n.n()).done;){var a=e.value;!a.items||a.items&&0===a.items.length?console.log("not a valid item"):t.push({item:a.items&&a.items.length>0?a.items[0]:{},entry:a})}}catch(C){n.e(C)}finally{n.f()}this.merchantitems=t}if(this.npc.loottable_id>0&&this.npc.loottable&&this.npc.loottable.loottable_entries){var i,r=[],s=b(this.npc.loottable.loottable_entries);try{for(s.s();!(i=s.n()).done;){var c,o=i.value,l=b(o.lootdrop.lootdrop_entries);try{var u=function(){var e=c.value;e.item&&0===r.filter((function(t){return t.item.id===e.item.id})).length&&r.push({item:e.item})};for(l.s();!(c=l.n()).done;)u()}catch(C){l.e(C)}finally{l.f()}}}catch(C){s.e(C)}finally{s.f()}this.loot=r.sort((function(e,t){return e.item.name.localeCompare(t.item.name)}))}if(this.npc.npc_spells_id>0&&this.npc.npc_spell&&this.npc.npc_spell.npc_spells_entries){var d,h=[],p=b(this.npc.npc_spell.npc_spells_entries);try{var f=function(){var e=d.value;0===h.filter((function(t){return t.spell.id===e.spells_new.id})).length&&h.push({spell:e.spells_new})};for(p.s();!(d=p.n()).done;)f()}catch(C){p.e(C)}finally{p.f()}this.castedSpells=h.sort((function(e,t){return e.spell.name.localeCompare(t.spell.name)}))}if(this.npc.npc_faction_id>0&&this.npc.npc_factions){var m,v=[],g=b(this.npc.npc_factions);try{for(g.s();!(m=g.n()).done;){var y=m.value;if(y.npc_faction_entries){var _,w=b(y.npc_faction_entries);try{var k=function(){var e=_.value;0===v.filter((function(t){return e.name===t.name})).length&&v.push({name:e.faction_list.name,hitValue:e.value})};for(w.s();!(_=w.n()).done;)k()}catch(C){w.e(C)}finally{w.f()}}}}catch(C){g.e(C)}finally{g.f()}this.factionHits=v.sort((function(e,t){return e.name.localeCompare(t.name)}))}console.log("[card preview] no stats",this.noStats),console.log("[card preview] no limit",this.limitEntries),this.limitEntries&&(this.maxDataEntries=this.limitEntries)},getCardRows:function(){return[{columns:[[{icon:"2052",label:"HP",value:this.npc["hp"],showIf:this.npc["hp"]>0},{icon:"2052",label:"(Sec) HP Regen",value:this.npc["hp_regen_per_second"],showIf:this.npc["hp_regen_per_second"]>0},{icon:"2052",label:"(Tic) HP Regen",value:this.npc["hp_regen_rate"],showIf:this.npc["hp_regen_rate"]>0},{icon:"2057",label:"Mana",value:this.npc["mana"],showIf:this.npc["mana"]>0},{icon:"2057",label:"(Tic) Mana Regen",value:this.npc["mana_regen_rate"],showIf:this.npc["mana_regen_rate"]>0}],[{icon:"5388",label:"Armor Class",value:this.npc["ac"],showIf:this.npc["ac"]>0},{icon:"1959",label:"Agility",value:this.npc["agi"],showIf:this.npc["agi"]>0},{icon:"1953",label:"Dexterity",value:this.npc["dex"],showIf:this.npc["dex"]>0},{icon:"1947",label:"Stamina",value:this.npc["sta"],showIf:this.npc["sta"]>0},{icon:"1941",label:"Strength",value:this.npc["str"],showIf:this.npc["str"]>0},{icon:"1965",label:"Charisma",value:this.npc["cha"],showIf:this.npc["cha"]>0},{icon:"1971",label:"Wisdom",value:this.npc["wis"],showIf:this.npc["wis"]>0},{icon:"1977",label:"Intelligence",value:this.npc["_int"],showIf:this.npc["_int"]>0}],[{icon:"2987",label:"Cold Resist",value:this.npc["cr"],showIf:this.npc["cr"]>0},{icon:"2994",label:"Disease Resist",value:this.npc["dr"],showIf:this.npc["dr"]>0},{icon:"2988",label:"Fire Resist",value:this.npc["fr"],showIf:this.npc["fr"]>0},{icon:"2984",label:"Magic Resist",value:this.npc["mr"],showIf:this.npc["mr"]>0},{icon:"2986",label:"Poison Resist",value:this.npc["pr"],showIf:this.npc["pr"]>0},{icon:"2995",label:"Corrup. Resist",value:this.npc["corrup"],showIf:this.npc["corrup"]>0},{icon:"2982",label:"Physical Resist",value:this.npc["ph_r"],showIf:this.npc["ph_r"]>0}]]},{columns:[[{icon:"",label:"See Hide",value:this.npc["see_hide"]?"Yes":"No",showIf:this.npc["see_hide"]>0},{icon:"",label:"See Improved Hide",value:this.npc["see_improved_hide"]?"Yes":"No",showIf:this.npc["see_improved_hide"]>0},{icon:"",label:"See Invisible",value:this.npc["see_invis"]?"Yes":"No",showIf:this.npc["see_invis"]>0},{icon:"",label:"See Invis Undead",value:this.npc["see_invis_undead"]?"Yes":"No",showIf:this.npc["see_invis_undead"]>0},{icon:"",label:"Show Name",value:this.npc["show_name"]?"Yes":"No",showIf:this.npc["show_name"]>0},{icon:"",label:"Skip Global Loot",value:this.npc["skip_global_loot"]?"Yes":"No",showIf:this.npc["skip_global_loot"]>0},{icon:"",label:"Spawn Limit",value:this.npc["spawn_limit"],showIf:this.npc["spawn_limit"]>0},{icon:"",label:"Trackable",value:this.npc["trackable"]?"Yes":"No",showIf:this.npc["trackable"]>0},{icon:"",label:"Stuck Behavior",value:this.npc["stuck_behavior"],showIf:this.npc["stuck_behavior"]>0},{icon:"",label:"No Target Hotkey",value:this.npc["no_target_hotkey"]?"Yes":"No",showIf:this.npc["no_target_hotkey"]>0},{icon:"",label:"Flymode",value:d["a"][this.npc["flymode"]]?d["a"][this.npc["flymode"]]:"",showIf:this.npc["flymode"]>0},{icon:"",label:"Findable",value:this.npc["findable"]?"Yes":"No",showIf:this.npc["findable"]>0},{icon:"",label:"Untargetable",value:this.npc["untargetable"]?"Yes":"No",showIf:this.npc["untargetable"]>0},{icon:"",label:"Underwater",value:this.npc["underwater"]?"Yes":"No",showIf:this.npc["underwater"]>0},{icon:"",label:"Unique Spawn By Name",value:this.npc["unique_spawn_by_name"]?"Yes":"No",showIf:this.npc["unique_spawn_by_name"]>0},{icon:"",label:"QGlobals Enabled",value:this.npc["qglobal"]?"Yes":"No",showIf:this.npc["qglobal"]>0},{icon:"",label:"Ignore Despawn",value:this.npc["ignore_despawn"]?"Yes":"No",showIf:this.npc["ignore_despawn"]>0},{icon:"",label:"Experience Modifier",value:this.npc["exp_mod"],showIf:100!==this.npc["exp_mod"]},{icon:"",label:"Bot NPC",value:this.npc["isbot"]?"Yes":"No",showIf:this.npc["isbot"]>0},{icon:"",label:"Quest NPC",value:this.npc["isquest"]?"Yes":"No",showIf:this.npc["isquest"]>0}],[],[{icon:"2087",label:"Min Damage",value:this.npc["mindmg"]},{icon:"2087",label:"Max Damage",value:this.npc["maxdmg"]},{icon:"2090",label:"Attack Count",value:this.npc["attack_count"],showIf:-1!==this.npc["attack_count"]},{icon:"2095",label:"Attack Delay",value:this.npc["attack_delay"]},{icon:"2102",label:"Attack Speed",value:this.npc["attack_speed"]},{icon:"778",label:"Heal Scale",value:this.npc["healscale"]+"%",showIf:100!==this.npc["healscale"]},{icon:"777",label:"Spell Scale",value:this.npc["spellscale"]+"%",showIf:100!==this.npc["spellscale"]},{icon:"778",label:"Scale Rate",value:this.npc["scalerate"]+"%",showIf:100!==this.npc["scalerate"]},{icon:"590",label:"Attack",value:this.npc["atk"],showIf:this.npc["atk"]>0},{icon:"597",label:"Accuracy",value:this.npc["accuracy"],showIf:this.npc["accuracy"]>0},{icon:"3656",label:"Avoidance",value:this.npc["avoidance"],showIf:this.npc["avoidance"]>0},{icon:"5388",label:"Charm Armor Class",value:this.npc["charm_ac"],showIf:this.npc["charm_ac"]>0},{icon:"597",label:"Charm Accuracy",value:this.npc["charm_accuracy_rating"],showIf:this.npc["charm_accuracy_rating"]>0},{icon:"590",label:"Charm Attack",value:this.npc["charm_atk"],showIf:this.npc["charm_atk"]>0},{icon:"2095",label:"Charm Attack Delay",value:this.npc["charm_attack_delay"],showIf:this.npc["charm_attack_delay"]>0},{icon:"3656",label:"Charm Avoidance",value:this.npc["charm_avoidance_rating"],showIf:this.npc["charm_avoidance_rating"]>0},{icon:"2087",label:"Charm Min Damage",value:this.npc["charm_min_dmg"],showIf:this.npc["charm_min_dmg"]>0},{icon:"2087",label:"Charm Max Damage",value:this.npc["charm_max_dmg"],showIf:this.npc["charm_max_dmg"]>0}]]}]}}},k=w,C=n("2877"),x=Object(C["a"])(k,a,i,!1,null,"3303983e",null);t["a"]=x.exports},a25c:function(e,t,n){"use strict";var a=function(){var e=this,t=e._self._c;return e.mask>=0?t("div",{staticClass:"row"},[t("div",{staticClass:"ml-1 mr-3 d-inline-block text-center",style:e.centeredButtons?"width: 100%":""},[e._l(e.races,(function(n,a){return t("div",{staticClass:"text-center d-inline-block"},[t("div",{staticClass:"text-center p-0 mr-1 col-lg-12 col-sm-12"},[e.showTextTop?t("span",[e._v(e._s(n.short))]):e._e(),t("div",{staticClass:"text-center"},[t("span",{class:"hover-highlight-inner item-"+n.icon+" "+(e.isRaceSelected(a)?"highlight-selected-inner":""),style:e.isRaceSelected(a)?"border-radius: 3px;":"border-radius: 3px; opacity: .6",attrs:{title:n.race},on:{click:function(t){return e.selectRace(a)}}})])])])})),e.displayAllNone?t("div",{staticClass:"d-inline-block",style:"line-height: 25px; bottom: "+(e.centeredButtons?-10:15)+"px; position: relative;"},[t("div",{class:"text-center mt-2 btn-xs eq-button-fancy "+(parseInt(e.mask)>=65535?"eq-button-fancy-highlighted":""),on:{click:function(t){return e.selectAll()}}},[e._v("\n        All\n      ")]),t("div",{class:"text-center mt-2 btn-xs eq-button-fancy "+(0===parseInt(e.mask)?"eq-button-fancy-highlighted":""),on:{click:function(t){return e.selectNone()}}},[e._v("\n        None\n      ")])]):e._e()],2)]):e._e()},i=[],r=(n("456d"),n("ac6a"),n("c5f6"),n("6023")),s=n("3022"),c=n.n(s),o={name:"RaceBitmaskCalculator",props:{debug:{type:Boolean,required:!1},mask:{type:Number,required:!1},displayAllNone:{type:Boolean,required:!1,default:!0},centeredButtons:{type:Boolean,required:!1,default:!0},showTextTop:{type:Boolean,required:!1,default:!0},imageSize:{type:Number,required:!1,default:50}},watch:{mask:{immediate:!0,handler:function(e,t){this.currentMask=parseInt(this.mask),this.calculateFromBitmask()}}},data:function(){return{races:r["a"],selectedRaces:{},currentMask:0}},mounted:function(){this.currentMask=parseInt(this.mask),this.calculateFromBitmask()},methods:{getImageSize:function(){return c.a.format("width: %spx; height %spx;",this.imageSize,this.imageSize)},selectAll:function(){var e=this;Object.keys(this.races).reverse().forEach((function(t){e.selectedRaces[t]=!0})),this.$forceUpdate(),this.calculateToBitmask()},selectNone:function(){var e=this;Object.keys(this.races).reverse().forEach((function(t){e.selectedRaces[t]=!1})),this.$forceUpdate(),this.calculateToBitmask()},calculateFromBitmask:function(){var e=this;Object.keys(this.races).reverse().forEach((function(t){var n=e.races[t];e.selectedRaces[t]=!1,e.currentMask>=n.mask&&(e.currentMask-=n.mask,e.selectedRaces[t]=!0)})),this.$forceUpdate()},calculateToBitmask:function(){var e=this,t=0;Object.keys(this.races).reverse().forEach((function(n){var a=e.races[n];e.selectedRaces[n]&&(t+=parseInt(a.mask))})),this.$emit("update:inputData",parseInt(t)),this.$emit("input",parseInt(t)),this.$emit("fired","true")},selectRace:function(e){this.selectedRaces[e]=!this.selectedRaces[e],this.$forceUpdate(),this.calculateToBitmask()},isRaceSelected:function(e){return this.selectedRaces[e]}}},l=o,u=n("2877"),d=Object(u["a"])(l,a,i,!1,null,"210202d6",null);t["a"]=d.exports},a332:function(e,t,n){"use strict";n("6762"),n("2fdb");var a=function(){var e=this,t=e._self._c;return e.getExpansionIcon(e.expansion).includes("base64")?e._e():t("img",{staticClass:"mr-2 p-1 hover-highlight-inner",style:"width: 56px; opacity: .7; border: 2px solid rgb(218 218 218 / 30%); border-radius: 7px;",attrs:{alt:e.getExpansionName(e.expansion),title:e.title+e.getExpansionName(e.expansion)+" ("+e.expansion+")",src:e.getExpansionIcon(e.expansion)}})},i=[],r=(n("c5f6"),n("26df")),s={name:"ExpansionIcon",props:{expansion:{type:Number,required:!0},title:{type:String,required:!1,default:""}},methods:{getExpansionIcon:function(e){return r["a"].getExpansionIconUrlSmall(e)},getExpansionName:function(e){return r["a"].getExpansionName(e)}}},c=s,o=n("2877"),l=Object(o["a"])(c,a,i,!1,null,"54580cb1",null);t["a"]=l.exports},b51d:function(e,t,n){"use strict";var a=function(){var e=this,t=e._self._c;return e.mask>=0?t("div",{staticClass:"row"},[t("div",{staticClass:"ml-1 mr-3 d-inline-block",style:e.centeredButtons?"width: 100%; margin: 0;":""},[e._l(e.classes,(function(n,a){return t("div",{staticClass:"d-inline-block"},[t("div",{staticClass:"text-center p-0 mr-1 col-lg-12 col-sm-12"},[e.showTextTop?t("span",[e._v(e._s(n.short))]):e._e(),t("div",{staticClass:"text-center"},[t("span",{class:"hover-highlight-inner item-"+n.icon+" "+(e.isClassSelected(a)?"highlight-selected-inner":""),style:e.isClassSelected(a)?"border-radius: 3px;":"border-radius: 3px; opacity: .6",attrs:{title:n.class},on:{click:function(t){return e.selectClass(a)}}})])])])})),e.displayAllNone?t("div",{staticClass:"d-inline-block",style:"line-height: 25px; bottom: "+(e.centeredButtons?-10:15)+"px; position: relative;"},[t("div",{class:"text-center mt-2 btn-xs eq-button-fancy "+(parseInt(e.mask)>=65535&&!this.isOnlySelectedAndEnabled()?"eq-button-fancy-highlighted":""),on:{click:function(t){return e.selectAll()}}},[e._v("\n        All\n      ")]),t("div",{class:"text-center mt-2 btn-xs eq-button-fancy "+(0!==parseInt(e.mask)||this.isOnlySelectedAndEnabled()?"":"eq-button-fancy-highlighted"),on:{click:function(t){return e.selectNone()}}},[e._v("\n        None\n      ")]),e.addOnlyButtonEnabled?t("div",{class:"text-center mt-2 btn-xs eq-button-fancy "+(this.onlySelected?"eq-button-fancy-highlighted":""),attrs:{title:"When this is selected, only entries selected will appear in the results"},on:{click:function(t){return e.selectOnly()}}},[e._v("\n        Only\n      ")]):e._e()]):e._e()],2)]):e._e()},i=[],r=(n("456d"),n("ac6a"),n("c5f6"),n("4ac1"),n("a50e")),s=(n("3022"),{name:"ClassBitmaskCalculator",props:{debug:{type:Boolean,required:!1},mask:{type:Number,required:!1},displayAllNone:{type:Boolean,required:!1,default:!0},centeredButtons:{type:Boolean,required:!1,default:!0},showTextTop:{type:Boolean,required:!1,default:!0},showTextSide:{type:Boolean,required:!1,default:!1},addOnlyButtonEnabled:{type:Boolean,required:!1,default:!1},addOnlyStateEnabled:{type:Boolean,required:!1,default:!1}},watch:{mask:{immediate:!0,handler:function(e,t){this.currentMask=parseInt(this.mask),this.calculateFromBitmask()}}},data:function(){return{classes:r["e"],selectedClasses:{},currentMask:0,onlySelected:!1}},mounted:function(){var e=this;setTimeout((function(){e.addOnlyButtonEnabled&&e.addOnlyStateEnabled&&(e.onlySelected=!0)}),100),this.currentMask=parseInt(this.mask),this.calculateFromBitmask()},methods:{isOnlySelectedAndEnabled:function(){return this.addOnlyButtonEnabled&&this.onlySelected},selectOnly:function(){this.selectNone(),console.log("selecting only"),this.onlySelected=!0},selectAll:function(){var e=this;this.onlySelected=!1,Object.keys(this.classes).reverse().forEach((function(t){e.selectedClasses[t]=!0})),this.$forceUpdate(),this.calculateToBitmask()},selectNone:function(){var e=this;this.onlySelected=!1,Object.keys(this.classes).reverse().forEach((function(t){e.selectedClasses[t]=!1})),this.$forceUpdate(),this.calculateToBitmask()},calculateFromBitmask:function(){var e=this;Object.keys(this.classes).reverse().forEach((function(t){var n=e.classes[t];e.selectedClasses[t]=!1,e.currentMask>=n.mask&&(e.currentMask-=n.mask,e.selectedClasses[t]=!0)})),this.$forceUpdate()},calculateToBitmask:function(){var e=this,t=0;Object.keys(this.classes).reverse().forEach((function(n){var a=e.classes[n];e.selectedClasses[n]&&(t+=parseInt(a.mask))})),this.$emit("update:inputData",parseInt(t)),this.$emit("selectOnly",this.onlySelected),this.$emit("input",parseInt(t)),this.$emit("fired","true")},selectClass:function(e){var t=this;this.isOnlySelectedAndEnabled()&&Object.keys(this.classes).forEach((function(e){t.selectedClasses[e]=!1})),this.selectedClasses[e]=!this.selectedClasses[e],this.$forceUpdate(),this.calculateToBitmask()},isClassSelected:function(e){return this.selectedClasses[e]}}}),c=s,o=n("2877"),l=Object(o["a"])(c,a,i,!1,null,"510851bf",null);t["a"]=l.exports},bd86:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n("454f"),i=n.n(a),r=n("a6fa");function s(e,t,n){return(t=Object(r["a"])(t))in e?i()(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},c4af:function(e,t,n){"use strict";n("ac6a"),n("456d");var a=function(){var e=this,t=e._self._c;return t("div",[e.items&&0===e.items.length?t("div",{staticClass:"eq-window-simple text-center"},[e._v("\n    No items were found\n  ")]):e._e(),e.items.length>0?t("eq-window-simple",{staticClass:"mt-3 p-0",staticStyle:{"overflow-x":"scroll",height:"85vh","overflow-y":"scroll"}},[e.items.length>0?t("div",{staticClass:"item-table"},[t("table",{staticClass:"eq-table bordered eq-highlight-rows",staticStyle:{display:"table","overflow-x":"scroll"},attrs:{id:"spell-items-table-selector"}},[t("thead",[t("tr",[t("th",{staticStyle:{"text-align":"center",width:"50px"}}),t("th",{staticClass:"text-center",staticStyle:{"text-align":"center",width:"50px"}},[e._v("Id")]),t("th",{staticStyle:{"text-align":"center"}},[e._v("Name")])])]),t("tbody",e._l(e.items,(function(n,a){return t("tr",{key:n.id,class:e.isItemSelected(n)?"pulsate-highlight-white":"",attrs:{id:"item-selection-row-"+n.id}},[t("td",[t("div",{staticClass:"btn-group",attrs:{role:"group"}},[t("b-button",{staticClass:"btn-dark btn-sm btn-dark",on:{click:function(t){return e.selectItem(n)}}},[t("i",{staticClass:"fa fa-arrow-left"})])],1)]),t("td",[e._v("\n            "+e._s(n.id)+"\n          ")]),t("td",{staticClass:"text-left",staticStyle:{"vertical-align":"middle"}},[Object.keys(n).length>0&&n?t("item-popover",{attrs:{item:n,size:"regular"}}):e._e()],1)])})),0)])]):e._e()]):e._e()],1)},i=[],r=(n("ac4d"),n("8a81"),n("5df3"),n("1c4c"),n("7f7f"),n("6b54"),n("768b")),s=(n("ffc1"),n("96cf"),n("3b8d")),c=n("5201"),o=n("935a"),l=n("4ac1"),u=n("f4a8"),d=n("a50e"),h=n("7dc0"),p=n("093e"),f=n("cd97");function m(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=v(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,i=function(){};return{s:i,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){c=!0,r=e},f:function(){try{s||null==n.return||n.return()}finally{if(c)throw r}}}}function v(e,t){if(e){if("string"==typeof e)return g(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,t):void 0}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}var b={name:"TaskItemPreviewTable",components:{ItemPopover:f["a"],EqWindowSimple:p["a"],EqWindow:o["a"],"eq-item-card-preview":function(){return Promise.resolve().then(n.bind(null,"ec53"))},"v-runtime-template":function(){return n.e("chunk-2d2293ca").then(n.bind(null,"dd1e"))}},data:function(){return{debug:l["a"].DEBUG,debugItemEffects:!1,itemCdnUrl:l["a"].ASSET_ITEM_ICON_BASE_URL,itemEffectInfo:[],itemData:{},sideLoadedItemData:{},componentId:"",reagents:[],effectDescription:"",recourseLink:"",title:"",itemMinis:{},dbClassIcons:u["a"],dbClassesShort:d["b"],highlightedItem:0}},created:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.sideLoadedItemData=c["a"].data;case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),mounted:function(){if(console.log("mounted"),this.items.length>0){var e=document.getElementById("spell-items-table-selector");e&&setTimeout((function(){new h["a"](e)}),100)}},props:{items:Array},methods:{selectItem:function(e){this.$emit("input",e),this.highlightedItem=e.id},isItemSelected:function(e){return e.id===this.highlightedItem},getClasses:function(e){var t,n=[],a=e.classes,i=m(Object.entries(d["c"]).reverse());try{for(i.s();!(t=i.n()).done;){var s=Object(r["a"])(t.value,2),c=s[0],o=s[1];c<=a&&(a-=c,n.push(o))}}catch(l){i.e(l)}finally{i.f()}return e.classes>=65535?"ALL":n.join(", ").trim()}}},y=b,_=(n("9e5c"),n("2877")),w=Object(_["a"])(y,a,i,!1,null,"40cbd934",null);t["a"]=w.exports},cbc6:function(e,t,n){},cd1c:function(e,t,n){var a=n("e853");e.exports=function(e,t){return new(a(e))(t)}},cd97:function(e,t,n){"use strict";n("7f7f");var a=function(){var e=this,t=e._self._c;return e.item?t("div",[t("div",{staticStyle:{display:"inline-block"},attrs:{id:e.item.id+"-"+e.popoverId+"-popover"}},[t("span",{class:"item-"+e.item.icon+("regular"===this.size?"":"-sm"),staticStyle:{display:"inline-block"},attrs:{title:e.item.icon}}),t("span",{class:"sm"===e.size?"ml-2":"ml-3",style:"position:relative;"+("regular"===this.size?"top: -15px":"")},[e._v(e._s(e.item.name)+" "+e._s(e.annotation)+" "),e._t("default")],2)]),t("b-popover",{staticStyle:{width:"500px !important"},attrs:{target:e.item.id+"-"+e.popoverId+"-popover","custom-class":"no-bg",placement:"right",delay:"0",boundary:"viewport","no-fade":!0,triggers:"hover focus"}},[t("eq-window",{staticStyle:{width:"auto",height:"100%"}},[t("eq-item-card-preview",{attrs:{"item-data":e.item,"show-related-data":e.showRelatedData}})],1)],1)],1):e._e()},i=[],r=(n("6b54"),n("935a")),s=(n("5201"),n("ec53")),c={name:"ItemPopover",props:{item:Object,size:{type:String,required:!1,default:"sm"},annotation:{type:String,required:!1,default:""},showRelatedData:{type:Boolean,required:!1,default:!1}},data:function(){return{popoverId:Math.random().toString(16).slice(2),itemEffectInfo:[]}},components:{EqItemCardPreview:s["default"],EqWindow:r["a"]}},o=c,l=n("2877"),u=Object(l["a"])(o,a,i,!1,null,"423115ce",null);t["a"]=u.exports},d970:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));n("ac4d"),n("8a81"),n("5df3"),n("1c4c"),n("7f7f"),n("6b54");var a=n("9a04"),i=n("75fc"),r=(n("6762"),n("2fdb"),n("96cf"),n("d225")),s=n("b0b4"),c=n("9ab4"),o=n("01de"),l=n("a7a1"),u=n("0d95"),d=n("e40e"),h=n("0c83");function p(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=f(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,i=function(){};return{s:i,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){c=!0,r=e},f:function(){try{s||null==n.return||n.return()}finally{if(c)throw r}}}}function f(e,t){if(e){if("string"==typeof e)return m(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,t):void 0}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}var v=function(){function e(){Object(r["a"])(this,e)}return Object(s["a"])(e,null,[{key:"getMerchantsByName",value:function(e){return Object(c["d"])(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,o["a"].listNpcsByName(e,["Merchantlists.Items"]);case 2:if(n=t.sent.filter((function(e){return e.merchant_id>0})),a=n.filter((function(e){var t=!1;if(e.merchantlists){var n,a=p(e.merchantlists);try{for(a.s();!(n=a.n()).done;){var i=n.value;i.items&&i.items.length>0&&(t=!0)}}catch(r){a.e(r)}finally{a.f()}}return t})),0!==a.length){t.next=8;break}return t.next=7,this.fallBackChunkLoad(n);case 7:n=t.sent;case 8:return t.abrupt("return",n);case 9:case"end":return t.stop()}}),t,this)})))}},{key:"getMerchantsByItemName",value:function(e){return Object(c["d"])(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n,r,s,c,h,f,m,v,g,b,y,_,w,k;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=new d["a"],parseInt(e)>0?n.where("id","=",e):n.where("name","=",e),n.includes(["Merchantlists.NpcTypes"]),t.next=5,Object(a["a"])(l["ItemApi"],Object(i["a"])(u["SpireApi"].cfg())).listItems(n.get());case 5:r=t.sent,s=[],c=p(r.data);try{for(c.s();!(h=c.n()).done;)if(f=h.value,f.merchantlists){m=p(f.merchantlists);try{for(m.s();!(v=m.n()).done;)if(g=v.value,g.npc_types){b=p(g.npc_types);try{for(b.s();!(y=b.n()).done;)_=y.value,s.push(_.id)}catch(C){b.e(C)}finally{b.f()}}}catch(C){m.e(C)}finally{m.f()}}}catch(C){c.e(C)}finally{c.f()}if(0!==s.length){t.next=11;break}return t.abrupt("return",[]);case 11:return t.next=13,o["a"].getNpcsBulk(s,["Merchantlists.Items"]);case 13:if(w=t.sent.filter((function(e){return e.merchant_id>0})),k=w.filter((function(e){var t=!1;if(e.merchantlists){var n,a=p(e.merchantlists);try{for(a.s();!(n=a.n()).done;){var i=n.value;i.items&&i.items.length>0&&(t=!0)}}catch(C){a.e(C)}finally{a.f()}}return t})),0!==k.length){t.next=19;break}return t.next=18,this.fallBackChunkLoad(w);case 18:w=t.sent;case 19:return t.abrupt("return",w);case 20:case"end":return t.stop()}}),t,this)})))}},{key:"getMerchantsByZone",value:function(e,t){return Object(c["d"])(this,void 0,void 0,regeneratorRuntime.mark((function n(){var a,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,o["a"].getNpcsByZone(e,t,{relations:["Spawnentries.NpcType.Merchantlists.Items"]});case 2:if(a=n.sent.filter((function(e){return e.merchant_id>0})),i=a.filter((function(e){var t=!1;if(e.merchantlists){var n,a=p(e.merchantlists);try{for(a.s();!(n=a.n()).done;){var i=n.value;i.items&&i.items.length>0&&(t=!0)}}catch(r){a.e(r)}finally{a.f()}}return t})),0!==i.length){n.next=8;break}return n.next=7,this.fallBackChunkLoad(a);case 7:a=n.sent;case 8:return n.abrupt("return",a);case 9:case"end":return n.stop()}}),n,this)})))}},{key:"deleteMerchantEntry",value:function(e,t){return Object(c["d"])(this,void 0,void 0,regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=(new d["a"]).where("merchantid","=",e).where("slot","=",t).get(),n.next=3,Object(a["a"])(l["MerchantlistApi"],Object(i["a"])(u["SpireApi"].cfg())).deleteMerchantlist({id:e},{query:r});case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}}),n)})))}},{key:"getMerchantsBulk",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Object(c["d"])(this,void 0,void 0,regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,Object(a["a"])(l["MerchantlistApi"],Object(i["a"])(u["SpireApi"].cfg())).getMerchantlistsBulk({body:{ids:e}},{query:(new d["a"]).groupBy(["merchantid"]).includes(t).orderBy(["merchantid"]).orderDirection("desc").get()});case 2:if(r=n.sent,200!==r.status){n.next=5;break}return n.abrupt("return",r.data);case 5:case"end":return n.stop()}}),n)})))}},{key:"fallBackChunkLoad",value:function(e){return Object(c["d"])(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n,a,r,s,c,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=[],a=p(Object(h["a"])(e,10)),t.prev=2,a.s();case 4:if((r=a.n()).done){t.next=13;break}return s=r.value,c=s.map((function(e){return e.id})),t.next=9,o["a"].getNpcsBulk(c,["Merchantlists.Items"]);case 9:l=t.sent,n=[].concat(Object(i["a"])(n),Object(i["a"])(l));case 11:t.next=4;break;case 13:t.next=18;break;case 15:t.prev=15,t.t0=t["catch"](2),a.e(t.t0);case 18:return t.prev=18,a.f(),t.finish(18);case 21:return t.abrupt("return",n);case 22:case"end":return t.stop()}}),t,null,[[2,15,18,21]])})))}},{key:"getById",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Object(c["d"])(this,void 0,void 0,regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,Object(a["a"])(l["MerchantlistApi"],Object(i["a"])(u["SpireApi"].cfg())).listMerchantlists((new d["a"]).where("merchantid","=",e).includes(t).get());case 2:if(r=n.sent,200!==r.status){n.next=5;break}return n.abrupt("return",r.data);case 5:return n.abrupt("return",[]);case 6:case"end":return n.stop()}}),n)})))}},{key:"getTotalMerchants",value:function(){return Object(c["d"])(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(a["a"])(l["MerchantlistApi"],Object(i["a"])(u["SpireApi"].cfg())).listMerchantlists((new d["a"]).groupBy(["merchantid"]).orderBy(["merchantid"]).orderDirection("desc").limit(1e8).get());case 2:return t=e.sent,e.abrupt("return",t.data.length);case 4:case"end":return e.stop()}}),e)})))}},{key:"updateSlotForEntry",value:function(e,t,n){return Object(c["d"])(this,void 0,void 0,regeneratorRuntime.mark((function r(){var s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return s=(new d["a"]).where("merchantid","=",e).where("slot","=",t).get(),r.next=3,Object(a["a"])(l["MerchantlistApi"],Object(i["a"])(u["SpireApi"].cfg())).updateMerchantlist({id:e,merchantlist:n},{query:s});case 3:return r.abrupt("return",r.sent);case 4:case"end":return r.stop()}}),r)})))}},{key:"addMerchantListEntry",value:function(e){return Object(c["d"])(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(a["a"])(l["MerchantlistApi"],Object(i["a"])(u["SpireApi"].cfg())).createMerchantlist({merchantlist:e});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))}},{key:"addItemToMerchant",value:function(e,t,n){return Object(c["d"])(this,void 0,void 0,regeneratorRuntime.mark((function r(){var s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return s={merchantid:e,slot:t,item:n,faction_required:-1100,classes_required:65535,probability:100,min_expansion:-1,max_expansion:-1,min_status:0,max_status:255,bucket_comparison:0},r.next=3,Object(a["a"])(l["MerchantlistApi"],Object(i["a"])(u["SpireApi"].cfg())).createMerchantlist({merchantlist:s});case 3:return r.abrupt("return",r.sent);case 4:case"end":return r.stop()}}),r)})))}},{key:"create",value:function(){return Object(c["d"])(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(a["a"])(l["MerchantlistApi"],Object(i["a"])(u["SpireApi"].cfg())).listMerchantlists((new d["a"]).orderBy(["merchantid"]).orderDirection("desc").limit(1).get());case 2:return t=e.sent,n=200===t.status&&t.data&&t.data[0]&&t.data[0].merchantid?t.data[0].merchantid+1:0,r={merchantid:n,slot:1,item:1001},e.next=7,Object(a["a"])(l["MerchantlistApi"],Object(i["a"])(u["SpireApi"].cfg())).createMerchantlist({merchantlist:r});case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})))}},{key:"deleteMerchant",value:function(e){return Object(c["d"])(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(a["a"])(l["MerchantlistApi"],Object(i["a"])(u["SpireApi"].cfg())).deleteMerchantlist({id:e});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))}}])}()},dd40:function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},e853:function(e,t,n){var a=n("d3f4"),i=n("1169"),r=n("2b4c")("species");e.exports=function(e){var t;return i(e)&&(t=e.constructor,"function"!=typeof t||t!==Array&&!i(t.prototype)||(t=void 0),a(t)&&(t=t[r],null===t&&(t=void 0))),void 0===t?Array:t}},ef1f:function(e,t,n){"use strict";n("7f7f");var a=function(){var e=this,t=e._self._c;return e.mask>=0?t("div",{staticClass:"pl-1 row"},[t("div",{staticClass:"mr-3 d-inline-block text-center",style:e.centeredButtons?"width: 100%":""},[e._l(e.deities,(function(n,a){return t("div",{staticClass:"text-center d-inline-block"},[t("div",{staticClass:"text-center pl-0 pr-0 mr-1 col-lg-12 col-sm-12"},[e.showNames?t("small",{style:n.short.length>8?"font-size: 9px":"font-size: 11px"},[e._v(e._s(n.short))]):e._e(),t("div",{staticClass:"text-center"},[t("span",{class:"hover-highlight-inner item-"+n.icon+" "+(e.isDeitySelected(a)?"highlight-selected-inner":""),style:e.isDeitySelected(a)?"border-radius: 3px;":"border-radius: 3px; opacity: .6",attrs:{title:n.name},on:{click:function(t){return e.selectDeity(a)}}})])])])})),e.displayAllNone?t("div",{staticClass:"d-inline-block",style:"line-height: 25px; bottom: "+(e.centeredButtons?-10:15)+"px; position: relative;"},[t("div",{class:"text-center mt-2 btn-xs eq-button-fancy "+(parseInt(e.mask)>=65535?"eq-button-fancy-highlighted":""),on:{click:function(t){return e.selectAll()}}},[e._v("\n        All\n      ")]),t("div",{class:"text-center mt-2 btn-xs eq-button-fancy "+(0===parseInt(e.mask)?"eq-button-fancy-highlighted":""),on:{click:function(t){return e.selectNone()}}},[e._v("\n        None\n      ")])]):e._e()],2)]):e._e()},i=[],r=(n("456d"),n("ac6a"),n("c5f6"),n("4ac1"),n("88e6")),s=(n("3022"),{name:"DeityBitmaskCalculator",props:{debug:{type:Boolean,required:!1},mask:{type:Number,required:!1},displayAllNone:{type:Boolean,required:!1,default:!0},centeredButtons:{type:Boolean,required:!1,default:!0},showNames:{type:Boolean,required:!1,default:!0}},watch:{mask:{immediate:!0,handler:function(e,t){this.currentMask=parseInt(this.mask),this.calculateFromBitmask()}}},data:function(){return{deities:r["b"],selectedDeityes:{},currentMask:0}},mounted:function(){this.currentMask=parseInt(this.mask),this.calculateFromBitmask()},methods:{selectAll:function(){var e=this;Object.keys(this.deities).reverse().forEach((function(t){e.selectedDeityes[t]=!0})),this.$forceUpdate(),this.calculateToBitmask()},selectNone:function(){var e=this;Object.keys(this.deities).reverse().forEach((function(t){e.selectedDeityes[t]=!1})),this.$forceUpdate(),this.calculateToBitmask()},calculateFromBitmask:function(){var e=this;Object.keys(this.deities).reverse().forEach((function(t){var n=e.deities[t];e.selectedDeityes[t]=!1,e.currentMask>=n.mask&&(e.currentMask-=n.mask,e.selectedDeityes[t]=!0)})),this.$forceUpdate()},calculateToBitmask:function(){var e=this,t=0;Object.keys(this.deities).reverse().forEach((function(n){var a=e.deities[n];e.selectedDeityes[n]&&(t+=parseInt(a.mask))})),this.$emit("update:inputData",parseInt(t)),this.$emit("input",parseInt(t)),this.$emit("fired","true")},selectDeity:function(e){this.selectedDeityes[e]=!this.selectedDeityes[e],this.$forceUpdate(),this.calculateToBitmask()},isDeitySelected:function(e){return this.selectedDeityes[e]}}}),c=s,o=n("2877"),l=Object(o["a"])(c,a,i,!1,null,"c5a7ead4",null);t["a"]=l.exports},fb61:function(e,t,n){"use strict";n("7f7f");var a=function(){var e=this,t=e._self._c;return e.npc?t("div",[t("div",{staticStyle:{display:"inline-block",position:"relative"},attrs:{id:e.npc.id+"-"+e.popoverId+"-popover"}},[e.showImage?t("div",{staticClass:"d-inline-block ml-3 text-center",staticStyle:{width:"60px",height:"50px"}},[t("span",{class:"race-models-ctn-"+e.getRaceImage(e.npc)+"-sm",staticStyle:{top:"50%",filter:"drop-shadow(10px 5px 5px #000)"}})]):e._e(),e.showLabel?t("span",{class:(e.showImage?"ml-3":"")+" d-inline-block",style:e.showImage?"top: 30%; position: absolute; min-width: 300px":""},[e._v("\n      "+e._s(e.getCleanName(e.npc.name))+" "+e._s(e.formatLastName(e.npc.lastname))+" "+e._s(e.additionalLabel?e.additionalLabel:"")+"\n    ")]):e._e(),e._t("default")],2),e.popoverEnabled?t("b-popover",{attrs:{target:e.npc.id+"-"+e.popoverId+"-popover","custom-class":"no-bg",placement:"right",delay:"0",boundary:"viewport","no-fade":!0,triggers:"hover focus"}},[t("eq-window",{staticStyle:{width:"650px",height:"100%"}},[t("eq-npc-card-preview",{attrs:{"limit-entries":e.limitEntries,"no-stats":e.noStats,npc:e.npc}})],1)],1):e._e()],1):e._e()},i=[],r=(n("6b54"),n("c5f6"),n("935a")),s=n("a006"),c=n("01de"),o={name:"npcPopover",props:{npc:Object,size:{type:String,required:!1,default:"sm"},additionalLabel:{type:String,required:!1},showImage:{type:Boolean,required:!1,default:!0},noStats:{type:Boolean,required:!1,default:!1},showLastName:{type:Boolean,required:!1,default:!0},limitEntries:{type:Number,required:!1,default:20},showLabel:{type:Boolean,required:!1,default:!0},popoverEnabled:{type:Boolean,required:!1,default:!0}},watch:{npc:{deep:!0,handler:function(){}}},mounted:function(){console.log("[popover] no limit",this.noLimitEntries)},methods:{formatLastName:function(e){return this.showLastName&&e&&e.length>0?" (".concat(e,")"):""},getRaceImage:function(e){return c["a"].getRaceImage(e)},getCleanName:function(e){return c["a"].getCleanName(e)}},data:function(){return{popoverId:Math.random().toString(16).slice(2),npcEffectInfo:[],sideLoadednpcData:{}}},components:{EqNpcCardPreview:s["a"],EqWindow:r["a"]}},l=o,u=n("2877"),d=Object(u["a"])(l,a,i,!1,null,"0d2146b0",null);t["a"]=d.exports}}]);