(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-942ba7de"],{"02f6":function(e,t,n){"use strict";var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"container-fluid content-area"},[t("div",{staticClass:"panel-body"},[t("div",{staticClass:"panel panel-default"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-12 mt-3"},[e._t("default")],2)])])])])},a=[],s={name:"ContentArea"},r=s,c=n("2877"),l=Object(c["a"])(r,i,a,!1,null,"4665fdac",null);t["a"]=l.exports},"093e":function(e,t,n){"use strict";var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"eq-window-simple"},[e.title?t("div",{staticClass:"eq-window-title-bar",style:"font-weight: "+(e.boldTitle?"bold":"normal")+";"},[e._v(e._s(e.title)+"\n  ")]):e._e(),t("div",{class:e.classes,style:"padding: "+("undefined"!==typeof e.padding?e.padding:10)+"px"},[e._t("default")],2)])},a=[],s=(n("c5f6"),{name:"EqWindowSimple",props:{title:{type:String,required:!1},padding:{type:Number,required:!1,default:10},classes:{type:String,required:!1,default:""},boldTitle:{type:Boolean,required:!1,default:!1}}}),r=s,c=n("2877"),l=Object(c["a"])(r,i,a,!1,null,"4db0cdea",null);t["a"]=l.exports},"0a49":function(e,t,n){var i=n("9b43"),a=n("626a"),s=n("4bf8"),r=n("9def"),c=n("cd1c");e.exports=function(e,t){var n=1==e,l=2==e,o=3==e,u=4==e,d=6==e,m=5==e||d,f=t||c;return function(t,c,h){for(var p,v,g=s(t),b=a(g),y=i(c,h,3),_=r(b.length),k=0,C=n?f(t,_):l?f(t,0):void 0;_>k;k++)if((m||k in b)&&(p=b[k],v=y(p,k,g),e))if(n)C[k]=v;else if(v)switch(e){case 3:return!0;case 5:return p;case 6:return k;case 2:C.push(p)}else if(u)return!1;return d?-1:o||u?u:C}}},"20d6":function(e,t,n){"use strict";var i=n("5ca1"),a=n("0a49")(6),s="findIndex",r=!0;s in[]&&Array(1)[s]((function(){r=!1})),i(i.P+i.F*r,"Array",{findIndex:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}}),n("9c6c")(s)},"238f":function(e,t,n){"use strict";n("36db")},"2c03":function(e,t,n){"use strict";n("ac6a"),n("456d"),n("a481");var i=function(){var e=this,t=e._self._c;return t("div",[0===e.items.length?t("div",{staticClass:"eq-window-simple text-center mb-0"},[e._v("\n    No items were found\n  ")]):e._e(),e.items&&e.items.length>0?t("div",{staticClass:"eq-window-simple p-0",staticStyle:{transition:"all 1s ease"}},[e.items.length>0?t("div",{staticClass:"item-table fill-screen",staticStyle:{"overflow-y":"scroll","overflow-x":"hidden"}},[t("table",{staticClass:"eq-table bordered eq-highlight-rows",attrs:{id:"items-table"}},[e._m(0),t("tbody",e._l(e.items,(function(n,i){return t("tr",{key:n.id},[t("td",{staticClass:"p-0 text-center"},[t("b-button",{staticClass:"btn-outline-danger mr-2",staticStyle:{width:"28px",height:"28px"},attrs:{variant:"primary",size:"sm",title:"Delete"},on:{click:function(t){return e.deleteItem(n)}}},[t("i",{staticClass:"fa fa-trash"})]),t("router-link",{staticClass:"btn btn-sm btn-outline-success mr-2",staticStyle:{width:"28px",height:"28px"},attrs:{to:e.ROUTE.ITEM_EDIT.replace("%s",n.id),size:"sm",tag:"button",title:"Edit"}},[t("i",{staticClass:"fa fa-pencil-square"})]),t("router-link",{staticClass:"btn btn-sm btn-outline-light mr-2",staticStyle:{width:"30px",height:"28px"},attrs:{to:e.ROUTE.ITEM_EDIT.replace("%s",n.id)+"?clone=true",size:"sm",tag:"button",title:"Clone"}},[t("i",{staticClass:"ra ra-double-team"})])],1),t("td",[e._v("\n            "+e._s(n.id)+"\n          ")]),t("td",{staticClass:"text-left",staticStyle:{"vertical-align":"middle"}},[Object.keys(n).length>0&&n?t("item-popover",{attrs:{item:n,size:"regular"}}):e._e()],1),t("td",[e._v(e._s(n.reqlevel))]),t("td",[e._v(e._s(n.ac))]),t("td",[e._v(e._s(e.commify(n.hp)))]),t("td",[e._v(e._s(e.commify(n.mana)))]),t("td",[e._v(e._s(e.commify(n.endur)))]),t("td",{staticClass:"text-left"},[e._v(e._s(e.getClasses(n)))])])})),0)])]):e._e()]):e._e()])},a=[function(){var e=this,t=e._self._c;return t("thead",{staticClass:"eq-table-floating-header"},[t("tr",[t("th",{staticStyle:{"text-align":"center",width:"120px"}}),t("th",{staticClass:"text-center",staticStyle:{"text-align":"center",width:"100px"}},[e._v("Id")]),t("th",{staticStyle:{"text-align":"center",width:"auto"}},[e._v("Name")]),t("th",{staticStyle:{"text-align":"center",width:"auto"}},[e._v("ReqLvl")]),t("th",{staticStyle:{"text-align":"center",width:"auto"}},[e._v("AC")]),t("th",{staticStyle:{"text-align":"center",width:"auto"}},[e._v("HP")]),t("th",{staticStyle:{"text-align":"center",width:"auto"}},[e._v("Mana")]),t("th",{staticStyle:{"text-align":"center",width:"auto"}},[e._v("End")]),t("th",{staticStyle:{width:"auto"}},[e._v("Classes")])])])}],s=(n("ac4d"),n("8a81"),n("5df3"),n("1c4c"),n("768b")),r=(n("ffc1"),n("6b54"),n("7f7f"),n("96cf"),n("3b8d")),c=n("935a"),l=n("f4a8"),o=n("a50e"),u=n("80b0"),d=n("7dc0"),m=n("cd97"),f=n("5201"),h=n("d73b");function p(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=v(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,r=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return r=e.done,e},e:function(e){c=!0,s=e},f:function(){try{r||null==n.return||n.return()}finally{if(c)throw s}}}}function v(e,t){if(e){if("string"==typeof e)return g(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,t):void 0}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}var b={name:"ItemPreviewTable",components:{ItemPopover:m["a"],EqWindow:c["a"]},data:function(){return{title:"",dbClassIcons:l["a"],dbClassesShort:o["b"],ROUTE:u["a"]}},mounted:function(){this.items.length>0&&(setTimeout((function(){document.getElementById("items-table")&&new d["a"](document.getElementById("items-table"))}),1e3),setTimeout((function(){h["a"].resizeFillScreenElements()}),100))},props:{items:Array},methods:{deleteItem:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!confirm("Are you sure you want to permanently delete this item? [".concat(t.name,"] (").concat(t.id,")"))){e.next=4;break}return e.next=3,f["a"].deleteItem(t.id);case 3:this.$emit("reload-list",!0);case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),commify:function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},getClasses:function(e){var t,n=[],i=e.classes,a=p(Object.entries(o["c"]).reverse());try{for(a.s();!(t=a.n()).done;){var r=Object(s["a"])(t.value,2),c=r[0],l=r[1];c<=i&&(i-=c,n.push(l))}}catch(u){a.e(u)}finally{a.f()}return e.classes>=65535?"ALL":n.join(", ").trim()}}},y=b,_=(n("238f"),n("2877")),k=Object(_["a"])(y,i,a,!1,null,"6852292e",null);t["a"]=k.exports},"2f9c":function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return m}));for(var i=n("768b"),a=(n("ac6a"),n("ffc1"),{55:"fishing",56:"make-poison",57:"tinkering",58:"research",59:"alchemy",60:"baking",61:"tailoring",63:"blacksmithing",64:"fletching",65:"brewing",68:"jewelry-making",69:"pottery",75:"quest-combines"}),s={},r=0,c=Object.entries(a);r<c.length;r++){var l=Object(i["a"])(c[r],2),o=l[0],u=l[1];s[u]=parseInt(o)}function d(e){return a[e]||String(e)}function m(e){if(void 0!==s[e])return s[e];var t=parseInt(e);return isNaN(t)?0:t}},"36db":function(e,t,n){},"3ace":function(e,t,n){"use strict";n("386d");var i=function(){var e=this,t=e._self._c;return t("div",[e.searchPerformed?t("eq-window-simple",{staticClass:"text-center"},[t("b-button",{staticClass:"btn-dark btn-sm btn-dark",on:{click:function(t){e.searchPerformed=!1}}},[e._v("\n      Return to Search\n    ")])],1):e._e(),e.searchPerformed?e._e():t("eq-window-simple",{staticClass:"mt-3"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-12 pl-4"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-12 text-center"},[t("class-bitmask-calculator",{attrs:{"centered-buttons":!1,"display-all-none":!0,"add-only-button-enabled":!0,"add-only-state-enabled":e.selectOnlyClassEnabled,inputData:e.selectedClasses,mask:e.selectedClasses},on:{selectOnly:function(t){e.selectOnlyClassEnabled=t},"update:inputData":function(t){e.selectedClasses=t},"update:input-data":function(t){e.selectedClasses=t}}})],1)]),t("div",{staticClass:"row"},[t("div",{staticClass:"col-12 text-center mt-3"},[t("race-bitmask-calculator",{attrs:{"centered-buttons":!1,"display-all-none":!0,inputData:e.selectedRaces,mask:e.selectedRaces},on:{"update:inputData":function(t){e.selectedRaces=t},"update:input-data":function(t){e.selectedRaces=t}}})],1)]),t("div",{staticClass:"row"},[t("div",{staticClass:"col-12 text-center mt-3"},[t("inventory-slot-calculator",{attrs:{"image-size":40,"skip-duplicate-slots":!0,"display-all-none":!1,"centered-buttons":!0,inputData:e.selectedSlots,mask:e.selectedSlots},on:{"update:inputData":function(t){e.selectedSlots=t},"update:input-data":function(t){e.selectedSlots=t}}})],1)]),t("div",{staticClass:"row mt-3 text-center"},[t("div",{staticClass:"col-lg-4 col-sm-12 p-0 pr-1 text-center"},[e._v("\n            Item Name or ID\n            "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.itemName,expression:"itemName"}],staticClass:"form-control",attrs:{name:"item_name",type:"text",placeholder:"Name or ID",autofocus:"",id:"item_name",value:""},domProps:{value:e.itemName},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.triggerState.apply(null,arguments)},input:function(t){t.target.composing||(e.itemName=t.target.value)}}})]),t("div",{staticClass:"col-lg-4 col-sm-12 p-0 pr-1 text-center"},[e._v("\n            Item Type\n            "),t("select",{directives:[{name:"model",rawName:"v-model",value:e.itemType,expression:"itemType"}],staticClass:"form-control",attrs:{id:"item_type"},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.itemType=t.target.multiple?n:n[0]}}},[t("option",{attrs:{value:"-1"}},[e._v("-- Select --")]),e._l(e.itemTypeOptions,(function(n){return t("option",{domProps:{value:n.value}},[e._v("\n                "+e._s(n.text)+"\n              ")])}))],2)]),t("div",{staticClass:"col-lg-4 col-sm-12 p-0 pr-1 text-center"},[e._v("\n            Level\n            "),t("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedLevel,expression:"selectedLevel"}],staticClass:"form-control",on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selectedLevel=t.target.multiple?n:n[0]}}},[t("option",{attrs:{value:"0"}},[e._v("-- Select --")]),e._l(105,(function(n){return t("option",{domProps:{value:n}},[e._v("\n                "+e._s(n)+"\n              ")])}))],2)])]),t("div",{staticClass:"row"},[t("div",{staticClass:"col-lg-12 col-sm-12 mt-3 pl-0 pr-0 text-center"},[e.selectedLevel?t("div",{staticClass:"btn-group ml-3",attrs:{role:"group","aria-label":"Basic example"}},[t("b-button",{attrs:{size:"sm",variant:0===parseInt(e.selectedLevelType)?"warning":"outline-warning"},on:{click:function(t){e.selectedLevelType=0}}},[e._v("Only\n              ")]),t("b-button",{attrs:{size:"sm",variant:1===parseInt(e.selectedLevelType)?"warning":"outline-warning"},on:{click:function(t){e.selectedLevelType=1}}},[e._v("Higher\n              ")]),t("b-button",{attrs:{size:"sm",variant:2===parseInt(e.selectedLevelType)?"warning":"outline-warning"},on:{click:function(t){e.selectedLevelType=2}}},[e._v("Lower\n              ")])],1):e._e(),t("div",{staticClass:"btn-group ml-3",attrs:{role:"group","aria-label":"Basic example"}},[t("b-button",{attrs:{size:"sm",variant:10===parseInt(e.limit)?"warning":"outline-warning"},on:{click:function(t){e.limit=10}}},[e._v("10\n              ")]),t("b-button",{attrs:{size:"sm",variant:100===parseInt(e.limit)?"warning":"outline-warning"},on:{click:function(t){e.limit=100}}},[e._v("100\n              ")]),t("b-button",{attrs:{size:"sm",variant:1e3===parseInt(e.limit)?"warning":"outline-warning"},on:{click:function(t){e.limit=1e3}}},[e._v("1000\n              ")])],1),t("b-button",{staticClass:"btn-dark btn-sm btn-dark ml-3",on:{click:function(t){return e.search()}}},[t("i",{staticClass:"fa fa-search"}),e._v(" Search\n            ")]),t("div",{class:"text-center btn-xs eq-button-fancy ml-3",staticStyle:{"line-height":"25px"},on:{click:function(t){return e.resetForm()}}},[e._v("\n              Reset Form\n            ")])],1)]),e._e(),e._l(3,(function(t){return e._e()}))],2)])]),t("app-loader",{attrs:{"is-loading":!e.loaded,padding:"4"}}),e.loaded&&e.items&&e.searchPerformed?t("item-selector-preview-table",{attrs:{items:e.items,"selected-item-id":e.selectedItemId},on:{input:function(t){return e.bubbleToParent(t)}}}):e._e()],1)},a=[],s=(n("55dd"),n("456d"),n("9a04")),r=n("75fc"),c=(n("c5f6"),n("768b")),l=(n("ac6a"),n("ffc1"),n("96cf"),n("3b8d")),o=n("bd86"),u=n("94bf"),d=n("935a"),m=n("0d95"),f=n("ec53"),h=n("f4a8"),p=n("a50e"),v=n("d6b6"),g=n("5201"),b=n("b51d"),y=n("a25c"),_=n("6267"),k=n("ef1f"),C=n("8e98"),w=n("46f9"),x=n("2c03"),S=n("093e"),I=n("e40e"),E=n("c4af"),B=function(){var e=this,t=e._self._c;return t("div",[e.items&&0===e.items.length?t("div",{staticClass:"eq-window-simple text-center"},[e._v("\n    No items were found\n  ")]):e._e(),e.items.length>0?t("eq-window-simple",{staticClass:"mt-3 p-0",staticStyle:{"overflow-x":"scroll",height:"85vh","overflow-y":"scroll"}},[e.items.length>0?t("div",{staticClass:"item-table"},[t("table",{staticClass:"eq-table bordered eq-highlight-rows",staticStyle:{display:"table","overflow-x":"scroll"},attrs:{id:"spell-items-table-selector"}},[t("thead",[t("tr",[t("th",{staticStyle:{"text-align":"center",width:"50px"}}),t("th",{staticClass:"text-center",staticStyle:{"text-align":"center",width:"50px"}},[e._v("Id")]),t("th",{staticStyle:{"text-align":"center"}},[e._v("Name")])])]),t("tbody",e._l(e.items,(function(n,i){return t("tr",{key:n.id,class:e.isItemSelected(n)?"pulsate-highlight-white":"",attrs:{id:"item-selection-row-"+n.id}},[t("td",[t("div",{staticClass:"btn-group",attrs:{role:"group"}},[t("b-button",{staticClass:"btn-dark btn-sm btn-outline-warning",on:{click:function(t){return e.selectItem(n)}}},[t("i",{staticClass:"fa fa-arrow-left"})])],1)]),t("td",[e._v("\n            "+e._s(n.id)+"\n          ")]),t("td",{staticClass:"text-left",staticStyle:{"vertical-align":"middle"}},[Object.keys(n).length>0&&n?t("item-popover",{attrs:{item:n,size:"regular"}}):e._e()],1)])})),0)])]):e._e()]):e._e()],1)},O=[],T=(n("ac4d"),n("8a81"),n("5df3"),n("1c4c"),n("7f7f"),n("6b54"),n("4ac1")),R=n("7dc0"),A=n("cd97");function D(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=N(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,r=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return r=e.done,e},e:function(e){c=!0,s=e},f:function(){try{r||null==n.return||n.return()}finally{if(c)throw s}}}}function N(e,t){if(e){if("string"==typeof e)return F(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?F(e,t):void 0}}function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}var j={name:"ItemSelectorPreviewTable",components:{ItemPopover:A["a"],EqWindowSimple:S["a"],EqWindow:d["a"],"eq-item-card-preview":function(){return Promise.resolve().then(n.bind(null,"ec53"))},"v-runtime-template":function(){return n.e("chunk-2d2293ca").then(n.bind(null,"dd1e"))}},data:function(){return{debug:T["a"].DEBUG,debugItemEffects:!1,itemCdnUrl:T["a"].ASSET_ITEM_ICON_BASE_URL,itemEffectInfo:[],itemData:{},sideLoadedItemData:{},componentId:"",reagents:[],effectDescription:"",recourseLink:"",title:"",itemMinis:{},dbClassIcons:h["a"],dbClassesShort:p["b"],highlightedItem:0}},created:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.sideLoadedItemData=g["a"].data;case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),mounted:function(){if(console.log("mounted"),this.items.length>0){var e=document.getElementById("spell-items-table-selector");e&&setTimeout((function(){new R["a"](e)}),100)}this.selectedItemId>0&&(this.highlightedItem=this.selectedItemId)},props:{items:Array,selectedItemId:{type:Number,required:!1}},methods:{selectItem:function(e){this.$emit("input",e),this.highlightedItem=e.id},isItemSelected:function(e){return e.id===this.highlightedItem},getClasses:function(e){var t,n=[],i=e.classes,a=D(Object.entries(p["c"]).reverse());try{for(a.s();!(t=a.n()).done;){var s=Object(c["a"])(t.value,2),r=s[0],l=s[1];r<=i&&(i-=r,n.push(l))}}catch(o){a.e(o)}finally{a.f()}return e.classes>=65535?"ALL":n.join(", ").trim()}}},q=j,P=(n("8bde"),n("2877")),$=Object(P["a"])(q,B,O,!1,null,"296e756d",null),M=$.exports,L={name:"ItemSelector",components:Object(o["a"])(Object(o["a"])(Object(o["a"])({ItemSelectorPreviewTable:M,TaskItemPreviewTable:E["a"],EqWindowSimple:S["a"],ItemPreviewTable:x["a"],EqCheckbox:w["a"],DeityBitmaskCalculator:k["a"],InventorySlotCalculator:_["a"],RaceBitmaskCalculator:y["a"],ClassBitmaskCalculator:b["a"],EqItemCardPreview:f["default"]},"EqItemCardPreview",f["default"]),"EqWindow",d["a"]),"page-header",(function(){return n.e("chunk-2d226c5c").then(n.bind(null,"e9a3"))})),data:function(){return{loaded:!1,items:[],limit:100,dbClassIcons:h["a"],dbClassesShort:p["b"],dbClasses:p["d"],dbItemEffects:v["d"],selectedClasses:0,selectedRaces:0,selectedDeities:0,selectedSlots:0,itemName:"",itemType:-1,spellEffect:"",selectOnlyClassEnabled:!1,filters:{},selectedLevel:0,selectedLevelType:0,listType:"table",itemFields:[],filterOptions:["=","<=",">="],itemTypeOptions:[],searchPerformed:!1}},mounted:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(){var t,n,i,a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.resetFilters(),e.next=3,this.getItemFields();case 3:for(this.itemFields=e.sent,this.itemTypeOptions=[],t=0,n=Object.entries(C);t<n.length;t++)i=Object(c["a"])(n[t],2),a=i[0],s=i[1],this.itemTypeOptions.push({text:a+") "+s,value:a});this.selectedItemId>0&&(this.itemName=this.selectedItemId,this.search()),this.loaded=!0;case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),props:{selectedItemId:{type:Number,required:!1}},methods:{bubbleToParent:function(e){this.$emit("input",e)},search:function(){this.triggerState()},getChangedFilterCount:function(){var e=this,t=0,n=function(n){var i=e.filters[n];e.formFilters().forEach((function(e){(e.field==n&&"undefined"!==typeof e.true&&0==e.true&&0===i||e.field==n&&"undefined"===typeof e.true)&&t++}))};for(var i in this.filters)n(i);return console.log("[getChangedFilterCount] set values [%s]",t),t},getFiltersNonZeroValues:function(){var e=this,t={},n=function(n){var i=e.filters[n];e.formFilters().forEach((function(e){(e.field==n&&"undefined"!==typeof e.true&&0==e.true&&0===i||e.field==n&&"undefined"===typeof e.true)&&(t[e.field]=i)}))};for(var i in this.filters)n(i);return t},triggerCheckboxFilter:function(e,t){for(var n in this.filters){var i=this.filters[n];e==n&&i===t&&delete this.filters[n]}this.listItems()},resetFilters:function(){this.filters={}},resetForm:function(){this.resetFilters(),this.selectedClasses=0,this.selectedRaces=0,this.selectedSlots=0,this.selectedDeities=0,this.itemType=-1,this.itemName="",this.spellEffect="",this.selectedLevel=0,this.limit=100,this.selectedLevelType=0,this.items=null,this.listType="table"},triggerStateDelayed:function(){var e=this;setTimeout((function(){e.triggerState()}),100)},triggerState:function(){this.listItems()},getItemFields:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(){var t,n,i,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=Object(s["a"])(u["G"],Object(r["a"])(m["SpireApi"].cfg())),n={},n.limit=1,e.next=5,t.listItems(n);case 5:if(i=e.sent,200!==i.status||1!==i.data.length){e.next=10;break}return a=[],Object.keys(i.data[0]).forEach((function(e){a.push(e)})),e.abrupt("return",a.sort());case 10:return e.abrupt("return",[]);case 11:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),isClassSelected:function(e){return e===this.selectedClasses},listItems:function(){var e=this;this.loaded=!1;var t=Object(s["a"])(u["G"],Object(r["a"])(m["SpireApi"].cfg())),n=new I["a"];for(var i in this.selectedClasses&&parseInt(this.selectedClasses)>0&&65535!==parseInt(this.selectedClasses)?(this.selectOnlyClassEnabled?n.where("classes","=",this.selectedClasses):n.where("classes","&",this.selectedClasses),n.where("classes","!=",65535)):this.selectedClasses&&parseInt(this.selectedClasses)>0&&65535===parseInt(this.selectedClasses)&&n.where("classes","=",65535),this.selectedRaces&&parseInt(this.selectedRaces)>0&&65535!==parseInt(this.selectedRaces)?(n.where("classes","&",this.selectedRaces),n.where("classes","!=",65535)):this.selectedRaces&&parseInt(this.selectedRaces)>0&&65535===parseInt(this.selectedRaces)&&n.where("races","=",65535),this.selectedDeities&&parseInt(this.selectedDeities)>0&&65535!==parseInt(this.selectedDeities)?(n.where("deity","&",this.selectedDeities),n.where("deity","!=",65535)):this.selectedDeities&&parseInt(this.selectedDeities)>0&&65535===parseInt(this.selectedDeities)&&n.where("deity","=",65535),this.selectedSlots&&parseInt(this.selectedSlots)>0&&65535!==parseInt(this.selectedSlots)?(n.where("slots","&",this.selectedSlots),n.where("slots","!=",65535)):this.selectedSlots&&parseInt(this.selectedSlots)>0&&65535===parseInt(this.selectedSlots)&&n.where("slots","=",65535),this.getFiltersNonZeroValues())n.where(i,"=",this.filters[i]);if(this.itemType&&this.itemType>0&&n.where("itemtype","=",this.itemType),this.selectedLevel>0){var a="=";1===parseInt(this.selectedLevelType)&&(a=">="),2===parseInt(this.selectedLevelType)&&(a="<="),n.where("reqlevel",a,this.selectedLevel)}if(!isNaN(this.itemName)&&this.itemName?n.where("id","=",this.itemName):this.itemName&&n.where("name","like",this.itemName),0===n.getFilterCount())return this.items=null,void(this.loaded=!0);n.groupBy(["id"]),n.limit(this.limit),t.listItems(n.get()).then(function(){var n=Object(l["a"])(regeneratorRuntime.mark((function n(i){var a,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(200!==i.status){n.next=9;break}return e.items=i.data,e.searchPerformed=!0,a=[],n.next=6,Object(s["a"])(u["G"],Object(r["a"])(m["SpireApi"].cfg())).getItemsBulk({body:{ids:a}});case 6:c=n.sent,200==c.status&&c.data&&parseInt(c.data.length)>0&&c.data.forEach((function(e){g["a"].setItem(e.id,e)})),t.getItemsBulk({body:{ids:a}}).then((function(t){200==t.status&&t.data&&parseInt(t.data.length)>0&&t.data.forEach((function(e){g["a"].setItem(e.id,e)})),e.loaded=!0,0===e.items.length&&(e.searchPerformed=!1,e.resetForm())}));case 9:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())}}},H=L,z=Object(P["a"])(H,i,a,!1,null,null,null);t["a"]=z.exports},"3adf":function(e,t,n){},"46f9":function(e,t,n){"use strict";var i=n("bd86"),a=function(){var e=this,t=e._self._c;return e.id?t("div",{style:e.getStyle(),on:{mouseover:function(t){e.hovered=!0},mouseout:function(t){e.hovered=!1}}},[e.label?t("span",[e._v(e._s(e.label))]):e._e(),t("input",{directives:[{name:"model",rawName:"v-model",value:e.inputVal,expression:"inputVal"}],staticClass:"eq-checkbox",attrs:{type:"checkbox",id:e.id,"true-value":e.trueValue,"false-value":e.falseValue,disabled:1===e.disabled},domProps:Object(i["a"])({checked:e.inputVal>0},"checked",Array.isArray(e.inputVal)?e._i(e.inputVal,null)>-1:e._q(e.inputVal,e.trueValue)),on:{change:[function(t){var n=e.inputVal,i=t.target,a=i.checked?e.trueValue:e.falseValue;if(Array.isArray(n)){var s=null,r=e._i(n,s);i.checked?r<0&&(e.inputVal=n.concat([s])):r>-1&&(e.inputVal=n.slice(0,r).concat(n.slice(r+1)))}else e.inputVal=a},function(t){return e.change()}]}}),t("label",{staticClass:"eq-checkbox-label",attrs:{for:e.id}}),e.labelRight?t("span",{staticClass:"ml-3"},[e._v(e._s(e.labelRight))]):e._e()]):e._e()},s=[],r=(n("6b54"),n("c5f6"),{name:"EqCheckbox",data:function(){return{id:"",hovered:!1}},computed:{inputVal:{get:function(){return this.value},set:function(e){this.$emit("input",e)}}},props:{isChecked:{type:Boolean,required:!1,default:!1},disabled:{default:0},fadeWhenNotTrue:{type:Boolean,required:!1,default:!1},label:{type:String,required:!1,default:""},labelRight:{type:String,required:!1,default:""},value:{type:[Number,String,Boolean],required:!1,default:0},trueValue:{type:[Number,String,Boolean],required:!1,default:1},falseValue:{type:[Number,String,Boolean],required:!1,default:0}},mounted:function(){this.init()},methods:{change:function(){this.$emit("change",this.value)},getStyle:function(){return this.fadeWhenNotTrue?this.hovered?"opacity: 1; font-weight: bold;":this.value!==this.trueValue?"opacity: .3":"opacity: 1":""},init:function(){this.id=this.randId()},randId:function(){return"_"+Math.random().toString(36).substr(2,9)}}}),c=r,l=n("2877"),o=Object(l["a"])(c,a,s,!1,null,null,null);t["a"]=o.exports},4917:function(e,t,n){"use strict";var i=n("cb7c"),a=n("9def"),s=n("0390"),r=n("5f1b");n("214f")("match",1,(function(e,t,n,c){return[function(n){var i=e(this),a=void 0==n?void 0:n[t];return void 0!==a?a.call(n,i):new RegExp(n)[t](String(i))},function(e){var t=c(n,e,this);if(t.done)return t.value;var l=i(e),o=String(this);if(!l.global)return r(l,o);var u=l.unicode;l.lastIndex=0;var d,m=[],f=0;while(null!==(d=r(l,o))){var h=String(d[0]);m[f]=h,""===h&&(l.lastIndex=s(o,a(l.lastIndex),u)),f++}return 0===f?null:m}]}))},"4f7f":function(e,t,n){"use strict";var i=n("c26b"),a=n("b39a"),s="Set";e.exports=n("e0b8")(s,(function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(e){return i.def(a(this,s),e=0===e?0:e,e)}},i)},"56c7":function(e,t,n){"use strict";n("7058")},6267:function(e,t,n){"use strict";n("7f7f");var i=function(){var e=this,t=e._self._c;return e.mask>=0?t("div",{staticClass:"row"},[t("div",{staticClass:"mr-3 d-inline-block text-center",style:"display: inline-block "+(e.centeredButtons?"width: 100%":"")},[e._l(e.slots,(function(n,i){return t("div",{staticClass:"mb-1 text-center d-inline-block"},[e.isSlotSkipped(i)?e._e():t("div",{staticClass:"text-center p-0 mr-1 col-lg-12 col-sm-12"},[e.showTextTop?t("span",{staticClass:"d-inline-block",style:"font-size: 12px; white-space: nowrap; overflow: hidden;text-overflow: ellipsis; max-width: "+e.imageSize+"px;"},[e._v("\n          "+e._s(n.name)+"\n        ")]):e._e(),t("div",{staticClass:"text-center"},[t("img",{staticClass:"hover-highlight",style:e.getImageSize()+(e.isSlotSelected(i)?"border: 2px solid #dadada; border-radius: 7px;":"border-radius: 7px; "),attrs:{title:n.name,src:e.slotUrl+"old_slot_"+i+".gif"},on:{click:function(t){return e.selectSlot(i)}}})])])])})),e.displayAllNone?t("div",{staticClass:"d-inline-block"},[t("div",{class:"text-center mt-4 btn-xs eq-button-fancy "+(parseInt(e.mask)>=8388607?"eq-button-fancy-highlighted":""),on:{click:function(t){return e.selectAll()}}},[e._v("\n        All\n      ")]),t("div",{class:"text-center mt-4 btn-xs eq-button-fancy "+(0===parseInt(e.mask)?"eq-button-fancy-highlighted":""),on:{click:function(t){return e.selectNone()}}},[e._v("\n        None\n      ")])]):e._e()],2)]):e._e()},a=[],s=(n("456d"),n("ac6a"),n("c5f6"),{0:{name:"Charm",mask:1},1:{name:"Ear",mask:2},2:{name:"Head",mask:4},3:{name:"Face",mask:8},4:{name:"Ear",mask:16},5:{name:"Neck",mask:32},6:{name:"Shoulder",mask:64},7:{name:"Arms",mask:128},8:{name:"Back",mask:256},9:{name:"Bracer",mask:512},10:{name:"Bracer",mask:1024},11:{name:"Range",mask:2048},12:{name:"Hands",mask:4096},13:{name:"Primary",mask:8192},14:{name:"Secondary",mask:16384},15:{name:"Ring",mask:32768},16:{name:"Ring",mask:65536},17:{name:"Chest",mask:131072},18:{name:"Legs",mask:262144},19:{name:"Feet",mask:524288},20:{name:"Waist",mask:1048576},21:{name:"Powersource",mask:2097152},22:{name:"Ammo",mask:4194304}}),r={EAR_1:1,EAR_2:4,BRACER_1:9,BRACER_2:10,RING_1:15,RING_2:16},c=n("4ac1"),l=n("3022"),o=n.n(l),u={name:"InventorySlotCalculator",data:function(){return{slotUrl:c["a"].ASSET_INVENTORY_SLOT_URL,slots:s,selectedSlots:{},currentMask:0}},props:{mask:{type:Number,required:!1},displayAllNone:{type:Boolean,required:!1,default:!0},skipDuplicateSlots:{type:Boolean,required:!1,default:!1},showTextTop:{type:Boolean,required:!1,default:!0},centeredButtons:{type:Boolean,required:!1,default:!0},imageSize:{type:Number,required:!1,default:50}},mounted:function(){this.currentMask=parseInt(this.mask),this.calculateFromBitmask()},watch:{mask:{immediate:!0,handler:function(e,t){this.currentMask=parseInt(this.mask),this.calculateFromBitmask()}}},methods:{getImageSize:function(){return o.a.format("width: %spx; height %spx;",this.imageSize,this.imageSize)},isSlotSkipped:function(e){if(!this.skipDuplicateSlots)return!1;if(this.skipDuplicateSlots){if(e=parseInt(e),e===r.EAR_2)return!0;if(e===r.BRACER_2)return!0;if(e===r.RING_2)return!0}},selectAll:function(){var e=this;Object.keys(this.slots).reverse().forEach((function(t){e.selectedSlots[t]=!0})),this.$forceUpdate(),this.calculateToBitmask()},selectNone:function(){var e=this;Object.keys(this.slots).reverse().forEach((function(t){e.selectedSlots[t]=!1})),this.$forceUpdate(),this.calculateToBitmask()},selectSlot:function(e){e=parseInt(e),this.selectedSlots[e]=!this.selectedSlots[e];var t={};t[r.EAR_1]=r.EAR_2,t[r.EAR_2]=r.EAR_1,t[r.BRACER_1]=r.BRACER_2,t[r.BRACER_2]=r.BRACER_1,t[r.RING_1]=r.RING_2,t[r.RING_2]=r.RING_1,t[e]&&(this.selectedSlots[t[e]]=this.selectedSlots[e]),this.$forceUpdate(),this.calculateToBitmask()},isSlotSelected:function(e){return this.selectedSlots[e]},calculateFromBitmask:function(){var e=this;Object.keys(this.slots).reverse().forEach((function(t){var n=e.slots[t];e.selectedSlots[t]=!1,e.currentMask>=n.mask&&(e.currentMask-=n.mask,e.selectedSlots[t]=!0)})),this.$forceUpdate()},calculateToBitmask:function(){var e=this,t=0;Object.keys(this.slots).reverse().forEach((function(n){var i=e.slots[n];e.selectedSlots[n]&&(t+=parseInt(i.mask))})),this.$emit("update:inputData",parseInt(t)),this.$emit("input",parseInt(t)),this.$emit("fired","true")}}},d=u,m=n("2877"),f=Object(m["a"])(d,i,a,!1,null,null,null);t["a"]=f.exports},7058:function(e,t,n){},7514:function(e,t,n){"use strict";var i=n("5ca1"),a=n("0a49")(5),s="find",r=!0;s in[]&&Array(1)[s]((function(){r=!1})),i(i.P+i.F*r,"Array",{find:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}}),n("9c6c")(s)},"7dc0":function(e,t,n){"use strict";(function(e){n("4917"),n("a481"),n("55dd"),n("7f7f"),n("7514");function i(e,t){if(!(this instanceof i))return new i(e,t);if(!e||"TABLE"!==e.tagName)throw new Error("Element must be a table");this.init(e,t||{})}var a=[],s=function(e){var t;return window.CustomEvent&&"function"===typeof window.CustomEvent?t=new CustomEvent(e):(t=document.createEvent("CustomEvent"),t.initCustomEvent(e,!1,!1,void 0)),t},r=function(e,t){return e.getAttribute(t.sortAttribute||"data-sort")||e.textContent||e.innerText||""},c=function(e,t){return e=e.trim().toLowerCase(),t=t.trim().toLowerCase(),e===t?0:e<t?1:-1},l=function(e,t){return[].slice.call(e).find((function(e){return e.getAttribute("data-sort-column-key")===t}))},o=function(e,t){return function(n,i){var a=e(n.td,i.td);return 0===a?t?i.index-n.index:n.index-i.index:a}};i.extend=function(e,t,n){if("function"!==typeof t||"function"!==typeof n)throw new Error("Pattern and sort must be a function");a.push({name:e,pattern:t,sort:n})},i.prototype={init:function(e,t){var n,i,a,s,r=this;if(r.table=e,r.thead=!1,r.options=t,e.rows&&e.rows.length>0)if(e.tHead&&e.tHead.rows.length>0){for(a=0;a<e.tHead.rows.length;a++)if("thead"===e.tHead.rows[a].getAttribute("data-sort-method")){n=e.tHead.rows[a];break}n||(n=e.tHead.rows[e.tHead.rows.length-1]),r.thead=!0}else n=e.rows[0];if(n){var c=function(){r.current&&r.current!==this&&r.current.removeAttribute("aria-sort"),r.current=this,r.sortTable(this)};for(a=0;a<n.cells.length;a++)s=n.cells[a],s.setAttribute("role","columnheader"),"none"!==s.getAttribute("data-sort-method")&&(s.tabindex=0,s.addEventListener("click",c,!1),null!==s.getAttribute("data-sort-default")&&(i=s));i&&(r.current=i,r.sortTable(i))}},sortTable:function(e,t){var n=this,i=e.getAttribute("data-sort-column-key"),u=e.cellIndex,d=c,m="",f=[],h=n.thead?0:1,p=e.getAttribute("data-sort-method"),v=e.getAttribute("aria-sort");if(n.table.dispatchEvent(s("beforeSort")),t||(v="ascending"===v?"descending":"descending"===v?"ascending":n.options.descending?"descending":"ascending",e.setAttribute("aria-sort",v)),!(n.table.rows.length<2)){if(!p){while(f.length<3&&h<n.table.tBodies[0].rows.length)C=i?l(n.table.tBodies[0].rows[h].cells,i):n.table.tBodies[0].rows[h].cells[u],m=C?r(C,n.options):"",m=m.trim(),m.length>0&&f.push(m),h++;if(!f)return}for(h=0;h<a.length;h++)if(m=a[h],p){if(m.name===p){d=m.sort;break}}else if(f.every(m.pattern)){d=m.sort;break}for(n.col=u,h=0;h<n.table.tBodies.length;h++){var g,b=[],y={},_=0,k=0;if(!(n.table.tBodies[h].rows.length<2)){for(g=0;g<n.table.tBodies[h].rows.length;g++){var C;m=n.table.tBodies[h].rows[g],"none"===m.getAttribute("data-sort-method")?y[_]=m:(C=i?l(m.cells,i):m.cells[n.col],b.push({tr:m,td:C?r(C,n.options):"",index:_})),_++}for("descending"===v?b.sort(o(d,!0)):(b.sort(o(d,!1)),b.reverse()),g=0;g<_;g++)y[g]?(m=y[g],k++):m=b[g-k].tr,n.table.tBodies[h].appendChild(m)}}n.table.dispatchEvent(s("afterSort"))}},refresh:function(){void 0!==this.current&&this.sortTable(this.current,!0)}},e.exports?e.exports=i:window.Tablesort=i;var u=function(e){return e.replace(/[^\-?0-9.]/g,"")},d=function(e,t){return e=parseFloat(e),t=parseFloat(t),e=isNaN(e)?0:e,t=isNaN(t)?0:t,e-t};i.extend("number",(function(e){return e.match(/^[-+]?[£\x24Û¢´€]?\d+\s*([,\.]\d{0,2})/)||e.match(/^[-+]?\d+\s*([,\.]\d{0,2})?[£\x24Û¢´€]/)||e.match(/^[-+]?(\d)*-?([,\.]){0,1}-?(\d)+([E,e][\-+][\d]+)?%?$/)}),(function(e,t){return e=u(e),t=u(t),d(t,e)})),t["a"]=i}).call(this,n("dd40")(e))},"8bde":function(e,t,n){"use strict";n("3adf")},"8e6e":function(e,t,n){var i=n("5ca1"),a=n("990b"),s=n("6821"),r=n("11e9"),c=n("f1ae");i(i.S,"Object",{getOwnPropertyDescriptors:function(e){var t,n,i=s(e),l=r.f,o=a(i),u={},d=0;while(o.length>d)n=l(i,t=o[d++]),void 0!==n&&c(u,t,n);return u}})},"8e98":function(e){e.exports=JSON.parse('{"0":"1H Slashing","1":"2H Slashing","2":"Piercing","3":"1H Blunt","4":"2H Blunt","5":"Archery","6":"Crossbow","7":"Throwing v1","8":"Shield","9":"Spell","10":"Armor","11":"Misc","12":"Lockpicks","13":"Fist","14":"Food","15":"Drink","16":"Light","17":"Combinable","18":"Bandages","19":"Throwing v2","20":"Scroll","21":"Potion","22":"Fletched Arrow","23":"Wind Instrument","24":"Stringed Instrument","25":"Brass Instrument","26":"Percussion Instrument","27":"Arrow","28":"Bolt","29":"Jewelry","30":"Skull","31":"Book","32":"Note","33":"Key v1","34":"Coin","35":"2H Piercing","36":"Fishing Pole","37":"Fishing Bait","38":"Alcohol","39":"Key v2","40":"Compass","41":"Metal Key","42":"Poison","43":"Magic Arrow","44":"Magic Bolt","45":"Hand to Hand","46":"Item Has Effect","47":"Haste Item","48":"Item Has FT","49":"Item Has Focus","50":"Singing Instrument","51":"All Instruments","52":"Charm","53":"Armor Dye","54":"Augment","55":"Augment Solvent","56":"Augment Distiller","57":"Alternate Ability","58":"Guild Banner Kit","59":"Guild Banner Modify Token","60":"Cultural Armor Recipe Book","61":"Cultural Weapon Recipe Book","62":"Book with Spell Effect","63":"Alternate Currency","64":"Perfected Augment Distiller","65":"Placeable","66":"Collectible","67":"Container","68":"Mount","69":"Illusion","70":"Familiar","71":"Unknown71","72":"Unknown72","255":"None"}')},"933e":function(e,t,n){"use strict";var i=function(){var e=this,t=e._self._c;return e.inputVal?t("div",[t("b-form-group",{staticClass:"mb-0",attrs:{"label-for":"tags-component-select"}},[t("b-form-tags",{staticClass:"mb-2 p-0",staticStyle:{"background-color":"transparent",border:"transparent"},attrs:{id:"tags-component-select","add-on-change":"","no-outer-focus":""},scopedSlots:e._u([{key:"default",fn:function(n){var i=n.tags,a=n.inputAttrs,s=n.inputHandlers,r=n.disabled,c=n.removeTag;return[i.length>0?t("ul",{staticClass:"list-inline d-inline-block mb-2"},e._l(i,(function(n){return t("li",{key:n,staticClass:"list-inline-item"},[t("b-form-tag",{attrs:{title:n,disabled:r,variant:"warning"},on:{remove:function(e){return c(n)}}},[e._v(e._s(n)+"\n            ")])],1)})),0):e._e(),t("b-form-select",e._g(e._b({attrs:{disabled:r||0===e.availableOptions.length,options:e.availableOptions},scopedSlots:e._u([{key:"first",fn:function(){return[t("option",{attrs:{disabled:"",value:""}},[e._v(e._s(0===e.availableOptions.length?"All Flags Selected":"Add a flag...")+"\n            ")])]},proxy:!0}],null,!0)},"b-form-select",a,!1),s))]}}],null,!1,2283319955),model:{value:e.inputVal,callback:function(t){e.inputVal=t},expression:"inputVal"}})],1)],1):e._e()},a=[],s=(n("ac4d"),n("8a81"),n("5df3"),n("1c4c"),n("7f7f"),n("6b54"),n("28a5"),n("96cf"),n("3b8d")),r=n("9a04"),c=n("75fc"),l=(n("3846"),n("d225")),o=n("b0b4"),u=n("9ab4"),d=n("a7a1"),m=n("0d95"),f=function(){function e(){Object(l["a"])(this,e)}return Object(o["a"])(e,null,[{key:"get",value:function(){return Object(u["d"])(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(this.flags&&this.flags.length>0)){e.next=2;break}return e.abrupt("return",this.flags);case 2:return e.next=4,Object(r["a"])(d["ContentFlagApi"],Object(c["a"])(m["SpireApi"].cfg())).listContentFlags();case 4:if(t=e.sent,200!==t.status){e.next=8;break}return this.flags=t.data,e.abrupt("return",t.data);case 8:return e.abrupt("return",[]);case 9:case"end":return e.stop()}}),e,this)})))}}])}();function h(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=p(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,r=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return r=e.done,e},e:function(e){c=!0,s=e},f:function(){try{r||null==n.return||n.return()}finally{if(c)throw s}}}}function p(e,t){if(e){if("string"==typeof e)return v(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(e,t):void 0}}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}f.flags=[];var g={name:"ContentFlagSelector",props:{value:[String,Array]},data:function(){return{options:[],availableOptions:[]}},mounted:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,n,i,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=[],e.t0=h,e.next=4,f.get();case 4:e.t1=e.sent,n=(0,e.t0)(e.t1);try{for(n.s();!(i=n.n()).done;)a=i.value,t.push(a.flag_name)}catch(s){n.e(s)}finally{n.f()}this.options=t,this.calcAvailableOptions();case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),methods:{calcAvailableOptions:function(){var e=this;console.log("calcing options",this.inputVal),this.availableOptions=this.options.filter((function(t){return-1===e.inputVal.indexOf(t)})),console.log(this.availableOptions)}},watch:{value:{handler:function(e){var t=this;console.log("[ContentFlagSelector] value watcher [%s]",this.value),setTimeout((function(){console.log("firing options"),t.calcAvailableOptions()}),100)}},deep:!0},computed:{inputVal:{get:function(){var e=this.value;return console.log("[ContentFlagSelector] value computed [%s]",e),"undefined"===typeof e||null===e?[]:Array.isArray(e)?e&&e.length>0?e:[]:"string"===typeof e||e instanceof String?e.split(","):[]},set:function(e){var t=e?e.join(","):"";console.log("[ContentFlagSelector] value computed set [%s]",t),this.value!==t&&this.$emit("input",t)}}}},b=g,y=n("2877"),_=Object(y["a"])(b,i,a,!1,null,null,null);t["a"]=_.exports},"990b":function(e,t,n){var i=n("9093"),a=n("2621"),s=n("cb7c"),r=n("7726").Reflect;e.exports=r&&r.ownKeys||function(e){var t=i.f(s(e)),n=a.f;return n?t.concat(n(e)):t}},"9e5c":function(e,t,n){"use strict";n("cbc6")},a25c:function(e,t,n){"use strict";var i=function(){var e=this,t=e._self._c;return e.mask>=0?t("div",{staticClass:"row"},[t("div",{staticClass:"ml-1 mr-3 d-inline-block text-center",style:e.centeredButtons?"width: 100%":""},[e._l(e.races,(function(n,i){return t("div",{staticClass:"text-center d-inline-block"},[t("div",{staticClass:"text-center p-0 mr-1 col-lg-12 col-sm-12"},[e.showTextTop?t("span",[e._v(e._s(n.short))]):e._e(),t("div",{staticClass:"text-center"},[t("span",{class:"hover-highlight-inner item-"+n.icon+" "+(e.isRaceSelected(i)?"highlight-selected-inner":""),style:e.isRaceSelected(i)?"border-radius: 3px;":"border-radius: 3px; opacity: .6",attrs:{title:n.race},on:{click:function(t){return e.selectRace(i)}}})])])])})),e.displayAllNone?t("div",{staticClass:"d-inline-block",style:"line-height: 25px; bottom: "+(e.centeredButtons?-10:15)+"px; position: relative;"},[t("div",{class:"text-center mt-2 btn-xs eq-button-fancy "+(parseInt(e.mask)>=65535?"eq-button-fancy-highlighted":""),on:{click:function(t){return e.selectAll()}}},[e._v("\n        All\n      ")]),t("div",{class:"text-center mt-2 btn-xs eq-button-fancy "+(0===parseInt(e.mask)?"eq-button-fancy-highlighted":""),on:{click:function(t){return e.selectNone()}}},[e._v("\n        None\n      ")])]):e._e()],2)]):e._e()},a=[],s=(n("456d"),n("ac6a"),n("c5f6"),n("6023")),r=n("3022"),c=n.n(r),l={name:"RaceBitmaskCalculator",props:{debug:{type:Boolean,required:!1},mask:{type:Number,required:!1},displayAllNone:{type:Boolean,required:!1,default:!0},centeredButtons:{type:Boolean,required:!1,default:!0},showTextTop:{type:Boolean,required:!1,default:!0},imageSize:{type:Number,required:!1,default:50}},watch:{mask:{immediate:!0,handler:function(e,t){this.currentMask=parseInt(this.mask),this.calculateFromBitmask()}}},data:function(){return{races:s["a"],selectedRaces:{},currentMask:0}},mounted:function(){this.currentMask=parseInt(this.mask),this.calculateFromBitmask()},methods:{getImageSize:function(){return c.a.format("width: %spx; height %spx;",this.imageSize,this.imageSize)},selectAll:function(){var e=this;Object.keys(this.races).reverse().forEach((function(t){e.selectedRaces[t]=!0})),this.$forceUpdate(),this.calculateToBitmask()},selectNone:function(){var e=this;Object.keys(this.races).reverse().forEach((function(t){e.selectedRaces[t]=!1})),this.$forceUpdate(),this.calculateToBitmask()},calculateFromBitmask:function(){var e=this;Object.keys(this.races).reverse().forEach((function(t){var n=e.races[t];e.selectedRaces[t]=!1,e.currentMask>=n.mask&&(e.currentMask-=n.mask,e.selectedRaces[t]=!0)})),this.$forceUpdate()},calculateToBitmask:function(){var e=this,t=0;Object.keys(this.races).reverse().forEach((function(n){var i=e.races[n];e.selectedRaces[n]&&(t+=parseInt(i.mask))})),this.$emit("update:inputData",parseInt(t)),this.$emit("input",parseInt(t)),this.$emit("fired","true")},selectRace:function(e){this.selectedRaces[e]=!this.selectedRaces[e],this.$forceUpdate(),this.calculateToBitmask()},isRaceSelected:function(e){return this.selectedRaces[e]}}},o=l,u=n("2877"),d=Object(u["a"])(o,i,a,!1,null,"210202d6",null);t["a"]=d.exports},b39a:function(e,t,n){var i=n("d3f4");e.exports=function(e,t){if(!i(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},b51d:function(e,t,n){"use strict";var i=function(){var e=this,t=e._self._c;return e.mask>=0?t("div",{staticClass:"row"},[t("div",{staticClass:"ml-1 mr-3 d-inline-block",style:e.centeredButtons?"width: 100%; margin: 0;":""},[e._l(e.classes,(function(n,i){return t("div",{staticClass:"d-inline-block"},[t("div",{staticClass:"text-center p-0 mr-1 col-lg-12 col-sm-12"},[e.showTextTop?t("span",[e._v(e._s(n.short))]):e._e(),t("div",{staticClass:"text-center"},[t("span",{class:"hover-highlight-inner item-"+n.icon+" "+(e.isClassSelected(i)?"highlight-selected-inner":""),style:e.isClassSelected(i)?"border-radius: 3px;":"border-radius: 3px; opacity: .6",attrs:{title:n.class},on:{click:function(t){return e.selectClass(i)}}})])])])})),e.displayAllNone?t("div",{staticClass:"d-inline-block",style:"line-height: 25px; bottom: "+(e.centeredButtons?-10:15)+"px; position: relative;"},[t("div",{class:"text-center mt-2 btn-xs eq-button-fancy "+(parseInt(e.mask)>=65535&&!this.isOnlySelectedAndEnabled()?"eq-button-fancy-highlighted":""),on:{click:function(t){return e.selectAll()}}},[e._v("\n        All\n      ")]),t("div",{class:"text-center mt-2 btn-xs eq-button-fancy "+(0!==parseInt(e.mask)||this.isOnlySelectedAndEnabled()?"":"eq-button-fancy-highlighted"),on:{click:function(t){return e.selectNone()}}},[e._v("\n        None\n      ")]),e.addOnlyButtonEnabled?t("div",{class:"text-center mt-2 btn-xs eq-button-fancy "+(this.onlySelected?"eq-button-fancy-highlighted":""),attrs:{title:"When this is selected, only entries selected will appear in the results"},on:{click:function(t){return e.selectOnly()}}},[e._v("\n        Only\n      ")]):e._e()]):e._e()],2)]):e._e()},a=[],s=(n("456d"),n("ac6a"),n("c5f6"),n("4ac1"),n("a50e")),r=(n("3022"),{name:"ClassBitmaskCalculator",props:{debug:{type:Boolean,required:!1},mask:{type:Number,required:!1},displayAllNone:{type:Boolean,required:!1,default:!0},centeredButtons:{type:Boolean,required:!1,default:!0},showTextTop:{type:Boolean,required:!1,default:!0},showTextSide:{type:Boolean,required:!1,default:!1},addOnlyButtonEnabled:{type:Boolean,required:!1,default:!1},addOnlyStateEnabled:{type:Boolean,required:!1,default:!1}},watch:{mask:{immediate:!0,handler:function(e,t){this.currentMask=parseInt(this.mask),this.calculateFromBitmask()}}},data:function(){return{classes:s["e"],selectedClasses:{},currentMask:0,onlySelected:!1}},mounted:function(){var e=this;setTimeout((function(){e.addOnlyButtonEnabled&&e.addOnlyStateEnabled&&(e.onlySelected=!0)}),100),this.currentMask=parseInt(this.mask),this.calculateFromBitmask()},methods:{isOnlySelectedAndEnabled:function(){return this.addOnlyButtonEnabled&&this.onlySelected},selectOnly:function(){this.selectNone(),console.log("selecting only"),this.onlySelected=!0},selectAll:function(){var e=this;this.onlySelected=!1,Object.keys(this.classes).reverse().forEach((function(t){e.selectedClasses[t]=!0})),this.$forceUpdate(),this.calculateToBitmask()},selectNone:function(){var e=this;this.onlySelected=!1,Object.keys(this.classes).reverse().forEach((function(t){e.selectedClasses[t]=!1})),this.$forceUpdate(),this.calculateToBitmask()},calculateFromBitmask:function(){var e=this;Object.keys(this.classes).reverse().forEach((function(t){var n=e.classes[t];e.selectedClasses[t]=!1,e.currentMask>=n.mask&&(e.currentMask-=n.mask,e.selectedClasses[t]=!0)})),this.$forceUpdate()},calculateToBitmask:function(){var e=this,t=0;Object.keys(this.classes).reverse().forEach((function(n){var i=e.classes[n];e.selectedClasses[n]&&(t+=parseInt(i.mask))})),this.$emit("update:inputData",parseInt(t)),this.$emit("selectOnly",this.onlySelected),this.$emit("input",parseInt(t)),this.$emit("fired","true")},selectClass:function(e){var t=this;this.isOnlySelectedAndEnabled()&&Object.keys(this.classes).forEach((function(e){t.selectedClasses[e]=!1})),this.selectedClasses[e]=!this.selectedClasses[e],this.$forceUpdate(),this.calculateToBitmask()},isClassSelected:function(e){return this.selectedClasses[e]}}}),c=r,l=n("2877"),o=Object(l["a"])(c,i,a,!1,null,"510851bf",null);t["a"]=o.exports},bd86:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("454f"),a=n.n(i),s=n("a6fa");function r(e,t,n){return(t=Object(s["a"])(t))in e?a()(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},c26b:function(e,t,n){"use strict";var i=n("86cc").f,a=n("2aeb"),s=n("dcbc"),r=n("9b43"),c=n("f605"),l=n("4a59"),o=n("01f9"),u=n("d53b"),d=n("7a56"),m=n("9e1e"),f=n("67ab").fastKey,h=n("b39a"),p=m?"_s":"size",v=function(e,t){var n,i=f(t);if("F"!==i)return e._i[i];for(n=e._f;n;n=n.n)if(n.k==t)return n};e.exports={getConstructor:function(e,t,n,o){var u=e((function(e,i){c(e,u,t,"_i"),e._t=t,e._i=a(null),e._f=void 0,e._l=void 0,e[p]=0,void 0!=i&&l(i,n,e[o],e)}));return s(u.prototype,{clear:function(){for(var e=h(this,t),n=e._i,i=e._f;i;i=i.n)i.r=!0,i.p&&(i.p=i.p.n=void 0),delete n[i.i];e._f=e._l=void 0,e[p]=0},delete:function(e){var n=h(this,t),i=v(n,e);if(i){var a=i.n,s=i.p;delete n._i[i.i],i.r=!0,s&&(s.n=a),a&&(a.p=s),n._f==i&&(n._f=a),n._l==i&&(n._l=s),n[p]--}return!!i},forEach:function(e){h(this,t);var n,i=r(e,arguments.length>1?arguments[1]:void 0,3);while(n=n?n.n:this._f){i(n.v,n.k,this);while(n&&n.r)n=n.p}},has:function(e){return!!v(h(this,t),e)}}),m&&i(u.prototype,"size",{get:function(){return h(this,t)[p]}}),u},def:function(e,t,n){var i,a,s=v(e,t);return s?s.v=n:(e._l=s={i:a=f(t,!0),k:t,v:n,p:i=e._l,n:void 0,r:!1},e._f||(e._f=s),i&&(i.n=s),e[p]++,"F"!==a&&(e._i[a]=s)),e},getEntry:v,setStrong:function(e,t,n){o(e,t,(function(e,n){this._t=h(e,t),this._k=n,this._l=void 0}),(function(){var e=this,t=e._k,n=e._l;while(n&&n.r)n=n.p;return e._t&&(e._l=n=n?n.n:e._t._f)?u(0,"keys"==t?n.k:"values"==t?n.v:[n.k,n.v]):(e._t=void 0,u(1))}),n?"entries":"values",!n,!0),d(t)}}},c4af:function(e,t,n){"use strict";n("ac6a"),n("456d");var i=function(){var e=this,t=e._self._c;return t("div",[e.items&&0===e.items.length?t("div",{staticClass:"eq-window-simple text-center"},[e._v("\n    No items were found\n  ")]):e._e(),e.items.length>0?t("eq-window-simple",{staticClass:"mt-3 p-0",staticStyle:{"overflow-x":"scroll",height:"85vh","overflow-y":"scroll"}},[e.items.length>0?t("div",{staticClass:"item-table"},[t("table",{staticClass:"eq-table bordered eq-highlight-rows",staticStyle:{display:"table","overflow-x":"scroll"},attrs:{id:"spell-items-table-selector"}},[t("thead",[t("tr",[t("th",{staticStyle:{"text-align":"center",width:"50px"}}),t("th",{staticClass:"text-center",staticStyle:{"text-align":"center",width:"50px"}},[e._v("Id")]),t("th",{staticStyle:{"text-align":"center"}},[e._v("Name")])])]),t("tbody",e._l(e.items,(function(n,i){return t("tr",{key:n.id,class:e.isItemSelected(n)?"pulsate-highlight-white":"",attrs:{id:"item-selection-row-"+n.id}},[t("td",[t("div",{staticClass:"btn-group",attrs:{role:"group"}},[t("b-button",{staticClass:"btn-dark btn-sm btn-dark",on:{click:function(t){return e.selectItem(n)}}},[t("i",{staticClass:"fa fa-arrow-left"})])],1)]),t("td",[e._v("\n            "+e._s(n.id)+"\n          ")]),t("td",{staticClass:"text-left",staticStyle:{"vertical-align":"middle"}},[Object.keys(n).length>0&&n?t("item-popover",{attrs:{item:n,size:"regular"}}):e._e()],1)])})),0)])]):e._e()]):e._e()],1)},a=[],s=(n("ac4d"),n("8a81"),n("5df3"),n("1c4c"),n("7f7f"),n("6b54"),n("768b")),r=(n("ffc1"),n("96cf"),n("3b8d")),c=n("5201"),l=n("935a"),o=n("4ac1"),u=n("f4a8"),d=n("a50e"),m=n("7dc0"),f=n("093e"),h=n("cd97");function p(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=v(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,r=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return r=e.done,e},e:function(e){c=!0,s=e},f:function(){try{r||null==n.return||n.return()}finally{if(c)throw s}}}}function v(e,t){if(e){if("string"==typeof e)return g(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,t):void 0}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}var b={name:"TaskItemPreviewTable",components:{ItemPopover:h["a"],EqWindowSimple:f["a"],EqWindow:l["a"],"eq-item-card-preview":function(){return Promise.resolve().then(n.bind(null,"ec53"))},"v-runtime-template":function(){return n.e("chunk-2d2293ca").then(n.bind(null,"dd1e"))}},data:function(){return{debug:o["a"].DEBUG,debugItemEffects:!1,itemCdnUrl:o["a"].ASSET_ITEM_ICON_BASE_URL,itemEffectInfo:[],itemData:{},sideLoadedItemData:{},componentId:"",reagents:[],effectDescription:"",recourseLink:"",title:"",itemMinis:{},dbClassIcons:u["a"],dbClassesShort:d["b"],highlightedItem:0}},created:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.sideLoadedItemData=c["a"].data;case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),mounted:function(){if(console.log("mounted"),this.items.length>0){var e=document.getElementById("spell-items-table-selector");e&&setTimeout((function(){new m["a"](e)}),100)}},props:{items:Array},methods:{selectItem:function(e){this.$emit("input",e),this.highlightedItem=e.id},isItemSelected:function(e){return e.id===this.highlightedItem},getClasses:function(e){var t,n=[],i=e.classes,a=p(Object.entries(d["c"]).reverse());try{for(a.s();!(t=a.n()).done;){var r=Object(s["a"])(t.value,2),c=r[0],l=r[1];c<=i&&(i-=c,n.push(l))}}catch(o){a.e(o)}finally{a.f()}return e.classes>=65535?"ALL":n.join(", ").trim()}}},y=b,_=(n("9e5c"),n("2877")),k=Object(_["a"])(y,i,a,!1,null,"40cbd934",null);t["a"]=k.exports},cbc6:function(e,t,n){},cd1c:function(e,t,n){var i=n("e853");e.exports=function(e,t){return new(i(e))(t)}},cd97:function(e,t,n){"use strict";n("7f7f");var i=function(){var e=this,t=e._self._c;return e.item?t("div",[t("div",{staticStyle:{display:"inline-block"},attrs:{id:e.item.id+"-"+e.popoverId+"-popover"}},[t("span",{class:"item-"+e.item.icon+("regular"===this.size?"":"-sm"),staticStyle:{display:"inline-block"},attrs:{title:e.item.icon}}),t("span",{class:"sm"===e.size?"ml-2":"ml-3",style:"position:relative;"+("regular"===this.size?"top: -15px":"")},[e._v(e._s(e.item.name)+" "+e._s(e.annotation)+" "),e._t("default")],2)]),t("b-popover",{staticStyle:{width:"500px !important"},attrs:{target:e.item.id+"-"+e.popoverId+"-popover","custom-class":"no-bg",placement:"right",delay:"0",boundary:"viewport","no-fade":!0,triggers:"hover focus"}},[t("eq-window",{staticStyle:{width:"auto",height:"100%"}},[t("eq-item-card-preview",{attrs:{"item-data":e.item,"show-related-data":e.showRelatedData}})],1)],1)],1):e._e()},a=[],s=(n("6b54"),n("935a")),r=(n("5201"),n("ec53")),c={name:"ItemPopover",props:{item:Object,size:{type:String,required:!1,default:"sm"},annotation:{type:String,required:!1,default:""},showRelatedData:{type:Boolean,required:!1,default:!1}},data:function(){return{popoverId:Math.random().toString(16).slice(2),itemEffectInfo:[]}},components:{EqItemCardPreview:r["default"],EqWindow:s["a"]}},l=c,o=n("2877"),u=Object(o["a"])(l,i,a,!1,null,"423115ce",null);t["a"]=u.exports},dd40:function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},e0b8:function(e,t,n){"use strict";var i=n("7726"),a=n("5ca1"),s=n("2aba"),r=n("dcbc"),c=n("67ab"),l=n("4a59"),o=n("f605"),u=n("d3f4"),d=n("79e5"),m=n("5cc5"),f=n("7f20"),h=n("5dbc");e.exports=function(e,t,n,p,v,g){var b=i[e],y=b,_=v?"set":"add",k=y&&y.prototype,C={},w=function(e){var t=k[e];s(k,e,"delete"==e||"has"==e?function(e){return!(g&&!u(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return g&&!u(e)?void 0:t.call(this,0===e?0:e)}:"add"==e?function(e){return t.call(this,0===e?0:e),this}:function(e,n){return t.call(this,0===e?0:e,n),this})};if("function"==typeof y&&(g||k.forEach&&!d((function(){(new y).entries().next()})))){var x=new y,S=x[_](g?{}:-0,1)!=x,I=d((function(){x.has(1)})),E=m((function(e){new y(e)})),B=!g&&d((function(){var e=new y,t=5;while(t--)e[_](t,t);return!e.has(-0)}));E||(y=t((function(t,n){o(t,y,e);var i=h(new b,t,y);return void 0!=n&&l(n,v,i[_],i),i})),y.prototype=k,k.constructor=y),(I||B)&&(w("delete"),w("has"),v&&w("get")),(B||S)&&w(_),g&&k.clear&&delete k.clear}else y=p.getConstructor(t,e,v,_),r(y.prototype,n),c.NEED=!0;return f(y,e),C[e]=y,a(a.G+a.W+a.F*(y!=b),C),g||p.setStrong(y,e,v),y}},e853:function(e,t,n){var i=n("d3f4"),a=n("1169"),s=n("2b4c")("species");e.exports=function(e){var t;return a(e)&&(t=e.constructor,"function"!=typeof t||t!==Array&&!a(t.prototype)||(t=void 0),i(t)&&(t=t[s],null===t&&(t=void 0))),void 0===t?Array:t}},ef1f:function(e,t,n){"use strict";n("7f7f");var i=function(){var e=this,t=e._self._c;return e.mask>=0?t("div",{staticClass:"pl-1 row"},[t("div",{staticClass:"mr-3 d-inline-block text-center",style:e.centeredButtons?"width: 100%":""},[e._l(e.deities,(function(n,i){return t("div",{staticClass:"text-center d-inline-block"},[t("div",{staticClass:"text-center pl-0 pr-0 mr-1 col-lg-12 col-sm-12"},[e.showNames?t("small",{style:n.short.length>8?"font-size: 9px":"font-size: 11px"},[e._v(e._s(n.short))]):e._e(),t("div",{staticClass:"text-center"},[t("span",{class:"hover-highlight-inner item-"+n.icon+" "+(e.isDeitySelected(i)?"highlight-selected-inner":""),style:e.isDeitySelected(i)?"border-radius: 3px;":"border-radius: 3px; opacity: .6",attrs:{title:n.name},on:{click:function(t){return e.selectDeity(i)}}})])])])})),e.displayAllNone?t("div",{staticClass:"d-inline-block",style:"line-height: 25px; bottom: "+(e.centeredButtons?-10:15)+"px; position: relative;"},[t("div",{class:"text-center mt-2 btn-xs eq-button-fancy "+(parseInt(e.mask)>=65535?"eq-button-fancy-highlighted":""),on:{click:function(t){return e.selectAll()}}},[e._v("\n        All\n      ")]),t("div",{class:"text-center mt-2 btn-xs eq-button-fancy "+(0===parseInt(e.mask)?"eq-button-fancy-highlighted":""),on:{click:function(t){return e.selectNone()}}},[e._v("\n        None\n      ")])]):e._e()],2)]):e._e()},a=[],s=(n("456d"),n("ac6a"),n("c5f6"),n("4ac1"),n("88e6")),r=(n("3022"),{name:"DeityBitmaskCalculator",props:{debug:{type:Boolean,required:!1},mask:{type:Number,required:!1},displayAllNone:{type:Boolean,required:!1,default:!0},centeredButtons:{type:Boolean,required:!1,default:!0},showNames:{type:Boolean,required:!1,default:!0}},watch:{mask:{immediate:!0,handler:function(e,t){this.currentMask=parseInt(this.mask),this.calculateFromBitmask()}}},data:function(){return{deities:s["b"],selectedDeityes:{},currentMask:0}},mounted:function(){this.currentMask=parseInt(this.mask),this.calculateFromBitmask()},methods:{selectAll:function(){var e=this;Object.keys(this.deities).reverse().forEach((function(t){e.selectedDeityes[t]=!0})),this.$forceUpdate(),this.calculateToBitmask()},selectNone:function(){var e=this;Object.keys(this.deities).reverse().forEach((function(t){e.selectedDeityes[t]=!1})),this.$forceUpdate(),this.calculateToBitmask()},calculateFromBitmask:function(){var e=this;Object.keys(this.deities).reverse().forEach((function(t){var n=e.deities[t];e.selectedDeityes[t]=!1,e.currentMask>=n.mask&&(e.currentMask-=n.mask,e.selectedDeityes[t]=!0)})),this.$forceUpdate()},calculateToBitmask:function(){var e=this,t=0;Object.keys(this.deities).reverse().forEach((function(n){var i=e.deities[n];e.selectedDeityes[n]&&(t+=parseInt(i.mask))})),this.$emit("update:inputData",parseInt(t)),this.$emit("input",parseInt(t)),this.$emit("fired","true")},selectDeity:function(e){this.selectedDeityes[e]=!this.selectedDeityes[e],this.$forceUpdate(),this.calculateToBitmask()},isDeitySelected:function(e){return this.selectedDeityes[e]}}}),c=r,l=n("2877"),o=Object(l["a"])(c,i,a,!1,null,"c5a7ead4",null);t["a"]=o.exports},f940:function(e,t,n){"use strict";n.r(t);n("7f7f");var i=function(){var e=this,t=e._self._c;return t("content-area",[t("eq-window",{staticStyle:{position:"relative"},attrs:{title:e.isNew?"Create New "+e.tradeskillName+" Recipe":"Edit "+e.tradeskillName+" Recipe: "+e.recipe.name}},[e.cloneNotification?e._e():t("div",{staticClass:"tradeskill-icon-badge"},[t("i",{class:e.tradeskillIcon})]),e.cloneNotification?t("div",{staticClass:"clone-notification mb-3"},[t("div",{staticClass:"d-flex align-items-center justify-content-between"},[t("div",[t("i",{staticClass:"fa fa-copy mr-2",staticStyle:{color:"#42a5f5"}}),t("strong",[e._v("Cloned Recipe")]),e._v(" — This is an unsaved copy. Review the details and click\n          "),t("strong",{staticStyle:{color:"#ffd54f"}},[e._v("Save")]),e._v(" to create it as a new recipe.\n        ")]),t("b-button",{staticStyle:{color:"#999"},attrs:{size:"sm",variant:"link"},on:{click:function(t){e.cloneNotification=!1}}},[t("i",{staticClass:"fa fa-times"})])],1)]):e._e(),t("div",{staticClass:"row mb-3"},[t("div",{staticClass:"col-12"},[t("div",{staticClass:"btn-group"},[t("b-button",{attrs:{size:"sm",variant:"outline-secondary"},on:{click:function(t){return e.goBack()}}},[t("i",{staticClass:"fa fa-arrow-left"}),e._v(" Back\n          ")]),t("b-button",{class:{"save-btn-glow":e.hasUnsavedChanges},attrs:{size:"sm",variant:e.hasUnsavedChanges?"outline-danger":"outline-warning",disabled:e.saving||!e.hasUnsavedChanges},on:{click:function(t){return e.saveRecipe()}}},[t("i",{class:e.saving?"fa fa-spinner fa-spin":"fa fa-save"}),e._v(" Save\n          ")]),e.hasUnsavedChanges?t("b-button",{attrs:{size:"sm",variant:"outline-warning"},on:{click:function(t){return e.confirmReset()}}},[t("i",{staticClass:"fa fa-undo"}),e._v(" Reset\n          ")]):e._e(),e.isNew?e._e():t("b-button",{attrs:{size:"sm",variant:"outline-danger"},on:{click:function(t){return e.confirmDelete()}}},[t("i",{staticClass:"fa fa-trash"}),e._v(" Delete\n          ")])],1),e.hasUnsavedChanges?t("span",{staticClass:"ml-3 text-warning",staticStyle:{"font-size":"12px"}},[t("i",{staticClass:"fa fa-exclamation-triangle"}),e._v(" Unsaved changes\n        ")]):e._e(),e.saveMessage?t("span",{staticClass:"ml-3",class:e.saveError?"text-danger":"text-success"},[e._v("\n          "+e._s(e.saveMessage)+"\n        ")]):e._e()])]),t("div",{staticClass:"row",staticStyle:{display:"flex","flex-wrap":"wrap"}},[t("div",{staticClass:"col-lg-6",staticStyle:{display:"flex","flex-direction":"column"}},[t("eq-window",{staticClass:"mb-3",staticStyle:{flex:"1"},attrs:{title:"Recipe Properties"}},[t("table",{staticClass:"eq-table",staticStyle:{"font-size":"14px",width:"100%"}},[t("colgroup",[t("col",{staticStyle:{width:"140px"}}),t("col")]),t("tbody",[t("tr",[t("td",{staticClass:"font-weight-bold"},[e._v("ID")]),t("td",[e._v(e._s(e.isNew?"(auto)":e.recipe.id))])]),t("tr",[t("td",{staticClass:"font-weight-bold"},[e._v("Name")]),t("td",[t("input",{directives:[{name:"model",rawName:"v-model",value:e.recipe.name,expression:"recipe.name"}],staticClass:"form-control form-control-sm",class:{"pending-edit":e.isFieldEdited("name")},attrs:{type:"text",placeholder:"Recipe name"},domProps:{value:e.recipe.name},on:{input:[function(t){t.target.composing||e.$set(e.recipe,"name",t.target.value)},function(t){return e.trackFieldEdit("name",e.originalValues.name||"",e.recipe.name)}]}})])]),t("tr",[t("td",{staticClass:"font-weight-bold"},[e._v("Trivial")]),t("td",[t("div",{staticClass:"d-flex align-items-center"},[t("input",{directives:[{name:"model",rawName:"v-model.number",value:e.recipe.trivial,expression:"recipe.trivial",modifiers:{number:!0}}],staticClass:"form-control form-control-sm",class:{"pending-edit":e.isFieldEdited("trivial")},staticStyle:{width:"80px"},attrs:{type:"number",min:"0",max:e.maxSkill},domProps:{value:e.recipe.trivial},on:{input:[function(t){t.target.composing||e.$set(e.recipe,"trivial",e._n(t.target.value))},function(t){return e.trackFieldEdit("trivial",e.originalValues.trivial||0,e.recipe.trivial)}],blur:function(t){return e.$forceUpdate()}}}),t("input",{directives:[{name:"model",rawName:"v-model.number",value:e.recipe.trivial,expression:"recipe.trivial",modifiers:{number:!0}}],staticClass:"skill-slider ml-2",class:{"pending-edit-slider":e.isFieldEdited("trivial")},staticStyle:{flex:"1"},attrs:{type:"range",min:"0",max:e.maxSkill,step:"1"},domProps:{value:e.recipe.trivial},on:{input:function(t){return e.trackFieldEdit("trivial",e.originalValues.trivial||0,e.recipe.trivial)},__r:function(t){e.$set(e.recipe,"trivial",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}}),t("small",{staticClass:"text-muted ml-2",staticStyle:{"white-space":"nowrap"}},[e._v("/ "+e._s(e.maxSkill))])])])]),t("tr",[t("td",{staticClass:"font-weight-bold"},[e._v("Skill Needed")]),t("td",[t("div",{staticClass:"d-flex align-items-center"},[t("input",{directives:[{name:"model",rawName:"v-model.number",value:e.recipe.skillneeded,expression:"recipe.skillneeded",modifiers:{number:!0}}],staticClass:"form-control form-control-sm",class:{"pending-edit":e.isFieldEdited("skillneeded")},staticStyle:{width:"80px"},attrs:{type:"number",min:"0",max:e.maxSkill},domProps:{value:e.recipe.skillneeded},on:{input:[function(t){t.target.composing||e.$set(e.recipe,"skillneeded",e._n(t.target.value))},function(t){return e.trackFieldEdit("skillneeded",e.originalValues.skillneeded||0,e.recipe.skillneeded)}],blur:function(t){return e.$forceUpdate()}}}),t("input",{directives:[{name:"model",rawName:"v-model.number",value:e.recipe.skillneeded,expression:"recipe.skillneeded",modifiers:{number:!0}}],staticClass:"skill-slider ml-2",class:{"pending-edit-slider":e.isFieldEdited("skillneeded")},staticStyle:{flex:"1"},attrs:{type:"range",min:"0",max:e.maxSkill,step:"1"},domProps:{value:e.recipe.skillneeded},on:{input:function(t){return e.trackFieldEdit("skillneeded",e.originalValues.skillneeded||0,e.recipe.skillneeded)},__r:function(t){e.$set(e.recipe,"skillneeded",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}}),t("small",{staticClass:"text-muted ml-2",staticStyle:{"white-space":"nowrap"}},[e._v("/ "+e._s(e.maxSkill))])])])]),t("tr",[t("td",{staticClass:"font-weight-bold"},[e._v("No Fail")]),t("td",[t("b-form-checkbox",{class:{"pending-edit-check":e.isFieldEdited("nofail")},attrs:{value:1,"unchecked-value":0,switch:""},on:{change:function(t){return e.trackFieldEdit("nofail",e.originalValues.nofail||0,t)}},model:{value:e.recipe.nofail,callback:function(t){e.$set(e.recipe,"nofail",t)},expression:"recipe.nofail"}},[e._v("\n                    "+e._s(e.recipe.nofail?"Yes":"No")+"\n                  ")])],1)]),t("tr",[t("td",{staticClass:"font-weight-bold"},[e._v("Quest")]),t("td",[t("b-form-checkbox",{class:{"pending-edit-check":e.isFieldEdited("quest")},attrs:{value:1,"unchecked-value":0,switch:""},on:{change:function(t){return e.trackFieldEdit("quest",e.originalValues.quest||0,t)}},model:{value:e.recipe.quest,callback:function(t){e.$set(e.recipe,"quest",t)},expression:"recipe.quest"}},[e._v("\n                    "+e._s(e.recipe.quest?"Yes":"No")+"\n                  ")])],1)]),t("tr",[t("td",{staticClass:"font-weight-bold"},[e._v("Must Learn")]),t("td",[t("b-form-checkbox",{class:{"pending-edit-check":e.isFieldEdited("must_learn")},attrs:{value:1,"unchecked-value":0,switch:""},on:{change:function(t){return e.trackFieldEdit("must_learn",e.originalValues.must_learn||0,t)}},model:{value:e.recipe.must_learn,callback:function(t){e.$set(e.recipe,"must_learn",t)},expression:"recipe.must_learn"}},[e._v("\n                    "+e._s(e.recipe.must_learn?"Yes":"No")+"\n                  ")])],1)]),t("tr",[t("td",{staticClass:"font-weight-bold"},[e._v("Enabled")]),t("td",[t("b-form-checkbox",{class:{"pending-edit-check":e.isFieldEdited("enabled")},attrs:{value:1,"unchecked-value":0,switch:""},on:{change:function(t){return e.trackFieldEdit("enabled",e.originalValues.enabled||0,t)}},model:{value:e.recipe.enabled,callback:function(t){e.$set(e.recipe,"enabled",t)},expression:"recipe.enabled"}},[e._v("\n                    "+e._s(e.recipe.enabled?"Yes":"No")+"\n                  ")])],1)]),t("tr",[t("td",{staticClass:"font-weight-bold"},[e._v("Learned By Item")]),t("td",[t("div",{staticClass:"d-flex align-items-center",staticStyle:{position:"relative"}},[t("div",{staticStyle:{width:"280px","max-width":"100%",position:"relative"}},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.learnedBySearch,expression:"learnedBySearch"}],staticClass:"form-control form-control-sm",attrs:{type:"text",placeholder:"Search by name"},domProps:{value:e.learnedBySearch},on:{input:[function(t){t.target.composing||(e.learnedBySearch=t.target.value)},function(t){return e.onLearnedByInput()}],keydown:[function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"]))return null;t.preventDefault(),e.learnedByHighlight=Math.min(e.learnedByHighlight+1,e.learnedByResults.length-1)},function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"]))return null;t.preventDefault(),e.learnedByHighlight=Math.max(e.learnedByHighlight-1,0)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.selectLearnedByItem(e.learnedByResults[e.learnedByHighlight]))},function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"escape",void 0,t.key,void 0))return null;e.learnedByResults=[]}],blur:function(t){e.setTimeout((function(){return e.learnedByResults=[]}),200)}}}),e.learnedByResults.length>0?t("div",{staticClass:"learned-by-dropdown"},e._l(e.learnedByResults,(function(n,i){return t("div",{key:n.id,staticClass:"learned-by-item",class:{highlighted:i===e.learnedByHighlight},on:{mousedown:function(t){return t.preventDefault(),e.selectLearnedByItem(n)},mouseenter:function(t){e.learnedByHighlight=i}}},[t("item-popover",{staticClass:"mr-2",attrs:{item:n,size:"sm"}}),t("small",{staticClass:"text-muted ml-auto"},[e._v("#"+e._s(n.id))])],1)})),0):e._e()]),e.learnedByItem&&e.recipe.learned_by_item_id>0?t("item-popover",{staticClass:"ml-2",attrs:{item:e.learnedByItem,size:"sm"}}):e._e(),e.recipe.learned_by_item_id>0?t("b-button",{staticClass:"ml-1",attrs:{size:"sm",variant:"outline-danger",title:"Clear"},on:{click:function(t){return e.clearLearnedBy()}}},[t("i",{staticClass:"fa fa-times"})]):e._e()],1)])]),t("tr",[t("td",{staticClass:"font-weight-bold"},[e._v("Replace Container")]),t("td",[t("b-form-checkbox",{class:{"pending-edit-check":e.isFieldEdited("replace_container")},attrs:{value:1,"unchecked-value":0,switch:""},on:{change:function(t){return e.trackFieldEdit("replace_container",e.originalValues.replace_container||0,t)}},model:{value:e.recipe.replace_container,callback:function(t){e.$set(e.recipe,"replace_container",t)},expression:"recipe.replace_container"}},[e._v("\n                    "+e._s(e.recipe.replace_container?"Yes":"No")+"\n                  ")])],1)]),t("tr",[t("td",{staticClass:"font-weight-bold"},[e._v("Content Flags")]),t("td",{class:{"pending-edit":e.isFieldEdited("content_flags")}},[t("content-flag-selector",{on:{input:function(t){return e.trackFieldEdit("content_flags",e.originalValues.content_flags||"",t)}},model:{value:e.recipe.content_flags,callback:function(t){e.$set(e.recipe,"content_flags",t)},expression:"recipe.content_flags"}})],1)]),t("tr",[t("td",{staticClass:"font-weight-bold"},[e._v("Content Flags Disabled")]),t("td",{class:{"pending-edit":e.isFieldEdited("content_flags_disabled")}},[t("content-flag-selector",{on:{input:function(t){return e.trackFieldEdit("content_flags_disabled",e.originalValues.content_flags_disabled||"",t)}},model:{value:e.recipe.content_flags_disabled,callback:function(t){e.$set(e.recipe,"content_flags_disabled",t)},expression:"recipe.content_flags_disabled"}})],1)]),t("tr",[t("td",{staticClass:"font-weight-bold"},[e._v("Notes")]),t("td",[t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.recipe.notes,expression:"recipe.notes"}],staticClass:"form-control form-control-sm",class:{"pending-edit":e.isFieldEdited("notes")},attrs:{rows:"2",placeholder:"Optional notes"},domProps:{value:e.recipe.notes},on:{input:[function(t){t.target.composing||e.$set(e.recipe,"notes",t.target.value)},function(t){return e.trackFieldEdit("notes",e.originalValues.notes||"",e.recipe.notes)}]}})])])])])])],1),t("div",{staticClass:"col-lg-6",staticStyle:{display:"flex","flex-direction":"column"}},[t("eq-window",{staticClass:"mb-3",staticStyle:{flex:"1"},attrs:{title:"Recipe Components & Results"}},[t("div",{staticClass:"recipe-entries-wrapper"},[t("div",{ref:"entriesScroll",staticClass:"recipe-entries-scroll",on:{scroll:e.onEntriesScroll}},[t("div",{staticClass:"mb-3 drop-section",class:{"drop-hover":"component"===e.dropHoverSection,"empty-drop-section":0===e.componentEntries.length},on:{dragover:function(t){return t.preventDefault(),e.onSectionDragOver(t,"component")},dragleave:function(t){return e.onSectionDragLeave("component")},drop:function(t){return e.onSectionDrop(t,"component")}}},[t("div",{staticClass:"d-flex justify-content-between align-items-center mb-2"},[t("h6",{staticClass:"mb-0",staticStyle:{color:"#ffc107"}},[t("i",{staticClass:"ra ra-cog mr-1"}),e._v(" Components (Inputs)\n                "),e.componentEntries.length>0?t("small",{staticClass:"text-muted ml-1"},[e._v("("+e._s(e.componentEntries.length)+")")]):e._e()]),0===e.componentEntries.length?t("small",{staticClass:"text-muted flex-fill text-center",staticStyle:{"font-size":"11px",opacity:"0.5"}},[e._v("No components added yet.")]):e._e(),t("b-button",{attrs:{size:"sm",variant:"outline-success"},on:{click:function(t){return e.showItemSearch("component")}}},[t("i",{staticClass:"fa fa-plus"}),e._v(" Add\n              ")])],1),t("div",{staticClass:"entry-scroll-area"},e._l(e.componentEntries,(function(n,i){return t("div",{key:"comp-"+i,class:["entry-row","p-2","mb-1",e.entryRowClass(n)],attrs:{draggable:"true"},on:{dragstart:function(t){return e.onDragStart(n,"component")},dragover:function(e){e.preventDefault()},drop:function(t){return e.onDrop(n,"component")}}},[t("div",{staticClass:"d-flex align-items-center justify-content-between"},[t("div",{staticClass:"d-flex align-items-center"},[e.itemCache[n.item_id]&&!e.itemCache[n.item_id]._missing?t("item-popover",{attrs:{item:e.itemCache[n.item_id],size:"sm"}}):e.itemCache[n.item_id]&&e.itemCache[n.item_id]._missing?t("span",{staticClass:"text-warning"},[t("i",{staticClass:"fa fa-exclamation-triangle"}),e._v(" Missing Item #"+e._s(n.item_id)+"\n                  ")]):t("span",{staticClass:"text-muted"},[e._v("Item #"+e._s(n.item_id))])],1),t("div",{staticClass:"d-flex align-items-center"},[t("div",{staticClass:"mr-2 d-flex align-items-center"},[t("small",{staticClass:"text-muted mr-1"},[e._v("Count:")]),t("div",{staticClass:"count-stepper"},[t("button",{staticClass:"count-btn count-btn-minus",attrs:{disabled:n.componentcount<=1},on:{click:function(t){return e.decrementCount(n,"componentcount")}}},[t("i",{staticClass:"fa fa-minus"})]),t("input",{directives:[{name:"model",rawName:"v-model.number",value:n.componentcount,expression:"entry.componentcount",modifiers:{number:!0}}],staticClass:"count-input",attrs:{type:"number",min:"1"},domProps:{value:n.componentcount},on:{input:[function(t){t.target.composing||e.$set(n,"componentcount",e._n(t.target.value))},function(t){return e.updateHasChanges()}],blur:function(t){return e.$forceUpdate()}}}),t("button",{staticClass:"count-btn count-btn-plus",on:{click:function(t){return e.incrementCount(n,"componentcount")}}},[t("i",{staticClass:"fa fa-plus"})])])]),t("b-button",{attrs:{size:"sm",variant:"outline-danger"},on:{click:function(t){return e.removeEntry(n,"component")}}},[t("i",{staticClass:"fa fa-times"})])],1)])])})),0)]),t("hr",{staticStyle:{"border-color":"rgba(255,255,255,0.1)",margin:"4px 0"}}),t("div",{staticClass:"mb-3 drop-section",class:{"drop-hover":"container"===e.dropHoverSection,"empty-drop-section":0===e.containerEntries.length},on:{dragover:function(t){return t.preventDefault(),e.onSectionDragOver(t,"container")},dragleave:function(t){return e.onSectionDragLeave("container")},drop:function(t){return e.onSectionDrop(t,"container")}}},[t("div",{staticClass:"d-flex justify-content-between align-items-center mb-2"},[t("h6",{staticClass:"mb-0",staticStyle:{color:"#6c757d"}},[t("i",{staticClass:"ra ra-wooden-crate mr-1"}),e._v(" Containers\n              ")]),0===e.containerEntries.length?t("small",{staticClass:"text-muted flex-fill text-center",staticStyle:{"font-size":"11px",opacity:"0.5"}},[e._v("No container set.")]):e._e(),t("div",{staticClass:"d-flex"},[t("b-dropdown",{staticClass:"mr-1",attrs:{size:"sm",variant:"outline-warning",right:"","no-caret":"",boundary:"viewport"},scopedSlots:e._u([{key:"button-content",fn:function(){return[t("i",{staticClass:"ra ra-wooden-crate mr-1"}),e._v(" Standard\n                  ")]},proxy:!0}])},[e.relevantContainerGroup?[t("b-dropdown-header",[t("i",{staticClass:"mr-1",class:e.relevantContainerGroup.icon,staticStyle:{color:"#e8c56d"}}),e._v("\n                      "+e._s(e.relevantContainerGroup.label)+" — Recommended\n                    ")]),e._l(e.relevantContainerGroup.primary,(function(n){return t("b-dropdown-item",{key:"drp-"+n.id,on:{click:function(t){return e.addWorldContainer(n.id)}}},[t("i",{staticClass:"mr-2",class:e.getWorldContainerIcon(n.id),staticStyle:{color:"#e8c56d"}}),t("strong",[e._v(e._s(n.name))])])})),e._l(e.relevantContainerGroup.variants,(function(n){return t("b-dropdown-item",{key:"drv-"+n.id,on:{click:function(t){return e.addWorldContainer(n.id)}}},[t("i",{staticClass:"mr-2",class:e.getWorldContainerIcon(n.id),staticStyle:{color:"#e8c56d",opacity:"0.7"}}),e._v("\n                      "+e._s(n.name)+"\n                    ")])})),t("b-dropdown-divider")]:e._e(),e._l(e.otherContainerGroups,(function(n,i){return[t("b-dropdown-header",{key:"dgh-"+i},[t("i",{staticClass:"mr-1",class:n.icon,staticStyle:{color:"#e8c56d"}}),e._v("\n                      "+e._s(n.label)+"\n                    ")]),e._l(n.primary,(function(n){return t("b-dropdown-item",{key:"dgo-"+n.id,on:{click:function(t){return e.addWorldContainer(n.id)}}},[t("i",{staticClass:"mr-2",class:e.getWorldContainerIcon(n.id),staticStyle:{color:"#e8c56d"}}),e._v("\n                      "+e._s(n.name)+"\n                    ")])}))]}))],2),t("b-button",{attrs:{size:"sm",variant:"outline-success"},on:{click:function(t){return e.showItemSearch("container")}}},[t("i",{staticClass:"fa fa-search mr-1"}),e._v(" Search\n                ")])],1)]),e._l(e.containerEntries,(function(n,i){return t("div",{key:"cont-"+i,class:["entry-row","p-2","mb-1",e.entryRowClass(n)]},[t("div",{staticClass:"d-flex align-items-center justify-content-between"},[t("div",{staticClass:"d-flex align-items-center"},[e.isWorldContainer(n.item_id)?[t("i",{staticClass:"mr-2",class:e.getWorldContainerIcon(n.item_id),staticStyle:{"font-size":"18px",color:"#e8c56d"}}),t("span",{staticStyle:{color:"#e0d8c8"}},[e._v(e._s(e.getWorldContainerName(n.item_id)))])]:[e.itemCache[n.item_id]&&!e.itemCache[n.item_id]._missing?t("item-popover",{attrs:{item:e.itemCache[n.item_id],size:"sm"}}):e.itemCache[n.item_id]&&e.itemCache[n.item_id]._missing?t("span",{staticClass:"text-warning"},[t("i",{staticClass:"fa fa-exclamation-triangle"}),e._v(" Missing Item #"+e._s(n.item_id)+"\n                    ")]):t("span",{staticClass:"text-muted"},[e._v("Item #"+e._s(n.item_id))])]],2),t("b-button",{attrs:{size:"sm",variant:"outline-danger"},on:{click:function(t){return e.removeEntry(n,"container")}}},[t("i",{staticClass:"fa fa-times"})])],1)])}))],2),t("hr",{staticStyle:{"border-color":"rgba(255,255,255,0.1)",margin:"4px 0"}}),t("div",{staticClass:"mb-3 drop-section",class:{"drop-hover":"salvage"===e.dropHoverSection,"empty-drop-section":0===e.salvageEntries.length},on:{dragover:function(t){return t.preventDefault(),e.onSectionDragOver(t,"salvage")},dragleave:function(t){return e.onSectionDragLeave("salvage")},drop:function(t){return e.onSectionDrop(t,"salvage")}}},[t("div",{staticClass:"d-flex justify-content-between align-items-center mb-2"},[t("h6",{staticClass:"mb-0",staticStyle:{color:"#17a2b8"}},[t("i",{staticClass:"ra ra-recycle mr-1"}),e._v(" Salvage Results\n                "),e.salvageEntries.length>0?t("small",{staticClass:"text-muted ml-1"},[e._v("("+e._s(e.salvageEntries.length)+")")]):e._e()]),0===e.salvageEntries.length?t("small",{staticClass:"text-muted flex-fill text-center",staticStyle:{"font-size":"11px",opacity:"0.5"}},[e._v("No salvage results added yet.")]):e._e(),t("b-button",{attrs:{size:"sm",variant:"outline-success"},on:{click:function(t){return e.showItemSearch("salvage")}}},[t("i",{staticClass:"fa fa-plus"}),e._v(" Add\n              ")])],1),t("div",{staticClass:"entry-scroll-area"},e._l(e.salvageEntries,(function(n,i){return t("div",{key:"salv-"+i,class:["entry-row","p-2","mb-1",e.entryRowClass(n)],attrs:{draggable:"true"},on:{dragstart:function(t){return e.onDragStart(n,"salvage")},dragover:function(e){e.preventDefault()},drop:function(t){return e.onDrop(n,"salvage")}}},[t("div",{staticClass:"d-flex align-items-center justify-content-between"},[t("div",{staticClass:"d-flex align-items-center"},[e.itemCache[n.item_id]&&!e.itemCache[n.item_id]._missing?t("item-popover",{attrs:{item:e.itemCache[n.item_id],size:"sm"}}):e.itemCache[n.item_id]&&e.itemCache[n.item_id]._missing?t("span",{staticClass:"text-warning"},[t("i",{staticClass:"fa fa-exclamation-triangle"}),e._v(" Missing Item #"+e._s(n.item_id)+"\n                  ")]):t("span",{staticClass:"text-muted"},[e._v("Item #"+e._s(n.item_id))])],1),t("div",{staticClass:"d-flex align-items-center"},[t("div",{staticClass:"mr-2 d-flex align-items-center"},[t("small",{staticClass:"text-muted mr-1"},[e._v("Count:")]),t("div",{staticClass:"count-stepper"},[t("button",{staticClass:"count-btn count-btn-minus",attrs:{disabled:n.salvagecount<=1},on:{click:function(t){return e.decrementCount(n,"salvagecount")}}},[t("i",{staticClass:"fa fa-minus"})]),t("input",{directives:[{name:"model",rawName:"v-model.number",value:n.salvagecount,expression:"entry.salvagecount",modifiers:{number:!0}}],staticClass:"count-input",attrs:{type:"number",min:"1"},domProps:{value:n.salvagecount},on:{input:[function(t){t.target.composing||e.$set(n,"salvagecount",e._n(t.target.value))},function(t){return e.updateHasChanges()}],blur:function(t){return e.$forceUpdate()}}}),t("button",{staticClass:"count-btn count-btn-plus",on:{click:function(t){return e.incrementCount(n,"salvagecount")}}},[t("i",{staticClass:"fa fa-plus"})])])]),t("b-button",{attrs:{size:"sm",variant:"outline-danger"},on:{click:function(t){return e.removeEntry(n,"salvage")}}},[t("i",{staticClass:"fa fa-times"})])],1)])])})),0)]),t("hr",{staticStyle:{"border-color":"rgba(255,255,255,0.1)",margin:"4px 0"}}),t("div",{staticClass:"mb-3 drop-section",class:{"drop-hover":"fail"===e.dropHoverSection,"empty-drop-section":0===e.failEntries.length},on:{dragover:function(t){return t.preventDefault(),e.onSectionDragOver(t,"fail")},dragleave:function(t){return e.onSectionDragLeave("fail")},drop:function(t){return e.onSectionDrop(t,"fail")}}},[t("div",{staticClass:"d-flex justify-content-between align-items-center mb-2"},[t("h6",{staticClass:"mb-0",staticStyle:{color:"#dc3545"}},[t("i",{staticClass:"fa fa-times mr-1"}),e._v(" Fail Results\n                "),e.failEntries.length>0?t("small",{staticClass:"text-muted ml-1"},[e._v("("+e._s(e.failEntries.length)+")")]):e._e()]),0===e.failEntries.length?t("small",{staticClass:"text-muted flex-fill text-center",staticStyle:{"font-size":"11px",opacity:"0.5"}},[e._v("No fail results added yet.")]):e._e(),t("b-button",{attrs:{size:"sm",variant:"outline-success"},on:{click:function(t){return e.showItemSearch("fail")}}},[t("i",{staticClass:"fa fa-plus"}),e._v(" Add\n              ")])],1),t("div",{staticClass:"entry-scroll-area"},e._l(e.failEntries,(function(n,i){return t("div",{key:"fail-"+i,class:["entry-row","p-2","mb-1",e.entryRowClass(n)],attrs:{draggable:"true"},on:{dragstart:function(t){return e.onDragStart(n,"fail")},dragover:function(e){e.preventDefault()},drop:function(t){return e.onDrop(n,"fail")}}},[t("div",{staticClass:"d-flex align-items-center justify-content-between"},[t("div",{staticClass:"d-flex align-items-center"},[e.itemCache[n.item_id]&&!e.itemCache[n.item_id]._missing?t("item-popover",{attrs:{item:e.itemCache[n.item_id],size:"sm"}}):e.itemCache[n.item_id]&&e.itemCache[n.item_id]._missing?t("span",{staticClass:"text-warning"},[t("i",{staticClass:"fa fa-exclamation-triangle"}),e._v(" Missing Item #"+e._s(n.item_id)+"\n                  ")]):t("span",{staticClass:"text-muted"},[e._v("Item #"+e._s(n.item_id))])],1),t("div",{staticClass:"d-flex align-items-center"},[t("div",{staticClass:"mr-2 d-flex align-items-center"},[t("small",{staticClass:"text-muted mr-1"},[e._v("Count:")]),t("div",{staticClass:"count-stepper"},[t("button",{staticClass:"count-btn count-btn-minus",attrs:{disabled:n.failcount<=1},on:{click:function(t){return e.decrementCount(n,"failcount")}}},[t("i",{staticClass:"fa fa-minus"})]),t("input",{directives:[{name:"model",rawName:"v-model.number",value:n.failcount,expression:"entry.failcount",modifiers:{number:!0}}],staticClass:"count-input",attrs:{type:"number",min:"1"},domProps:{value:n.failcount},on:{input:[function(t){t.target.composing||e.$set(n,"failcount",e._n(t.target.value))},function(t){return e.updateHasChanges()}],blur:function(t){return e.$forceUpdate()}}}),t("button",{staticClass:"count-btn count-btn-plus",on:{click:function(t){return e.incrementCount(n,"failcount")}}},[t("i",{staticClass:"fa fa-plus"})])])]),t("b-button",{attrs:{size:"sm",variant:"outline-danger"},on:{click:function(t){return e.removeEntry(n,"fail")}}},[t("i",{staticClass:"fa fa-times"})])],1)])])})),0)]),t("hr",{staticStyle:{"border-color":"rgba(255,255,255,0.1)",margin:"4px 0"}}),t("div",{staticClass:"drop-section",class:{"drop-hover":"success"===e.dropHoverSection,"empty-drop-section":0===e.successEntries.length},on:{dragover:function(t){return t.preventDefault(),e.onSectionDragOver(t,"success")},dragleave:function(t){return e.onSectionDragLeave("success")},drop:function(t){return e.onSectionDrop(t,"success")}}},[t("div",{staticClass:"d-flex justify-content-between align-items-center mb-2"},[t("h6",{staticClass:"mb-0",staticStyle:{color:"#28a745"}},[t("i",{staticClass:"fa fa-check mr-1"}),e._v(" Success Results\n                "),e.successEntries.length>0?t("small",{staticClass:"text-muted ml-1"},[e._v("("+e._s(e.successEntries.length)+")")]):e._e()]),0===e.successEntries.length?t("small",{staticClass:"text-muted flex-fill text-center",staticStyle:{"font-size":"11px",opacity:"0.5"}},[e._v("No success results added yet.")]):e._e(),t("b-button",{attrs:{size:"sm",variant:"outline-success"},on:{click:function(t){return e.showItemSearch("success")}}},[t("i",{staticClass:"fa fa-plus"}),e._v(" Add\n              ")])],1),t("div",{staticClass:"entry-scroll-area"},e._l(e.successEntries,(function(n,i){return t("div",{key:"succ-"+i,class:["entry-row","p-2","mb-1",e.entryRowClass(n)],attrs:{draggable:"true"},on:{dragstart:function(t){return e.onDragStart(n,"success")},dragover:function(e){e.preventDefault()},drop:function(t){return e.onDrop(n,"success")}}},[t("div",{staticClass:"d-flex align-items-center justify-content-between"},[t("div",{staticClass:"d-flex align-items-center"},[e.itemCache[n.item_id]&&!e.itemCache[n.item_id]._missing?t("item-popover",{attrs:{item:e.itemCache[n.item_id],size:"sm"}}):e.itemCache[n.item_id]&&e.itemCache[n.item_id]._missing?t("span",{staticClass:"text-warning"},[t("i",{staticClass:"fa fa-exclamation-triangle"}),e._v(" Missing Item #"+e._s(n.item_id)+"\n                  ")]):t("span",{staticClass:"text-muted"},[e._v("Item #"+e._s(n.item_id))])],1),t("div",{staticClass:"d-flex align-items-center"},[t("div",{staticClass:"mr-2 d-flex align-items-center"},[t("small",{staticClass:"text-muted mr-1"},[e._v("Count:")]),t("div",{staticClass:"count-stepper"},[t("button",{staticClass:"count-btn count-btn-minus",attrs:{disabled:n.successcount<=1},on:{click:function(t){return e.decrementCount(n,"successcount")}}},[t("i",{staticClass:"fa fa-minus"})]),t("input",{directives:[{name:"model",rawName:"v-model.number",value:n.successcount,expression:"entry.successcount",modifiers:{number:!0}}],staticClass:"count-input",attrs:{type:"number",min:"1"},domProps:{value:n.successcount},on:{input:[function(t){t.target.composing||e.$set(n,"successcount",e._n(t.target.value))},function(t){return e.updateHasChanges()}],blur:function(t){return e.$forceUpdate()}}}),t("button",{staticClass:"count-btn count-btn-plus",on:{click:function(t){return e.incrementCount(n,"successcount")}}},[t("i",{staticClass:"fa fa-plus"})])])]),t("b-button",{attrs:{size:"sm",variant:"outline-danger"},on:{click:function(t){return e.removeEntry(n,"success")}}},[t("i",{staticClass:"fa fa-times"})])],1)])])})),0)])]),t("transition",{attrs:{name:"fade"}},[e.showScrollHint?t("div",{staticClass:"scroll-hint-overlay",on:{click:e.scrollToBottom}},[t("div",{staticClass:"scroll-hint-arrow"},[t("i",{staticClass:"fa fa-chevron-down"})])]):e._e()])],1)])],1)])]),t("eq-window",{staticClass:"mt-4 mb-4",attrs:{title:"Item Search — Drag items into recipe sections above"}},[t("div",{staticClass:"item-search-panel"},[t("div",{staticClass:"d-flex mb-3"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.itemSearchQuery,expression:"itemSearchQuery"}],staticClass:"form-control form-control-sm",staticStyle:{"max-width":"400px",width:"100%"},attrs:{type:"text",placeholder:"Search items by name or ID..."},domProps:{value:e.itemSearchQuery},on:{input:[function(t){t.target.composing||(e.itemSearchQuery=t.target.value)},function(t){return e.onItemSearchInput()}],keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.searchItems())}}}),t("b-button",{staticClass:"ml-2",attrs:{size:"sm",variant:"outline-warning",disabled:e.itemSearching},on:{click:function(t){return e.searchItems()}}},[t("i",{class:e.itemSearching?"fa fa-spinner fa-spin":"fa fa-search"}),e._v(" Search\n        ")]),e.itemSearchResults.length>0?t("small",{staticClass:"text-muted ml-3 align-self-center"},[e._v("\n          "+e._s(e.itemSearchResults.length)+" results — drag into sections above\n        ")]):e._e(),e.itemSearchTotalPages>1?t("div",{staticClass:"d-flex align-items-center ml-auto",staticStyle:{gap:"6px"}},[t("button",{staticClass:"count-btn count-btn-minus",attrs:{disabled:e.itemSearchPage<=1},on:{click:function(t){e.itemSearchPage=Math.max(1,e.itemSearchPage-1)}}},[t("i",{staticClass:"fa fa-minus"})]),t("small",{staticClass:"text-muted",staticStyle:{"white-space":"nowrap"}},[e._v("Page "+e._s(e.itemSearchPage)+" / "+e._s(e.itemSearchTotalPages))]),t("button",{staticClass:"count-btn count-btn-plus",attrs:{disabled:e.itemSearchPage>=e.itemSearchTotalPages},on:{click:function(t){e.itemSearchPage=Math.min(e.itemSearchTotalPages,e.itemSearchPage+1)}}},[t("i",{staticClass:"fa fa-plus"})])]):e._e()],1),t("div",{staticClass:"item-search-grid-container"},[0!==e.itemSearchResults.length||e.itemSearching?t("div",{staticClass:"item-search-grid"},e._l(e.pagedSearchResults,(function(n){return t("div",{key:"search-"+n.id,staticClass:"item-search-card",attrs:{draggable:"true"},on:{dragstart:function(t){return e.onSearchItemDragStart(t,n)}}},[t("div",{staticClass:"item-search-card-icon"},[t("item-popover",{attrs:{item:n,size:"regular","show-name":!1}})],1),t("div",{staticClass:"item-search-card-name"},[e._v(e._s(n.Name||n.name))]),t("div",{staticClass:"item-search-card-id"},[e._v("#"+e._s(n.id))])])})),0):t("div",{staticClass:"text-muted text-center p-3",staticStyle:{height:"318px",display:"flex","flex-direction":"column","align-items":"center","justify-content":"center"}},[t("i",{staticClass:"fa fa-search",staticStyle:{"font-size":"24px",opacity:"0.3"}}),t("div",{staticClass:"mt-2"},[e._v("Search for items to drag into your recipe")])])])])]),t("b-modal",{ref:"itemSearchModal",attrs:{size:"xl","hide-footer":"","hide-header":"","body-class":"p-0","content-class":"bg-transparent border-0"}},[t("eq-window",{attrs:{title:"Search Items"}},[t("item-selector",{on:{input:function(t){return e.onItemSelected(t)}}})],1)],1),t("b-modal",{ref:"deleteModal",attrs:{title:"Delete Recipe","ok-variant":"danger","ok-title":"Delete"},on:{ok:function(t){return e.deleteRecipe()}}},[t("p",[e._v("Delete recipe "),t("strong",[e._v(e._s(e.recipe.name))]),e._v("?")]),t("p",{staticClass:"text-danger"},[e._v("This will also delete all recipe entries. Cannot be undone.")])])],1)},a=[],s=(n("ac4d"),n("8a81"),n("1c4c"),n("6b54"),n("8e6e"),n("20d6"),n("6762"),n("2fdb"),n("7514"),n("456d"),n("5df3"),n("4f7f"),n("75fc")),r=n("bd86"),c=(n("96cf"),n("3b8d")),l=(n("ac6a"),n("80b0"),n("0d95")),o=n("5201"),u=n("cd97"),d=n("3ace"),m=n("02f6"),f=n("935a"),h=n("933e"),p=n("2f9c"),v={0:{name:"Small Bag",icon:"ra ra-round-bottom-flask"},1:{name:"Large Bag",icon:"ra ra-round-bottom-flask"},2:{name:"Quiver",icon:"ra ra-arrow-flights"},3:{name:"Belt Pouch",icon:"ra ra-round-bottom-flask"},4:{name:"Wrist Pouch",icon:"ra ra-round-bottom-flask"},5:{name:"Backpack",icon:"ra ra-round-bottom-flask"},6:{name:"Small Chest",icon:"ra ra-wooden-crate"},7:{name:"Large Chest",icon:"ra ra-wooden-crate"},8:{name:"Bandolier",icon:"ra ra-round-bottom-flask"},9:{name:"Medicine Bag",icon:"ra ra-potion"},10:{name:"Tinkering Table",icon:"ra ra-gear-hammer"},11:{name:"Lexicon",icon:"ra ra-book"},12:{name:"Poison Making Table",icon:"ra ra-death-skull"},13:{name:"Quest Container",icon:"ra ra-scroll-unfurled"},14:{name:"Mixing Bowl",icon:"ra ra-campfire"},15:{name:"Oven",icon:"ra ra-campfire"},16:{name:"Loom",icon:"ra ra-vest"},17:{name:"Forge",icon:"ra ra-anvil"},18:{name:"Fletching Kit",icon:"ra ra-arrow-flights"},19:{name:"Brew Barrel",icon:"ra ra-beer"},20:{name:"Jeweler's Kit",icon:"ra ra-gem-pendant"},21:{name:"Pottery Wheel",icon:"ra ra-hand"},22:{name:"Kiln",icon:"ra ra-hand"},23:{name:"Keymaker",icon:"ra ra-cog"},24:{name:"Wizard Lexicon",icon:"ra ra-book"},25:{name:"Magician Lexicon",icon:"ra ra-book"},26:{name:"Necromancer Lexicon",icon:"ra ra-book"},27:{name:"Enchanter Lexicon",icon:"ra ra-book"},28:{name:"Unknown (28)",icon:"ra ra-cog"},29:{name:"Research Practice",icon:"ra ra-book"},30:{name:"Alchemy Table",icon:"ra ra-potion"},31:{name:"High Elf Forge",icon:"ra ra-anvil"},32:{name:"Dark Elf Forge",icon:"ra ra-anvil"},33:{name:"Ogre Forge",icon:"ra ra-anvil"},34:{name:"Dwarf Forge",icon:"ra ra-anvil"},35:{name:"Gnome Forge",icon:"ra ra-anvil"},36:{name:"Barbarian Forge",icon:"ra ra-anvil"},37:{name:"Iksar Forge",icon:"ra ra-anvil"},38:{name:"Human Forge (Freeport)",icon:"ra ra-anvil"},39:{name:"Human Forge (Qeynos)",icon:"ra ra-anvil"},40:{name:"Halfling Tailoring",icon:"ra ra-vest"},41:{name:"Halfling Tailoring (Vale)",icon:"ra ra-vest"},42:{name:"Erudite Tailoring",icon:"ra ra-vest"},43:{name:"Wood Elf Tailoring",icon:"ra ra-vest"},44:{name:"Wood Elf Fletching",icon:"ra ra-arrow-flights"},45:{name:"Iksar Pottery",icon:"ra ra-hand"},46:{name:"Tackle Box",icon:"ra ra-fish"},47:{name:"Troll Forge",icon:"ra ra-anvil"},48:{name:"Wood Elf Forge",icon:"ra ra-anvil"},49:{name:"Halfling Forge",icon:"ra ra-anvil"},50:{name:"Erudite Forge",icon:"ra ra-anvil"},51:{name:"Merchant",icon:"ra ra-wooden-crate"},52:{name:"Froglok Forge",icon:"ra ra-anvil"},53:{name:"Augmenter",icon:"ra ra-gem-pendant"},54:{name:"Churn",icon:"ra ra-campfire"},55:{name:"Transformation Mold",icon:"ra ra-cog"},56:{name:"Detransformation Mold",icon:"ra ra-cog"},57:{name:"Unattuner",icon:"ra ra-cog"},58:{name:"Tradeskill Bag",icon:"ra ra-round-bottom-flask"},59:{name:"Collectible Bag",icon:"ra ra-round-bottom-flask"},60:{name:"No Deposit",icon:"ra ra-cog"},255:{name:"Taanan",icon:"ra ra-cog"}},g={63:{label:"Blacksmithing",icon:"ra ra-anvil",primary:[{id:17,name:"Forge"}],variants:[{id:31,name:"High Elf Forge"},{id:32,name:"Dark Elf Forge"},{id:33,name:"Ogre Forge"},{id:34,name:"Dwarf Forge"},{id:35,name:"Gnome Forge"},{id:36,name:"Barbarian Forge"},{id:37,name:"Iksar Forge"},{id:38,name:"Human Forge (Freeport)"},{id:39,name:"Human Forge (Qeynos)"},{id:47,name:"Troll Forge"},{id:48,name:"Wood Elf Forge"},{id:49,name:"Halfling Forge"},{id:50,name:"Erudite Forge"},{id:52,name:"Froglok Forge"}]},60:{label:"Baking",icon:"ra ra-campfire",primary:[{id:15,name:"Oven"},{id:14,name:"Mixing Bowl"},{id:54,name:"Churn"}],variants:[]},61:{label:"Tailoring",icon:"ra ra-vest",primary:[{id:16,name:"Loom"}],variants:[{id:40,name:"Halfling Tailoring"},{id:41,name:"Halfling Tailoring (Vale)"},{id:42,name:"Erudite Tailoring"},{id:43,name:"Wood Elf Tailoring"}]},65:{label:"Brewing",icon:"ra ra-beer",primary:[{id:19,name:"Brew Barrel"}],variants:[]},64:{label:"Fletching",icon:"ra ra-arrow-flights",primary:[{id:18,name:"Fletching Kit"}],variants:[{id:44,name:"Wood Elf Fletching"}]},68:{label:"Jewelry Making",icon:"ra ra-gem-pendant",primary:[{id:20,name:"Jeweler's Kit"}],variants:[]},69:{label:"Pottery",icon:"ra ra-hand",primary:[{id:21,name:"Pottery Wheel"},{id:22,name:"Kiln"}],variants:[{id:45,name:"Iksar Pottery"}]},58:{label:"Research",icon:"ra ra-book",primary:[{id:11,name:"Lexicon"}],variants:[{id:24,name:"Wizard Lexicon"},{id:25,name:"Magician Lexicon"},{id:26,name:"Necromancer Lexicon"},{id:27,name:"Enchanter Lexicon"},{id:29,name:"Research Practice"}]},55:{label:"Fishing",icon:"ra ra-fish",primary:[{id:46,name:"Tackle Box"}],variants:[]},56:{label:"Make Poison",icon:"ra ra-death-skull",primary:[{id:12,name:"Poison Making Table"}],variants:[]},59:{label:"Alchemy",icon:"ra ra-potion",primary:[{id:9,name:"Medicine Bag"},{id:30,name:"Alchemy Table"}],variants:[]},57:{label:"Tinkering",icon:"ra ra-gear-hammer",primary:[{id:10,name:"Tinkering Table"}],variants:[]},75:{label:"Quest Combines",icon:"ra ra-scroll-unfurled",primary:[{id:13,name:"Quest Container"}],variants:[]}};function b(e){return void 0!==v[e]}function y(e){var t=v[e];return t?t.name:null}function _(e){var t=v[e];return t?t.icon:"ra ra-wooden-crate"}function k(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=C(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,r=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return r=e.done,e},e:function(e){c=!0,s=e},f:function(){try{r||null==n.return||n.return()}finally{if(c)throw s}}}}function C(e,t){if(e){if("string"==typeof e)return w(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?w(e,t):void 0}}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){Object(r["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var I={name:"TradeskillRecipeEdit",components:{"item-popover":u["a"],"item-selector":d["a"],"eq-window":f["a"],"content-area":m["a"],"content-flag-selector":h["a"]},data:function(){return{tradeskillId:0,recipeId:null,isNew:!1,cloneNotification:!1,loading:!0,saving:!1,saveMessage:"",saveError:!1,recipe:{name:"",tradeskill:0,trivial:0,skillneeded:0,nofail:0,quest:0,must_learn:0,enabled:1,learned_by_item_id:0,replace_container:0,content_flags:"",content_flags_disabled:"",notes:""},entries:[],itemCache:{},learnedByItem:null,addingEntryType:"component",entriesToDelete:[],draggedEntry:null,draggedType:null,showScrollHint:!1,learnedBySearch:"",learnedByResults:[],learnedByHighlight:-1,learnedByDebounce:null,hasUnsavedChanges:!1,originalValues:{},originalEntryMap:{},pendingChanges:{editedFields:{}},itemSearchQuery:"",itemSearchResults:[],itemSearching:!1,itemSearchDebounce:null,itemSearchPage:1,itemSearchPerPage:50,dropHoverSection:null,showStandardContainers:!0}},computed:{pagedSearchResults:function(){var e=(this.itemSearchPage-1)*this.itemSearchPerPage;return this.itemSearchResults.slice(e,e+this.itemSearchPerPage)},itemSearchTotalPages:function(){return Math.ceil(this.itemSearchResults.length/this.itemSearchPerPage)},tradeskillName:function(){var e={55:"Fishing",56:"Make Poison",57:"Tinkering",58:"Research",59:"Alchemy",60:"Baking",61:"Tailoring",63:"Blacksmithing",64:"Fletching",65:"Brewing",68:"Jewelry Making",69:"Pottery",75:"Quest Combines"};return e[this.tradeskillId]||"Unknown"},tradeskillIcon:function(){var e={55:"ra ra-fish",56:"ra ra-death-skull",57:"ra ra-gear-hammer",58:"ra ra-book",59:"ra ra-potion",60:"ra ra-campfire",61:"ra ra-vest",63:"ra ra-anvil",64:"ra ra-arrow-flights",65:"ra ra-beer",68:"ra ra-gem-pendant",69:"ra ra-hand",75:"ra ra-scroll-unfurled"};return e[this.tradeskillId]||"ra ra-cog"},maxSkill:function(){return 350},componentEntries:function(){return this.entries.filter((function(e){return e.componentcount>0&&!e.iscontainer}))},successEntries:function(){return this.entries.filter((function(e){return e.successcount>0&&!e.iscontainer}))},failEntries:function(){return this.entries.filter((function(e){return e.failcount>0&&!e.iscontainer}))},salvageEntries:function(){return this.entries.filter((function(e){return e.salvagecount>0&&0===e.componentcount&&!e.iscontainer}))},containerEntries:function(){return this.entries.filter((function(e){return 1===e.iscontainer}))},relevantContainerGroup:function(){return g[this.tradeskillId]||null},otherContainerGroups:function(){var e={};for(var t in g)parseInt(t)!==this.tradeskillId&&(e[t]=g[t]);return e}},created:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.tradeskillId=Object(p["a"])(this.$route.params.tradeskillId),t=this.$route.params.recipeId,"new"!==t){e.next=12;break}if(this.isNew=!0,this.recipe.tradeskill=this.tradeskillId,this.loading=!1,n=this.$route.query.cloneFrom,!n){e.next=10;break}return e.next=10,this.loadCloneSource(parseInt(n));case 10:e.next=15;break;case 12:return this.recipeId=parseInt(t),e.next=15,this.loadRecipe();case 15:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),mounted:function(){var e=this;this.$nextTick((function(){return e.checkScrollOverflow()})),window.addEventListener("keydown",this.handleKeydown),window.addEventListener("beforeunload",this.beforeUnload)},beforeDestroy:function(){window.removeEventListener("keydown",this.handleKeydown),window.removeEventListener("beforeunload",this.beforeUnload)},updated:function(){var e=this;this.$nextTick((function(){return e.checkScrollOverflow()}))},watch:{"recipe.learned_by_item_id":function(e){var t=this;e>0?this.loadItem(e).then((function(n){t.learnedByItem=n,n&&!n._missing&&(t.learnedBySearch=String(e))})):(this.learnedByItem=null,this.learnedBySearch="")}},methods:{loadRecipe:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t,n,i,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.loading=!0,e.prev=1,t=l["SpireApi"].v1(),e.next=5,t.get("tradeskill_recipe/".concat(this.recipeId));case 5:return n=e.sent,n.data&&(this.recipe=S(S({},this.recipe),n.data)),e.next=9,t.get("tradeskill_recipe_entries",{params:{where:"recipe_id__".concat(this.recipeId),limit:1e3}});case 9:return i=e.sent,this.entries=(i.data||[]).map((function(e){return S({},e)})),a=Object(s["a"])(new Set(this.entries.map((function(e){return e.item_id})))),this.recipe.learned_by_item_id>0&&a.push(this.recipe.learned_by_item_id),e.next=15,this.loadItems(a);case 15:this.recipe.learned_by_item_id>0&&(this.learnedByItem=this.itemCache[this.recipe.learned_by_item_id]||null),e.next=21;break;case 18:e.prev=18,e.t0=e["catch"](1),console.error("Failed to load recipe:",e.t0);case 21:this.loading=!1,this.storeOriginalValues(),this.resetPendingChanges();case 24:case"end":return e.stop()}}),e,this,[[1,18]])})));function t(){return e.apply(this,arguments)}return t}(),loadCloneSource:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){var n,i,a,r,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.loading=!0,e.prev=1,n=l["SpireApi"].v1(),e.next=5,n.get("tradeskill_recipe/".concat(t));case 5:return i=e.sent,a=i.data,a&&(this.recipe=S(S({},this.recipe),{},{name:(a.name||"Recipe")+" (Clone)",tradeskill:a.tradeskill,skillneeded:a.skillneeded||0,trivial:a.trivial||0,nofail:a.nofail||0,replace_container:a.replace_container||0,notes:a.notes||"",must_learn:a.must_learn||0,learned_by_item_id:a.learned_by_item_id||0,quest:a.quest||0,enabled:null!=a.enabled?a.enabled:1,min_expansion:a.min_expansion||-1,max_expansion:a.max_expansion||-1,content_flags:a.content_flags||"",content_flags_disabled:a.content_flags_disabled||""})),e.next=10,n.get("tradeskill_recipe_entries",{params:{where:"recipe_id__".concat(t),limit:1e3}});case 10:return r=e.sent,this.entries=(r.data||[]).map((function(e){return S(S({},e),{},{recipe_id:0})})),c=Object(s["a"])(new Set(this.entries.map((function(e){return e.item_id})))),this.recipe.learned_by_item_id>0&&c.push(this.recipe.learned_by_item_id),e.next=16,this.loadItems(c);case 16:this.recipe.learned_by_item_id>0&&(this.learnedByItem=this.itemCache[this.recipe.learned_by_item_id]||null),this.cloneNotification=!0,this.hasUnsavedChanges=!0,e.next=24;break;case 21:e.prev=21,e.t0=e["catch"](1),console.error("Failed to load clone source:",e.t0);case 24:this.loading=!1;case 25:case"end":return e.stop()}}),e,this,[[1,21]])})));function t(t){return e.apply(this,arguments)}return t}(),loadItem:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.itemCache[t]){e.next=2;break}return e.abrupt("return",this.itemCache[t]);case 2:return e.prev=2,e.next=5,o["a"].getItem(t);case 5:if(n=e.sent,!n||!n.id){e.next=9;break}return this.$set(this.itemCache,t,n),e.abrupt("return",n);case 9:e.next=13;break;case 11:e.prev=11,e.t0=e["catch"](2);case 13:return e.abrupt("return",null);case 14:case"end":return e.stop()}}),e,this,[[2,11]])})));function t(t){return e.apply(this,arguments)}return t}(),loadItems:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){var n,i,a,s,r,c,l,u,d,m,f,h,p,v=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(0!==t.length){e.next=2;break}return e.abrupt("return");case 2:if(t=t.filter((function(e){return!b(e)})),0!==t.length){e.next=5;break}return e.abrupt("return");case 5:return e.prev=5,e.next=8,o["a"].loadItemsBulk(t);case 8:if(n=e.sent,n){i=k(n);try{for(i.s();!(a=i.n()).done;)s=a.value,this.$set(this.itemCache,s.id,s)}catch(g){i.e(g)}finally{i.f()}}r=t.filter((function(e){return!v.itemCache[e]})),c=k(r),e.prev=12,c.s();case 14:if((l=c.n()).done){e.next=22;break}return u=l.value,e.next=18,this.loadItem(u);case 18:d=e.sent,d||this.$set(this.itemCache,u,{id:u,Name:"(Missing Item #"+u+")",icon:0,_missing:!0});case 20:e.next=14;break;case 22:e.next=27;break;case 24:e.prev=24,e.t0=e["catch"](12),c.e(e.t0);case 27:return e.prev=27,c.f(),e.finish(27);case 30:e.next=54;break;case 32:e.prev=32,e.t1=e["catch"](5),m=k(t),e.prev=35,m.s();case 37:if((f=m.n()).done){e.next=46;break}if(h=f.value,this.itemCache[h]){e.next=44;break}return e.next=42,this.loadItem(h);case 42:p=e.sent,p||this.$set(this.itemCache,h,{id:h,Name:"(Missing Item #"+h+")",icon:0,_missing:!0});case 44:e.next=37;break;case 46:e.next=51;break;case 48:e.prev=48,e.t2=e["catch"](35),m.e(e.t2);case 51:return e.prev=51,m.f(),e.finish(51);case 54:case"end":return e.stop()}}),e,this,[[5,32],[12,24,27,30],[35,48,51,54]])})));function t(t){return e.apply(this,arguments)}return t}(),handleKeydown:function(e){(e.ctrlKey||e.metaKey)&&"s"===e.key&&(e.preventDefault(),this.hasUnsavedChanges&&this.saveRecipe())},beforeUnload:function(e){this.hasUnsavedChanges&&(e.preventDefault(),e.returnValue="")},trackFieldEdit:function(e,t,n){var i=String(null!=t?t:""),a=String(null!=n?n:"");i===a?this.$delete(this.pendingChanges.editedFields,e):this.$set(this.pendingChanges.editedFields,e,{old:t,new:n}),this.updateHasChanges()},isFieldEdited:function(e){return!!this.pendingChanges.editedFields[e]},updateHasChanges:function(){var e=this;this.hasUnsavedChanges=Object.keys(this.pendingChanges.editedFields).length>0||this.entriesToDelete.length>0||this.entries.some((function(t){return t._isNew||t._pendingDelete||e.isEntryModified(t)}))},resetPendingChanges:function(){this.pendingChanges={editedFields:{}},this.hasUnsavedChanges=!1},storeOriginalValues:function(){this.originalValues={name:this.recipe.name,trivial:this.recipe.trivial,skillneeded:this.recipe.skillneeded,nofail:this.recipe.nofail,quest:this.recipe.quest,must_learn:this.recipe.must_learn,enabled:this.recipe.enabled,learned_by_item_id:this.recipe.learned_by_item_id,replace_container:this.recipe.replace_container,content_flags:this.recipe.content_flags||"",content_flags_disabled:this.recipe.content_flags_disabled||"",notes:this.recipe.notes||""},this.originalEntryMap={};var e,t=k(this.entries);try{for(t.s();!(e=t.n()).done;){var n=e.value;n.id&&(this.originalEntryMap[n.id]={item_id:n.item_id,componentcount:n.componentcount||0,successcount:n.successcount||0,failcount:n.failcount||0,salvagecount:n.salvagecount||0,iscontainer:n.iscontainer||0})}}catch(i){t.e(i)}finally{t.f()}},isEntryModified:function(e){if(!e||!e.id||!this.originalEntryMap[e.id]||e._pendingDelete)return!1;var t=this.originalEntryMap[e.id];return e.item_id!==t.item_id||(e.componentcount||0)!==(t.componentcount||0)||(e.successcount||0)!==(t.successcount||0)||(e.failcount||0)!==(t.failcount||0)||(e.salvagecount||0)!==(t.salvagecount||0)||(e.iscontainer||0)!==(t.iscontainer||0)},entryRowClass:function(e){return e._pendingDelete?"entry-pending-delete":e._isNew?"entry-pending-add":this.isEntryModified(e)?"entry-pending-edit":""},confirmReset:function(){confirm("Discard all pending changes?")&&(Object.assign(this.recipe,S({},this.originalValues)),this.loadRecipe())},onLearnedByInput:function(){var e=this;clearTimeout(this.learnedByDebounce);var t=this.learnedBySearch.trim();!t||t.length<2?this.learnedByResults=[]:/^\d+$/.test(t)?this.loadItem(parseInt(t)).then((function(t){t&&!t._missing?(e.learnedByResults=[t],e.learnedByHighlight=0):e.learnedByResults=[]})):this.learnedByDebounce=setTimeout(Object(c["a"])(regeneratorRuntime.mark((function n(){var i,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,i=l["SpireApi"].v1(),n.next=4,i.get("items",{params:{where:"Name_like_".concat(t),limit:15,orderBy:"Name",orderDirection:"asc",select:"id,Name,icon"}});case 4:a=n.sent,e.learnedByResults=a.data||[],e.learnedByHighlight=0,n.next=12;break;case 9:n.prev=9,n.t0=n["catch"](0),e.learnedByResults=[];case 12:case"end":return n.stop()}}),n,null,[[0,9]])}))),300)},selectLearnedByItem:function(e){e&&(this.recipe.learned_by_item_id=e.id,this.$set(this.itemCache,e.id,e),this.learnedByItem=e,this.learnedBySearch=String(e.id),this.learnedByResults=[])},clearLearnedBy:function(){this.recipe.learned_by_item_id=0,this.learnedByItem=null,this.learnedBySearch="",this.learnedByResults=[]},checkScrollOverflow:function(){var e=this.$refs.entriesScroll;e&&(this.showScrollHint=e.scrollHeight>e.clientHeight&&e.scrollHeight-e.scrollTop-e.clientHeight>30)},onEntriesScroll:function(){this.checkScrollOverflow()},scrollToBottom:function(){var e=this.$refs.entriesScroll;e&&e.scrollTo({top:e.scrollHeight,behavior:"smooth"})},incrementCount:function(e,t){e[t]=(e[t]||0)+1,this.updateHasChanges()},decrementCount:function(e,t){e[t]>1&&(e[t]=e[t]-1,this.updateHasChanges())},isWorldContainer:function(e){return b(e)},getWorldContainerName:function(e){return y(e)},getWorldContainerIcon:function(e){return _(e)},addWorldContainer:function(e){var t=this.entries.find((function(t){return 1===t.iscontainer&&t.item_id===e}));if(!t){var n={id:null,recipe_id:this.recipeId||0,item_id:e,componentcount:0,successcount:0,failcount:0,salvagecount:0,iscontainer:1,_isNew:!0};this.entries.push(n),this.updateHasChanges()}},onItemSearchInput:function(){var e=this;clearTimeout(this.itemSearchDebounce),this.itemSearchDebounce=setTimeout((function(){e.itemSearchQuery.trim().length>=2&&e.searchItems()}),350)},searchItems:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t,n,i,a,s,r,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this.itemSearchQuery.trim(),t){e.next=3;break}return e.abrupt("return");case 3:return this.itemSearching=!0,this.itemSearchPage=1,e.prev=5,n=l["SpireApi"].v1(),i={},i=/^\d+$/.test(t)?{where:"id__"+t,limit:100}:{where:"Name_like_"+t,limit:100},e.next=11,n.get("items",{params:i});case 11:if(a=e.sent,a&&a.data){this.itemSearchResults=Array.isArray(a.data)?a.data:[],s=k(this.itemSearchResults);try{for(s.s();!(r=s.n()).done;)c=r.value,this.$set(this.itemCache,c.id,c)}catch(o){s.e(o)}finally{s.f()}}e.next=18;break;case 15:e.prev=15,e.t0=e["catch"](5),console.error("Item search error:",e.t0);case 18:this.itemSearching=!1;case 19:case"end":return e.stop()}}),e,this,[[5,15]])})));function t(){return e.apply(this,arguments)}return t}(),onSearchItemDragStart:function(e,t){e.dataTransfer.setData("application/x-spire-item",JSON.stringify({id:t.id,name:t.Name||t.name})),e.dataTransfer.effectAllowed="copy"},onSectionDragOver:function(e,t){e.dataTransfer.types.includes("application/x-spire-item")&&(e.dataTransfer.dropEffect="copy",this.dropHoverSection=t)},onSectionDragLeave:function(e){this.dropHoverSection===e&&(this.dropHoverSection=null)},onSectionDrop:function(e,t){this.dropHoverSection=null;var n=e.dataTransfer.getData("application/x-spire-item");if(n)try{var i=JSON.parse(n);if(!i||!i.id)return;var a={id:null,recipe_id:this.recipeId||0,item_id:i.id,componentcount:0,successcount:0,failcount:0,salvagecount:0,iscontainer:0,_isNew:!0};switch(t){case"component":a.componentcount=1;break;case"success":a.successcount=1;break;case"fail":a.failcount=1;break;case"salvage":a.salvagecount=1;break;case"container":a.iscontainer=1;break}this.entries.push(a),this.updateHasChanges()}catch(s){console.error("Drop parse error:",s)}},onDragStart:function(e,t){this.draggedEntry=e,this.draggedType=t},onDrop:function(e,t){var n=this;if(this.draggedEntry&&this.draggedType===t&&this.draggedEntry!==e){var i=this.entries.findIndex((function(e){return e===n.draggedEntry})),a=this.entries.findIndex((function(t){return t===e}));if(!(i<0||a<0)){var s=this.entries.splice(i,1)[0];this.entries.splice(a,0,s),this.draggedEntry=null,this.draggedType=null}}},showItemSearch:function(e){this.addingEntryType=e,this.$refs.itemSearchModal.show()},onItemSelected:function(e){if(e&&e.id){this.$set(this.itemCache,e.id,e);var t={id:null,recipe_id:this.recipeId||0,item_id:e.id,componentcount:0,successcount:0,failcount:0,salvagecount:0,iscontainer:0,_isNew:!0};switch(this.addingEntryType){case"component":t.componentcount=1;break;case"success":t.successcount=1;break;case"fail":t.failcount=1;break;case"salvage":t.salvagecount=1;break;case"container":t.iscontainer=1;break}this.entries.push(t),this.updateHasChanges(),this.$refs.itemSearchModal.hide()}},removeEntry:function(e,t){var n=this.entries.indexOf(e);n<0||(e.id?e._pendingDelete?(e._pendingDelete=!1,this.entriesToDelete=this.entriesToDelete.filter((function(t){return t!==e.id}))):(this.$set(e,"_pendingDelete",!0),this.entriesToDelete.includes(e.id)||this.entriesToDelete.push(e.id)):this.entries.splice(n,1),this.updateHasChanges())},saveRecipe:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t,n,i,a,s,r,c,o,u,d,m,f,h=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.saving=!0,this.saveMessage="",this.saveError=!1,e.prev=3,t=l["SpireApi"].v1(),n=this.recipeId,i={name:this.recipe.name,tradeskill:this.recipe.tradeskill,trivial:this.recipe.trivial,skillneeded:this.recipe.skillneeded,nofail:this.recipe.nofail,quest:this.recipe.quest,must_learn:this.recipe.must_learn,enabled:this.recipe.enabled,learned_by_item_id:this.recipe.learned_by_item_id||0,replace_container:this.recipe.replace_container,content_flags:this.recipe.content_flags||"",content_flags_disabled:this.recipe.content_flags_disabled||"",notes:this.recipe.notes||""},!this.isNew){e.next=14;break}return e.next=10,t.put("tradeskill_recipe",i);case 10:a=e.sent,a.data&&a.data.length>0&&(n=a.data[0].id,this.recipeId=n,this.recipe.id=n,this.isNew=!1,window.history.replaceState({},"","/tradeskills/".concat(Object(p["b"])(this.tradeskillId),"/recipe/").concat(n))),e.next=16;break;case 14:return e.next=16,t.patch("tradeskill_recipe/".concat(n),S(S({},i),{},{id:n}));case 16:s=k(this.entriesToDelete),e.prev=17,s.s();case 19:if((r=s.n()).done){e.next=31;break}return c=r.value,e.prev=21,e.next=24,t.delete("tradeskill_recipe_entry/".concat(c));case 24:e.next=29;break;case 26:e.prev=26,e.t0=e["catch"](21),console.warn("Failed to delete entry:",c,e.t0);case 29:e.next=19;break;case 31:e.next=36;break;case 33:e.prev=33,e.t1=e["catch"](17),s.e(e.t1);case 36:return e.prev=36,s.f(),e.finish(36);case 39:this.entriesToDelete=[],o=k(this.entries),e.prev=41,o.s();case 43:if((u=o.n()).done){e.next=59;break}if(d=u.value,!d._pendingDelete){e.next=47;break}return e.abrupt("continue",57);case 47:if(m={recipe_id:n,item_id:d.item_id,componentcount:d.componentcount||0,successcount:d.successcount||0,failcount:d.failcount||0,salvagecount:d.salvagecount||0,iscontainer:d.iscontainer||0},!d._isNew&&d.id){e.next=55;break}return e.next=51,t.put("tradeskill_recipe_entry",m);case 51:f=e.sent,f.data&&f.data.length>0&&(d.id=f.data[0].id,delete d._isNew),e.next=57;break;case 55:return e.next=57,t.patch("tradeskill_recipe_entry/".concat(d.id),S(S({},m),{},{id:d.id}));case 57:e.next=43;break;case 59:e.next=64;break;case 61:e.prev=61,e.t2=e["catch"](41),o.e(e.t2);case 64:return e.prev=64,o.f(),e.finish(64);case 67:this.entries=this.entries.filter((function(e){return!e._pendingDelete})).map((function(e){return delete e._pendingDelete,e})),this.saveMessage="Saved successfully!",this.storeOriginalValues(),this.resetPendingChanges(),setTimeout((function(){h.saveMessage=""}),3e3),e.next=79;break;case 74:e.prev=74,e.t3=e["catch"](3),console.error("Save failed:",e.t3),this.saveMessage="Save failed: "+(e.t3.message||"Unknown error"),this.saveError=!0;case 79:this.saving=!1;case 80:case"end":return e.stop()}}),e,this,[[3,74],[17,33,36,39],[21,26],[41,61,64,67]])})));function t(){return e.apply(this,arguments)}return t}(),confirmDelete:function(){this.$refs.deleteModal.show()},deleteRecipe:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t=l["SpireApi"].v1(),e.next=4,t.delete("tradeskill_recipe/".concat(this.recipeId));case 4:this.goBack(),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.error("Delete failed:",e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));function t(){return e.apply(this,arguments)}return t}(),goBack:function(){this.$router.push({path:"/tradeskills/".concat(Object(p["b"])(this.tradeskillId))})}}},E=I,B=(n("56c7"),n("2877")),O=Object(B["a"])(E,i,a,!1,null,null,null);t["default"]=O.exports}}]);