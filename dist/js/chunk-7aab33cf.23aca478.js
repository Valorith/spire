(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7aab33cf"],{"01de":function(t,e,i){"use strict";i.d(e,"a",(function(){return m}));i("ac4d"),i("8a81"),i("5df3"),i("1c4c"),i("7f7f"),i("6b54"),i("a481"),i("7514"),i("ac6a");var s=i("9a04"),a=i("75fc"),n=(i("96cf"),i("28a5"),i("6762"),i("2fdb"),i("d225")),r=i("b0b4"),c=i("9ab4"),o={SUMMON:1,ENRAGE:2,RAMPAGE:3,AREA_RAMPAGE:4,FLURRY:5,TRIPLE:6,QUAD:7,INNATE_DW:8,BANE:9,MAGICAL:10,RANGED_ATK:11,UNSLOWABLE:12,UNMEZABLE:13,UNCHARMABLE:14,UNSTUNABLE:15,UNSNAREABLE:16,UNFEARABLE:17,UNDISPELLABLE:18,IMMUNE_MELEE:19,IMMUNE_MAGIC:20,IMMUNE_FLEEING:21,IMMUNE_MELEE_EXCEPT_BANE:22,IMMUNE_MELEE_NONMAGICAL:23,IMMUNE_AGGRO:24,IMMUNE_AGGRO_ON:25,IMMUNE_CASTING_FROM_RANGE:26,IMMUNE_FEIGN_DEATH:27,IMMUNE_TAUNT:28,NPC_TUNNELVISION:29,NPC_NO_BUFFHEAL_FRIENDS:30,IMMUNE_PACIFY:31,LEASH:32,TETHER:33,DESTRUCTIBLE_OBJECT:34,NO_HARM_FROM_CLIENT:35,ALWAYS_FLEE:36,FLEE_PERCENT:37,ALLOW_BENEFICIAL:38,DISABLE_MELEE:39,NPC_CHASE_DISTANCE:40,ALLOW_TO_TANK:41,IGNORE_ROOT_AGGRO_RULES:42,CASTING_RESIST_DIFF:43,COUNTER_AVOID_DAMAGE:44,PROX_AGGRO:45,IMMUNE_RANGED_ATTACKS:46,IMMUNE_DAMAGE_CLIENT:47,IMMUNE_DAMAGE_NPC:48,IMMUNE_AGGRO_CLIENT:49,IMMUNE_AGGRO_NPC:50,MODIFY_AVOID_DAMAGE:51,IMMUNE_FADING_MEMORIES:52,MAX_SPECIAL_ATTACK:53},l=i("a7a1"),d=i("0d95"),u=i("e40e");function p(t,e){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=h(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var s=0,a=function(){};return{s:a,n:function(){return s>=t.length?{done:!0}:{done:!1,value:t[s++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,r=!0,c=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return r=t.done,t},e:function(t){c=!0,n=t},f:function(){try{r||null==i.return||i.return()}finally{if(c)throw n}}}}function h(t,e){if(t){if("string"==typeof t)return f(t,e);var i={}.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?f(t,e):void 0}}function f(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,s=Array(e);i<e;i++)s[i]=t[i];return s}var m=function(){function t(){Object(n["a"])(this,t)}return Object(r["a"])(t,null,[{key:"getCleanName",value:function(t){return t=t.replaceAll("_"," "),t=t.replaceAll("#"," "),t}},{key:"getRaceImage",value:function(t){var e=t.texture,i=t.helmtexture;return this.isPlayableRace(t.race)&&(i>3&&(i=0),(e>16||e>3&&e<10)&&(e=0)),t.race+"-"+t.gender+"-"+e+"-"+i}},{key:"isPlayableRace",value:function(t){return[1,2,3,4,5,6,7,8,9,10,11,12,128,130,330,522].includes(t)}},{key:"specialAbilitiesToHuman",value:function(t){var e,i=[],s=p(t.split("^"));try{for(s.s();!(e=s.n()).done;){var a=e.value,n=a.split(","),r=n[0]?parseInt(n[0]):0,c=n[1]?parseInt(n[1]):0;r>0&&c&&(r===o.SUMMON&&i.push("Summon"+" (".concat(r,")")),r===o.ENRAGE&&i.push("Enrage "+" (".concat(r,")")),r===o.AREA_RAMPAGE&&i.push("Area Rampage "+" (".concat(r,")")),r===o.FLURRY&&i.push("Flurry "+" (".concat(r,")")),r===o.TRIPLE&&i.push("Triple "+" (".concat(r,")")),r===o.QUAD&&i.push("Quad "+" (".concat(r,")")),r===o.INNATE_DW&&i.push("Innate DW "+" (".concat(r,")")),r===o.BANE&&i.push("Bane "+" (".concat(r,")")),r===o.MAGICAL&&i.push("Magical "+" (".concat(r,")")),r===o.RANGED_ATK&&i.push("Ranged Attack "+" (".concat(r,")")),r===o.UNSLOWABLE&&i.push("Unslowable "+" (".concat(r,")")),r===o.UNMEZABLE&&i.push("Unmezable "+" (".concat(r,")")),r===o.UNCHARMABLE&&i.push("Uncharmable "+" (".concat(r,")")),r===o.UNSTUNABLE&&i.push("Unstunable "+" (".concat(r,")")),r===o.UNSNAREABLE&&i.push("Unsnareable "+" (".concat(r,")")),r===o.UNFEARABLE&&i.push("Unfearable "+" (".concat(r,")")),r===o.UNDISPELLABLE&&i.push("Undispellable "+" (".concat(r,")")),r===o.IMMUNE_MELEE&&i.push("Immune to Melee "+" (".concat(r,")")),r===o.IMMUNE_MAGIC&&i.push("Immune to Magic "+" (".concat(r,")")),r===o.IMMUNE_FLEEING&&i.push("Immune to Fleeing "+" (".concat(r,")")),r===o.IMMUNE_MELEE_EXCEPT_BANE&&i.push("Immune to Melee Except Bane "+" (".concat(r,")")),r===o.IMMUNE_MELEE_NONMAGICAL&&i.push("Immune to Melee Non-Magical "+" (".concat(r,")")),r===o.IMMUNE_AGGRO&&i.push("Immune to Aggro "+" (".concat(r,")")),r===o.IMMUNE_AGGRO_ON&&i.push("Immune to Aggro On "+" (".concat(r,")")),r===o.IMMUNE_CASTING_FROM_RANGE&&i.push("Immune to Casting from Range "+" (".concat(r,")")),r===o.IMMUNE_FEIGN_DEATH&&i.push("Immune to Feign Death "+" (".concat(r,")")),r===o.IMMUNE_TAUNT&&i.push("Immune to Taunt "+" (".concat(r,")")),r===o.NPC_TUNNELVISION&&i.push("NPC Tunnelvision "+" (".concat(r,")")),r===o.NPC_NO_BUFFHEAL_FRIENDS&&i.push("NPC doesn't buff or heal other NPC's "+" (".concat(r,")")),r===o.IMMUNE_PACIFY&&i.push("Immune to Pacify "+" (".concat(r,")")),r===o.LEASH&&i.push("Immune to Leash "+" (".concat(r,")")),r===o.TETHER&&i.push("Immune to Tether "+" (".concat(r,")")),r===o.DESTRUCTIBLE_OBJECT&&i.push("Destructible Object "+" (".concat(r,")")),r===o.NO_HARM_FROM_CLIENT&&i.push("Immune to Harm from Clients "+" (".concat(r,")")),r===o.ALWAYS_FLEE&&i.push("Always flees "+" (".concat(r,")")),r===o.FLEE_PERCENT&&i.push("Flees at percent X "+" (".concat(r,")")),r===o.ALLOW_BENEFICIAL&&i.push("Allow Beneficial "+" (".concat(r,")")),r===o.DISABLE_MELEE&&i.push("Disable Melee "+" (".concat(r,")")),r===o.NPC_CHASE_DISTANCE&&i.push("NPC Chase Distances "+" (".concat(r,")")),r===o.ALLOW_TO_TANK&&i.push("Allow to tank "+" (".concat(r,")")),r===o.IGNORE_ROOT_AGGRO_RULES&&i.push("Ignore root aggro rules "+" (".concat(r,")")),r===o.CASTING_RESIST_DIFF&&i.push("Casting resist diff "+" (".concat(r,")")),r===o.COUNTER_AVOID_DAMAGE&&i.push("Counter avoid damage "+" (".concat(r,")")),r===o.PROX_AGGRO&&i.push("Proximity Aggro "+" (".concat(r,")")),r===o.IMMUNE_RANGED_ATTACKS&&i.push("Immune to Ranged Attacks "+" (".concat(r,")")),r===o.IMMUNE_DAMAGE_CLIENT&&i.push("Immune to Damage from Clients "+" (".concat(r,")")),r===o.IMMUNE_DAMAGE_NPC&&i.push("Immune to Damage from NPCs "+" (".concat(r,")")),r===o.IMMUNE_AGGRO_CLIENT&&i.push("Immune to Aggro from Clients "+" (".concat(r,")")),r===o.IMMUNE_AGGRO_NPC&&i.push("Immune to Aggro from NPCs "+" (".concat(r,")")),r===o.MODIFY_AVOID_DAMAGE&&i.push("Modify avoid damage "+" (".concat(r,")")),r===o.IMMUNE_FADING_MEMORIES&&i.push("Immune to fading memories "+" (".concat(r,")")))}}catch(l){s.e(l)}finally{s.f()}return i}},{key:"updateNpc",value:function(t,e){return Object(c["d"])(this,void 0,void 0,regeneratorRuntime.mark((function i(){var n;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return n=Object(s["a"])(l["NpcTypeApi"],Object(a["a"])(d["SpireApi"].cfg())),i.next=3,n.updateNpcType({id:t,npcType:e});case 3:return i.abrupt("return",i.sent);case 4:case"end":return i.stop()}}),i)})))}},{key:"listNpcsByName",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Object(c["d"])(this,void 0,void 0,regeneratorRuntime.mark((function i(){var n,r,c,o;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return n=Object(s["a"])(l["NpcTypeApi"],Object(a["a"])(d["SpireApi"].cfg())),r=new u["a"],c=[],e.includes("all")?c=[].concat(Object(a["a"])(c),["NpcSpell.NpcSpellsEntries.SpellsNew","NpcFactions.NpcFactionEntries.FactionList","NpcFactions","NpcEmotes","Merchantlists.Items","Loottable.LoottableEntries.Lootdrop.LootdropEntries.Item"]):e.length>0&&(c=[].concat(Object(a["a"])(c),Object(a["a"])(e))),r.where("name","like",t),r.whereOr("lastname","like",t),r.includes(c),i.next=9,n.listNpcTypes(r.get());case 9:if(o=i.sent,200!==o.status){i.next=12;break}return i.abrupt("return",o.data);case 12:case"end":return i.stop()}}),i)})))}},{key:"getBaseNpcRelationships",value:function(){return["NpcSpell.NpcSpellsEntries.SpellsNew","NpcFactions.NpcFactionEntries.FactionList","NpcFactions","NpcEmotes","Merchantlists.Items","Loottable.LoottableEntries.Lootdrop.LootdropEntries.Item"]}},{key:"listNpcsByEmoteId",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Object(c["d"])(this,void 0,void 0,regeneratorRuntime.mark((function i(){var n,r,c,o;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return n=Object(s["a"])(l["NpcTypeApi"],Object(a["a"])(d["SpireApi"].cfg())),r=new u["a"],c=[],e.includes("all")?c=[].concat(Object(a["a"])(c),Object(a["a"])(this.getBaseNpcRelationships())):e.length>0&&(c=[].concat(Object(a["a"])(c),Object(a["a"])(e))),r.where("emoteid","=",t),r.includes(c),i.next=8,n.listNpcTypes(r.get());case 8:if(o=i.sent,200!==o.status){i.next=11;break}return i.abrupt("return",o.data);case 11:case"end":return i.stop()}}),i,this)})))}},{key:"listNpcsByNpcSpellsId",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Object(c["d"])(this,void 0,void 0,regeneratorRuntime.mark((function i(){var n,r,c,o;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return n=Object(s["a"])(l["NpcTypeApi"],Object(a["a"])(d["SpireApi"].cfg())),r=new u["a"],c=[],e.includes("all")?c=[].concat(Object(a["a"])(c),Object(a["a"])(this.getBaseNpcRelationships())):e.length>0&&(c=[].concat(Object(a["a"])(c),Object(a["a"])(e))),r.where("npc_spells_id","=",t),r.includes(c),r.limit(100),i.next=9,n.listNpcTypes(r.get());case 9:if(o=i.sent,200!==o.status){i.next=12;break}return i.abrupt("return",o.data);case 12:case"end":return i.stop()}}),i,this)})))}},{key:"getNpc",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Object(c["d"])(this,void 0,void 0,regeneratorRuntime.mark((function i(){var n,r,c,o;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(!this.npc[t]){i.next=2;break}return i.abrupt("return",this.npc[t]);case 2:return n=Object(s["a"])(l["NpcTypeApi"],Object(a["a"])(d["SpireApi"].cfg())),r=new u["a"],c=[],e.includes("all")?c=[].concat(Object(a["a"])(c),["NpcSpell.NpcSpellsEntries.SpellsNew","NpcFactions.NpcFactionEntries.FactionList","NpcFactions","NpcEmotes","Merchantlists.Items","Loottable.LoottableEntries.Lootdrop.LootdropEntries.Item"]):e.length>0&&(c=[].concat(Object(a["a"])(c),Object(a["a"])(e))),r.includes(c),i.next=9,n.getNpcType({id:t},{query:r.get()});case 9:if(o=i.sent,200!==o.status){i.next=13;break}return this.npc[t]=o.data,i.abrupt("return",o.data);case 13:case"end":return i.stop()}}),i,this)})))}},{key:"getNpcsBulk",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Object(c["d"])(this,void 0,void 0,regeneratorRuntime.mark((function i(){var n,r,c,o,h,f,m;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(0!==t.length){i.next=2;break}return i.abrupt("return",[]);case 2:return n=Object(s["a"])(l["NpcTypeApi"],Object(a["a"])(d["SpireApi"].cfg())),r=new u["a"],c=[],e.includes("all")?c=[].concat(Object(a["a"])(c),["NpcSpell.NpcSpellsEntries.SpellsNew","NpcFactions.NpcFactionEntries.FactionList","NpcFactions","NpcEmotes","Merchantlists.Items","Loottable.LoottableEntries.Lootdrop.LootdropEntries.Item"]):e.length>0&&(c=[].concat(Object(a["a"])(c),Object(a["a"])(e))),r.includes(c),i.next=9,n.getNpcTypesBulk({body:{ids:t}},{query:r.get()});case 9:if(o=i.sent,200!==o.status){i.next=14;break}h=p(o.data);try{for(h.s();!(f=h.n()).done;)m=f.value,this.npc[m.id]=m}catch(v){h.e(v)}finally{h.f()}return i.abrupt("return",o.data);case 14:case"end":return i.stop()}}),i,this)})))}},{key:"getNpcsByZone",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{relations:[],uniqueEntries:!0};return Object(c["d"])(this,void 0,void 0,regeneratorRuntime.mark((function n(){var r,c,o,h,f,m,v,y,b,_,g;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=Object(s["a"])(l["Spawn2Api"],Object(a["a"])(d["SpireApi"].cfg())),c=new u["a"],c.where("zone","=",t),-1===e?c.where("version",">=",e):c.where("version","=",e),o=["Spawnentries.NpcType"],i.relations.includes("all")?o=[].concat(Object(a["a"])(o),["Spawnentries.NpcType.NpcSpell.NpcSpellsEntries.SpellsNew","Spawnentries.NpcType.NpcFactions.NpcFactionEntries.FactionList","Spawnentries.NpcType.NpcFactions","Spawnentries.NpcType.NpcEmotes","Spawnentries.NpcType.Merchantlists.Items","Spawnentries.NpcType.Loottable.LoottableEntries.Lootdrop.LootdropEntries.Item"]):i.relations.length>0&&(o=[].concat(Object(a["a"])(o),Object(a["a"])(i.relations))),c.limit(1e6),c.includes(o),n.next=10,r.listSpawn2s(c.get());case 10:if(h=n.sent,200!==h.status||!h.data){n.next=46;break}f=[],m=p(h.data),n.prev=14,m.s();case 16:if((v=m.n()).done){n.next=37;break}if(y=v.value,!y.spawnentries){n.next=35;break}b=p(y.spawnentries),n.prev=20,g=regeneratorRuntime.mark((function t(){var e,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e=_.value,e.npc_type&&(i.uniqueEntries?(s=f.find((function(t){return t.id===e.npc_type.id})),s||f.push(e.npc_type)):f.push(e.npc_type));case 2:case"end":return t.stop()}}),t)})),b.s();case 23:if((_=b.n()).done){n.next=27;break}return n.delegateYield(g(),"t0",25);case 25:n.next=23;break;case 27:n.next=32;break;case 29:n.prev=29,n.t1=n["catch"](20),b.e(n.t1);case 32:return n.prev=32,b.f(),n.finish(32);case 35:n.next=16;break;case 37:n.next=42;break;case 39:n.prev=39,n.t2=n["catch"](14),m.e(n.t2);case 42:return n.prev=42,m.f(),n.finish(42);case 45:return n.abrupt("return",f);case 46:return n.abrupt("return",[]);case 47:case"end":return n.stop()}}),n,null,[[14,39,42,45],[20,29,32,35]])})))}},{key:"getFieldDescriptions",value:function(){return{id:"ID number of the NPC",name:"First Name of the NPC",lastname:"Last Name of the NPC",level:"Level of the NPC",race:"Race of the NPC",class:"Class of the NPC",bodytype:"Bodytype of the NPC",hp:"Maximum Hitpoints of the NPC",mana:"Maximum Mana of the NPC",gender:"Gender of the NPC",texture:"Texture of the NPC",helmtexture:"Helmet Texture of the NPC",herosforgemodel:"Heroes Forge Model used on the NPC",size:"Numerical size of the NPC",hp_regen_rate:"Hitpoint Regeneration Rate of the NPC",hp_regen_per_second:"Hitpoint Regeneration Rate (per second) of the NPC",mana_regen_rate:"Mana Regen Rate of the NPC",loottable_id:"Loottable Id of the NPC",merchant_id:"Merchant Id of the NPC",alt_currency_id:"Alt Currency Id used with the NPC",npc_spells_effects_id:"Npc Spells Effects Id used with the NPC",npc_faction_id:"Npc Faction Id of the NPC",adventure_template_id:"Adventure Template Id of the NPC",trap_template:"Trap Template of the NPC",mindmg:"Minimum damge of the NPC",maxdmg:"Maximum damage of the NPC",attack_count:"Attack Count of the NPC",npcspecialattks:"Special Attacks used by the NPC",special_abilities:"Special Abilities used by the NPC",aggroradius:"Aggro radius of the NPC",assistradius:"Assist radius of the NPC",face:"Face of the NPC",luclin_hairstyle:"Luclin Hairstyle used with the NPC",luclin_haircolor:"Luclin Haircolor used with the NPC",luclin_eyecolor:"Luclin Eyecolor used with the NPC",luclin_eyecolor_2:"Luclin Eyecolor 2 used with the NPC",luclin_beardcolor:"Luclin Beardcolor used with the NPC",luclin_beard:"Luclin Beard used with the NPC",drakkin_heritage:"Drakkin Heritage used with the NPC",drakkin_tattoo:"Drakkin Tattoo used with the NPC",drakkin_details:"Drakkin Details used with the NPC",armortint_id:"Armor tint Id used with the NPC",armortint_red:"Armor tint Red used with the NPC",armortint_green:"Armor tint Green used with the NPC",armortint_blue:"Armor tint Blue used with the NPC",d_melee_texture_1:"D Melee Texture 1 used with the NPC",d_melee_texture_2:"D Melee Texture 2 used with the NPC",ammo_idfile:"Ammo Id file used for the NPC",prim_melee_type:"Primary Melee Type of the NPC",sec_melee_type:"Secondary Melee Type of the NPC",ranged_type:"Ranged Type of the NPC",runspeed:"Runspeed of the NPC",mr:"Magic Resistance of the NPC",cr:"Cold Resistance of the NPC",dr:"Disease Resistance of the NPC",fr:"Fire Resistance of the NPC",pr:"Poison Resistance of the NPC",corrup:"Corruption Resistanceance of the NPC",ph_r:"",see_invis:"NPC Sees through invisibility",see_invis_undead:"NPC Sees through invisibility vs Undead",qglobal:"Qglobal enabled for the NPC",ac:"Armor Class of the NPC",npc_aggro:"NPC will aggro other NPCs",spawn_limit:"Spawn Limit of the NPC",attack_speed:"Attack Speed of the NPC",attack_delay:"Attack Delay of the NPC",findable:"NPC can be located with Find",str:"Strength of the NPC",sta:"Stamina of the NPC",dex:"Dexterity of the NPC",agi:"Agility of the NPC",_int:"Intelligence of the NPC",wis:"Wisdom of the NPC",cha:"Charisma of the NPC",see_hide:"NPC can see through hide",see_improved_hide:"NPC can see through improved hide",trackable:"NPC is trackable",isbot:"NPC is a bot",exclude:"",atk:"Attack rating of the NPC",accuracy:"Accuracy rating of the NPC",avoidance:"Avoidance rating of the NPC",slow_mitigation:"Slow Mitigation of the NPC",version:"Version of the NPC",maxlevel:"Maximum level of the NPC",scalerate:"Scale rate of the NPC",private_corpse:"",unique_spawn_by_name:"NPC is a Unique Spawn By Name",underwater:"Underwater NPC",isquest:"The NPC has a quest script",emoteid:"Emote id of the NPC",spellscale:"Spell scale of the NPC",healscale:"Heal scale of the NPC",no_target_hotkey:"",raidtarget:"NPC is a Raid Target",armtexture:"Arm texture of the NPC",bracertexture:"Bracer texture of the NPC",handtexture:"Hand texture of the NPC",legtexture:"Leg texture of the NPC",feettexture:"Feet texture of the NPC",light:"Light value of the NPC",walkspeed:"Walkspeed of the NPC",peqid:"",unique:"NPC is unique",fixed:"",ignore_despawn:"",show_name:"NPC name is shown",untargetable:"NPC is untargetable",charm_ac:"Charmed Armor Class of the NPC",charm_min_dmg:"Charmed Minimum Damage of the NPC",charm_max_dmg:"Charmed Maximum Damage of the NPC",charm_attack_delay:"Charmed Attack Delay of the NPC",charm_accuracy_rating:"Charmed Accuracy Rating of the NPC",charm_avoidance_rating:"Charmed Avoidance Rating of the NPC",charm_atk:"Charmed Attack Rating of the NPC",skip_global_loot:"Skip Global Loot on this NPC",rare_spawn:"NPC is a rare spawn",stuck_behavior:"Behavior followed if NPC is stuck",model:"Model of the NPC",flymode:"Flymode for the NPC",always_aggro:"NPC will always aggro",exp_mod:"Experience modifier for the NPC"}}},{key:"getFieldDescription",value:function(t){var e=t.toLowerCase().replace("_","");for(var i in this.getFieldDescriptions()){var s=i.toLowerCase().replace("_","");if(s===e)return this.getFieldDescriptions()[i]}return""}},{key:"cacheExists",value:function(t){return this.npc[t]}}])}();m.npc={}},"02f6":function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container-fluid content-area"},[e("div",{staticClass:"panel-body"},[e("div",{staticClass:"panel panel-default"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12 mt-3"},[t._t("default")],2)])])])])},a=[],n={name:"ContentArea"},r=n,c=i("2877"),o=Object(c["a"])(r,s,a,!1,null,"4665fdac",null);e["a"]=o.exports},"093e":function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"eq-window-simple"},[t.title?e("div",{staticClass:"eq-window-title-bar",style:"font-weight: "+(t.boldTitle?"bold":"normal")+";"},[t._v(t._s(t.title)+"\n  ")]):t._e(),e("div",{class:t.classes,style:"padding: "+("undefined"!==typeof t.padding?t.padding:10)+"px"},[t._t("default")],2)])},a=[],n=(i("c5f6"),{name:"EqWindowSimple",props:{title:{type:String,required:!1},padding:{type:Number,required:!1,default:10},classes:{type:String,required:!1,default:""},boldTitle:{type:Boolean,required:!1,default:!1}}}),r=n,c=i("2877"),o=Object(c["a"])(r,s,a,!1,null,"4db0cdea",null);e["a"]=o.exports},"0a49":function(t,e,i){var s=i("9b43"),a=i("626a"),n=i("4bf8"),r=i("9def"),c=i("cd1c");t.exports=function(t,e){var i=1==t,o=2==t,l=3==t,d=4==t,u=6==t,p=5==t||u,h=e||c;return function(e,c,f){for(var m,v,y=n(e),b=a(y),_=s(c,f,3),g=r(b.length),k=0,w=i?h(e,g):o?h(e,0):void 0;g>k;k++)if((p||k in b)&&(m=b[k],v=_(m,k,y),t))if(i)w[k]=v;else if(v)switch(t){case 3:return!0;case 5:return m;case 6:return k;case 2:w.push(m)}else if(d)return!1;return u?-1:l||d?d:w}}},"238f":function(t,e,i){"use strict";i("36db")},2440:function(t,e,i){"use strict";i("d927")},"25e9":function(t,e,i){"use strict";i("be62")},"26c3":function(t,e,i){"use strict";i("293f")},"26df":function(t,e,i){"use strict";i.d(e,"a",(function(){return o}));var s=i("d225"),a=i("b0b4"),n={0:"original.gif",1:"kunarkicon.gif",2:"veliousicon.gif",3:"luclinicon.gif",4:"powericon.gif",5:"ykeshaicon.gif",6:"ldonicon.gif",7:"gatesicon.gif",8:"omensicon.gif",9:"donicon.gif",10:"dodicon.png",11:"poricon.png",12:"serpsicon.gif",13:"buried.gif",14:"secrets.gif",15:"seedsofdestruction.gif",16:"underfoot.gif",17:"thule.gif",18:"alaris.gif",19:"fear.gif",20:"calloftheforsaken.gif",21:"darkenedsea.gif",22:"brokenmirror.gif",23:"empires.gif",24:"scale.gif",25:"burning.gif",26:"torment.gif"},r=i("4ac1"),c=i("78ff"),o=function(){function t(){Object(s["a"])(this,t)}return Object(a["a"])(t,null,[{key:"getExpansionIconUrlSmall",value:function(t){return n[t]?r["a"].ASSET_EXPANSION_ICON_SMALL_URL+n[t]:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"}},{key:"getExpansionName",value:function(t){return c["b"][t]?c["b"][t]:-1===t?"All":"Unknown"}}])}()},"293f":function(t,e,i){},"2c03":function(t,e,i){"use strict";i("ac6a"),i("456d"),i("a481");var s=function(){var t=this,e=t._self._c;return e("div",[0===t.items.length?e("div",{staticClass:"eq-window-simple text-center mb-0"},[t._v("\n    No items were found\n  ")]):t._e(),t.items&&t.items.length>0?e("div",{staticClass:"eq-window-simple p-0",staticStyle:{transition:"all 1s ease"}},[t.items.length>0?e("div",{staticClass:"item-table fill-screen",staticStyle:{"overflow-y":"scroll","overflow-x":"hidden"}},[e("table",{staticClass:"eq-table bordered eq-highlight-rows",attrs:{id:"items-table"}},[t._m(0),e("tbody",t._l(t.items,(function(i,s){return e("tr",{key:i.id},[e("td",{staticClass:"p-0 text-center"},[e("b-button",{staticClass:"btn-outline-danger mr-2",staticStyle:{width:"28px",height:"28px"},attrs:{variant:"primary",size:"sm",title:"Delete"},on:{click:function(e){return t.deleteItem(i)}}},[e("i",{staticClass:"fa fa-trash"})]),e("router-link",{staticClass:"btn btn-sm btn-outline-success mr-2",staticStyle:{width:"28px",height:"28px"},attrs:{to:t.ROUTE.ITEM_EDIT.replace("%s",i.id),size:"sm",tag:"button",title:"Edit"}},[e("i",{staticClass:"fa fa-pencil-square"})]),e("router-link",{staticClass:"btn btn-sm btn-outline-light mr-2",staticStyle:{width:"30px",height:"28px"},attrs:{to:t.ROUTE.ITEM_EDIT.replace("%s",i.id)+"?clone=true",size:"sm",tag:"button",title:"Clone"}},[e("i",{staticClass:"ra ra-double-team"})])],1),e("td",[t._v("\n            "+t._s(i.id)+"\n          ")]),e("td",{staticClass:"text-left",staticStyle:{"vertical-align":"middle"}},[Object.keys(i).length>0&&i?e("item-popover",{attrs:{item:i,size:"regular"}}):t._e()],1),e("td",[t._v(t._s(i.reqlevel))]),e("td",[t._v(t._s(i.ac))]),e("td",[t._v(t._s(t.commify(i.hp)))]),e("td",[t._v(t._s(t.commify(i.mana)))]),e("td",[t._v(t._s(t.commify(i.endur)))]),e("td",{staticClass:"text-left"},[t._v(t._s(t.getClasses(i)))])])})),0)])]):t._e()]):t._e()])},a=[function(){var t=this,e=t._self._c;return e("thead",{staticClass:"eq-table-floating-header"},[e("tr",[e("th",{staticStyle:{"text-align":"center",width:"120px"}}),e("th",{staticClass:"text-center",staticStyle:{"text-align":"center",width:"100px"}},[t._v("Id")]),e("th",{staticStyle:{"text-align":"center",width:"auto"}},[t._v("Name")]),e("th",{staticStyle:{"text-align":"center",width:"auto"}},[t._v("ReqLvl")]),e("th",{staticStyle:{"text-align":"center",width:"auto"}},[t._v("AC")]),e("th",{staticStyle:{"text-align":"center",width:"auto"}},[t._v("HP")]),e("th",{staticStyle:{"text-align":"center",width:"auto"}},[t._v("Mana")]),e("th",{staticStyle:{"text-align":"center",width:"auto"}},[t._v("End")]),e("th",{staticStyle:{width:"auto"}},[t._v("Classes")])])])}],n=(i("ac4d"),i("8a81"),i("5df3"),i("1c4c"),i("768b")),r=(i("ffc1"),i("6b54"),i("7f7f"),i("96cf"),i("3b8d")),c=i("935a"),o=i("f4a8"),l=i("a50e"),d=i("80b0"),u=i("7dc0"),p=i("cd97"),h=i("5201"),f=i("d73b");function m(t,e){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=v(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var s=0,a=function(){};return{s:a,n:function(){return s>=t.length?{done:!0}:{done:!1,value:t[s++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,r=!0,c=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return r=t.done,t},e:function(t){c=!0,n=t},f:function(){try{r||null==i.return||i.return()}finally{if(c)throw n}}}}function v(t,e){if(t){if("string"==typeof t)return y(t,e);var i={}.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?y(t,e):void 0}}function y(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,s=Array(e);i<e;i++)s[i]=t[i];return s}var b={name:"ItemPreviewTable",components:{ItemPopover:p["a"],EqWindow:c["a"]},data:function(){return{title:"",dbClassIcons:o["a"],dbClassesShort:l["b"],ROUTE:d["a"]}},mounted:function(){this.items.length>0&&(setTimeout((function(){document.getElementById("items-table")&&new u["a"](document.getElementById("items-table"))}),1e3),setTimeout((function(){f["a"].resizeFillScreenElements()}),100))},props:{items:Array},methods:{deleteItem:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!confirm("Are you sure you want to permanently delete this item? [".concat(e.name,"] (").concat(e.id,")"))){t.next=4;break}return t.next=3,h["a"].deleteItem(e.id);case 3:this.$emit("reload-list",!0);case 4:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),commify:function(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},getClasses:function(t){var e,i=[],s=t.classes,a=m(Object.entries(l["c"]).reverse());try{for(a.s();!(e=a.n()).done;){var r=Object(n["a"])(e.value,2),c=r[0],o=r[1];c<=s&&(s-=c,i.push(o))}}catch(d){a.e(d)}finally{a.f()}return t.classes>=65535?"ALL":i.join(", ").trim()}}},_=b,g=(i("238f"),i("2877")),k=Object(g["a"])(_,s,a,!1,null,"6852292e",null);e["a"]=k.exports},"2e08":function(t,e,i){var s=i("9def"),a=i("9744"),n=i("be13");t.exports=function(t,e,i,r){var c=String(n(t)),o=c.length,l=void 0===i?" ":String(i),d=s(e);if(d<=o||""==l)return c;var u=d-o,p=a.call(l,Math.ceil(u/l.length));return p.length>u&&(p=p.slice(0,u)),r?p+c:c+p}},"36db":function(t,e,i){},4590:function(t,e,i){"use strict";i("7e42")},"46f9":function(t,e,i){"use strict";var s=i("bd86"),a=function(){var t=this,e=t._self._c;return t.id?e("div",{style:t.getStyle(),on:{mouseover:function(e){t.hovered=!0},mouseout:function(e){t.hovered=!1}}},[t.label?e("span",[t._v(t._s(t.label))]):t._e(),e("input",{directives:[{name:"model",rawName:"v-model",value:t.inputVal,expression:"inputVal"}],staticClass:"eq-checkbox",attrs:{type:"checkbox",id:t.id,"true-value":t.trueValue,"false-value":t.falseValue,disabled:1===t.disabled},domProps:Object(s["a"])({checked:t.inputVal>0},"checked",Array.isArray(t.inputVal)?t._i(t.inputVal,null)>-1:t._q(t.inputVal,t.trueValue)),on:{change:[function(e){var i=t.inputVal,s=e.target,a=s.checked?t.trueValue:t.falseValue;if(Array.isArray(i)){var n=null,r=t._i(i,n);s.checked?r<0&&(t.inputVal=i.concat([n])):r>-1&&(t.inputVal=i.slice(0,r).concat(i.slice(r+1)))}else t.inputVal=a},function(e){return t.change()}]}}),e("label",{staticClass:"eq-checkbox-label",attrs:{for:t.id}}),t.labelRight?e("span",{staticClass:"ml-3"},[t._v(t._s(t.labelRight))]):t._e()]):t._e()},n=[],r=(i("6b54"),i("c5f6"),{name:"EqCheckbox",data:function(){return{id:"",hovered:!1}},computed:{inputVal:{get:function(){return this.value},set:function(t){this.$emit("input",t)}}},props:{isChecked:{type:Boolean,required:!1,default:!1},disabled:{default:0},fadeWhenNotTrue:{type:Boolean,required:!1,default:!1},label:{type:String,required:!1,default:""},labelRight:{type:String,required:!1,default:""},value:{type:[Number,String,Boolean],required:!1,default:0},trueValue:{type:[Number,String,Boolean],required:!1,default:1},falseValue:{type:[Number,String,Boolean],required:!1,default:0}},mounted:function(){this.init()},methods:{change:function(){this.$emit("change",this.value)},getStyle:function(){return this.fadeWhenNotTrue?this.hovered?"opacity: 1; font-weight: bold;":this.value!==this.trueValue?"opacity: .3":"opacity: 1":""},init:function(){this.id=this.randId()},randId:function(){return"_"+Math.random().toString(36).substr(2,9)}}}),c=r,o=i("2877"),l=Object(o["a"])(c,a,n,!1,null,null,null);e["a"]=l.exports},4917:function(t,e,i){"use strict";var s=i("cb7c"),a=i("9def"),n=i("0390"),r=i("5f1b");i("214f")("match",1,(function(t,e,i,c){return[function(i){var s=t(this),a=void 0==i?void 0:i[e];return void 0!==a?a.call(i,s):new RegExp(i)[e](String(s))},function(t){var e=c(i,t,this);if(e.done)return e.value;var o=s(t),l=String(this);if(!o.global)return r(o,l);var d=o.unicode;o.lastIndex=0;var u,p=[],h=0;while(null!==(u=r(o,l))){var f=String(u[0]);p[h]=f,""===f&&(o.lastIndex=n(l,a(o.lastIndex),d)),h++}return 0===h?null:p}]}))},"4bcf":function(t,e,i){"use strict";i("7f7f");var s=function(){var t=this,e=t._self._c;return e("div",[e("nav",{staticClass:"eq-tab-box-fancy"},[e("ul",{style:"margin-bottom: "+t.bottomTabMargin+"px !important;"},t._l(t.tabs,(function(i){return e("li",{class:{"eq-tab-open":i.isActive},on:{mouseover:function(e){return t.selectTabHover(i)},click:function(e){return t.selectTab(i)}}},[e("a",{staticStyle:{color:"white"},on:{click:function(e){return t.selectTab(i)}}},[t._v("\n          "+t._s(i.name)+"\n        ")])])})),0)]),e("div",{staticClass:"tabs-details"},[t._t("default")],2)])},a=[],n=(i("c5f6"),i("ac6a"),i("7b89")),r={name:"EqTabs",data:function(){return{tabs:[]}},watch:{selected:function(){var t=this;this.selected&&this.selected.length>0&&this.tabs.forEach((function(e){e.isActive=e.name===t.selected}))}},created:function(){this.tabs=this.$children},mounted:function(){var t=this;this.selected&&this.selected.length>0&&this.tabs.forEach((function(e){e.isActive=e.name===t.selected}))},methods:{selectTabHover:function(t){(this.hoverOpen||n["a"].isTabHoverEnabled())&&this.selectTab(t)},selectTab:function(t){var e=this;this.tabs.forEach((function(i){i.isActive=i.name===t.name,i.isActive&&e.$emit("on-selected",i.name)}))}},props:{selected:{default:"",required:!1,type:String},hoverOpen:{default:!1,required:!1,type:Boolean},bottomTabMargin:{default:20,required:!1,type:Number}}},c=r,o=i("2877"),l=Object(o["a"])(c,s,a,!1,null,"6e70d246",null);e["a"]=l.exports},"5a9a":function(t,e,i){"use strict";i("bdc3")},6267:function(t,e,i){"use strict";i("7f7f");var s=function(){var t=this,e=t._self._c;return t.mask>=0?e("div",{staticClass:"row"},[e("div",{staticClass:"mr-3 d-inline-block text-center",style:"display: inline-block "+(t.centeredButtons?"width: 100%":"")},[t._l(t.slots,(function(i,s){return e("div",{staticClass:"mb-1 text-center d-inline-block"},[t.isSlotSkipped(s)?t._e():e("div",{staticClass:"text-center p-0 mr-1 col-lg-12 col-sm-12"},[t.showTextTop?e("span",{staticClass:"d-inline-block",style:"font-size: 12px; white-space: nowrap; overflow: hidden;text-overflow: ellipsis; max-width: "+t.imageSize+"px;"},[t._v("\n          "+t._s(i.name)+"\n        ")]):t._e(),e("div",{staticClass:"text-center"},[e("img",{staticClass:"hover-highlight",style:t.getImageSize()+(t.isSlotSelected(s)?"border: 2px solid #dadada; border-radius: 7px;":"border-radius: 7px; "),attrs:{title:i.name,src:t.slotUrl+"old_slot_"+s+".gif"},on:{click:function(e){return t.selectSlot(s)}}})])])])})),t.displayAllNone?e("div",{staticClass:"d-inline-block"},[e("div",{class:"text-center mt-4 btn-xs eq-button-fancy "+(parseInt(t.mask)>=8388607?"eq-button-fancy-highlighted":""),on:{click:function(e){return t.selectAll()}}},[t._v("\n        All\n      ")]),e("div",{class:"text-center mt-4 btn-xs eq-button-fancy "+(0===parseInt(t.mask)?"eq-button-fancy-highlighted":""),on:{click:function(e){return t.selectNone()}}},[t._v("\n        None\n      ")])]):t._e()],2)]):t._e()},a=[],n=(i("456d"),i("ac6a"),i("c5f6"),{0:{name:"Charm",mask:1},1:{name:"Ear",mask:2},2:{name:"Head",mask:4},3:{name:"Face",mask:8},4:{name:"Ear",mask:16},5:{name:"Neck",mask:32},6:{name:"Shoulder",mask:64},7:{name:"Arms",mask:128},8:{name:"Back",mask:256},9:{name:"Bracer",mask:512},10:{name:"Bracer",mask:1024},11:{name:"Range",mask:2048},12:{name:"Hands",mask:4096},13:{name:"Primary",mask:8192},14:{name:"Secondary",mask:16384},15:{name:"Ring",mask:32768},16:{name:"Ring",mask:65536},17:{name:"Chest",mask:131072},18:{name:"Legs",mask:262144},19:{name:"Feet",mask:524288},20:{name:"Waist",mask:1048576},21:{name:"Powersource",mask:2097152},22:{name:"Ammo",mask:4194304}}),r={EAR_1:1,EAR_2:4,BRACER_1:9,BRACER_2:10,RING_1:15,RING_2:16},c=i("4ac1"),o=i("3022"),l=i.n(o),d={name:"InventorySlotCalculator",data:function(){return{slotUrl:c["a"].ASSET_INVENTORY_SLOT_URL,slots:n,selectedSlots:{},currentMask:0}},props:{mask:{type:Number,required:!1},displayAllNone:{type:Boolean,required:!1,default:!0},skipDuplicateSlots:{type:Boolean,required:!1,default:!1},showTextTop:{type:Boolean,required:!1,default:!0},centeredButtons:{type:Boolean,required:!1,default:!0},imageSize:{type:Number,required:!1,default:50}},mounted:function(){this.currentMask=parseInt(this.mask),this.calculateFromBitmask()},watch:{mask:{immediate:!0,handler:function(t,e){this.currentMask=parseInt(this.mask),this.calculateFromBitmask()}}},methods:{getImageSize:function(){return l.a.format("width: %spx; height %spx;",this.imageSize,this.imageSize)},isSlotSkipped:function(t){if(!this.skipDuplicateSlots)return!1;if(this.skipDuplicateSlots){if(t=parseInt(t),t===r.EAR_2)return!0;if(t===r.BRACER_2)return!0;if(t===r.RING_2)return!0}},selectAll:function(){var t=this;Object.keys(this.slots).reverse().forEach((function(e){t.selectedSlots[e]=!0})),this.$forceUpdate(),this.calculateToBitmask()},selectNone:function(){var t=this;Object.keys(this.slots).reverse().forEach((function(e){t.selectedSlots[e]=!1})),this.$forceUpdate(),this.calculateToBitmask()},selectSlot:function(t){t=parseInt(t),this.selectedSlots[t]=!this.selectedSlots[t];var e={};e[r.EAR_1]=r.EAR_2,e[r.EAR_2]=r.EAR_1,e[r.BRACER_1]=r.BRACER_2,e[r.BRACER_2]=r.BRACER_1,e[r.RING_1]=r.RING_2,e[r.RING_2]=r.RING_1,e[t]&&(this.selectedSlots[e[t]]=this.selectedSlots[t]),this.$forceUpdate(),this.calculateToBitmask()},isSlotSelected:function(t){return this.selectedSlots[t]},calculateFromBitmask:function(){var t=this;Object.keys(this.slots).reverse().forEach((function(e){var i=t.slots[e];t.selectedSlots[e]=!1,t.currentMask>=i.mask&&(t.currentMask-=i.mask,t.selectedSlots[e]=!0)})),this.$forceUpdate()},calculateToBitmask:function(){var t=this,e=0;Object.keys(this.slots).reverse().forEach((function(i){var s=t.slots[i];t.selectedSlots[i]&&(e+=parseInt(s.mask))})),this.$emit("update:inputData",parseInt(e)),this.$emit("input",parseInt(e)),this.$emit("fired","true")}}},u=d,p=i("2877"),h=Object(p["a"])(u,s,a,!1,null,null,null);e["a"]=h.exports},"646b":function(t,e,i){"use strict";i("7f7f");var s=function(){var t=this,e=t._self._c;return t.spell?e("div",{staticClass:"d-inline-block"},[e("div",{attrs:{id:t.spell.id+"-"+t.popoverId+"-popover"}},[e("span",{class:"d-inline-block spell-"+t.spell.new_icon+t.getIconClassLabelFromSize(),style:t.getBorderStyling(),attrs:{title:t.spell.icon}}),e("span",{class:t.getLeftMargin(),style:"position:relative;"+t.getTextTopOffset()},[t._v(t._s(t.clampSpellName(t.spell.name))+" "+t._s(t.annotation))])]),e("b-popover",{staticStyle:{width:"500px !important"},attrs:{target:t.spell.id+"-"+t.popoverId+"-popover","custom-class":"no-bg",placement:"right",delay:"0",boundary:"viewport","no-fade":!0,triggers:"hover focus"}},[e("eq-window",{staticStyle:{width:"auto",height:"100%"}},[e("eq-spell-preview",{attrs:{"spell-data":t.spell}})],1)],1)],1):t._e()},a=[],n=(i("6b54"),i("c5f6"),i("935a")),r=i("adf0"),c=i("0329"),o={name:"SpellPopover",props:{spell:Object,size:{type:[Number,String],required:!1,default:40},spellNameLength:{type:Number,required:!1},annotation:{type:String,required:!1,default:""}},watch:{spell:{deep:!0,handler:function(){}}},data:function(){return{popoverId:Math.random().toString(16).slice(2),spellEffectInfo:[],spellData:{},sideLoadedSpellData:{},reagents:[]}},methods:{truncate:function(t,e){return t.length>e?t.substring(0,e)+"...":t},clampSpellName:function(t){return this.spellNameLength?this.truncate(t,this.spellNameLength):t},getLeftMargin:function(){return this.size<=12||this.size<=20?"ml-2":(this.size,"ml-3")},getIconClassLabelFromSize:function(){return this.size<=12?"-12":this.size<=20?"-20":this.size<=30?"-30":"-40"},getBorderStyling:function(){return this.size<=12?" border: 1px solid "+this.getTargetTypeColor():this.size<=20?"position: relative; top: 5px; border-radius: 5px; border: .5px solid "+this.getTargetTypeColor():(this.size,"border-radius: 5px; border: 1px solid "+this.getTargetTypeColor())},getTextTopOffset:function(){return this.size<=12?"top: -3px":this.size<=20?"top: 0px":this.size<=30?"top: -10px":"top: -15px"},getTargetTypeColor:function(){return c["a"].getTargetTypeColor(this.spell["targettype"])}},mounted:function(){this.sideLoadedSpellData=c["a"].data},components:{EqSpellPreview:r["a"],EqSpellCardPreview:r["a"],EqWindow:n["a"]}},l=o,d=i("2877"),u=Object(d["a"])(l,s,a,!1,null,null,null);e["a"]=u.exports},"68d6":function(t,e,i){"use strict";i.d(e,"a",(function(){return o}));i("96cf");var s=i("d225"),a=i("b0b4"),n=i("9ab4"),r=i("0d95"),c=i("bdac"),o=function(){function t(){Object(s["a"])(this,t)}return Object(a["a"])(t,null,[{key:"get",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"name";return Object(n["d"])(this,void 0,void 0,regeneratorRuntime.mark((function s(){var a;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,r["SpireApi"].v1().get("query/free-ids-reserved/".concat(t,"/").concat(e,"/").concat(i));case 2:if(a=s.sent,a.status!==c["a"].OK){s.next=12;break}if(!(a.data.data.length>0)){s.next=6;break}return s.abrupt("return",parseInt(a.data.data[0].id));case 6:return s.next=8,r["SpireApi"].v1().get("query/free-id-ranges/".concat(t,"/").concat(e));case 8:if(a=s.sent,a.status!==c["a"].OK){s.next=12;break}if(!a.data||!a.data.data){s.next=12;break}return s.abrupt("return",parseInt(a.data.data[0].start_id));case 12:return s.abrupt("return",-1);case 13:case"end":return s.stop()}}),s)})))}}])}()},"6eaa":function(t,e,i){"use strict";i.r(e);var s=i("bd86"),a=(i("6762"),i("2fdb"),function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"row"},[e("div",{class:(t.task?"col-7":"col-12")+" p-0"},[t.tasks?e("eq-window-simple",{attrs:{title:"Task Editor"},nativeOn:{mouseover:function(e){return t.previewTask()}}},[e("div",{staticClass:"row"},[e("div",{class:(t.task?"col-4":"col-12")+" p-0"},[e("div",{},[e("div",{staticClass:"text-center mt-3"},[e("div",{staticClass:"btn-group",attrs:{role:"group"}},[e("b-button",{attrs:{size:"sm",disabled:t.saveFreeze,variant:"outline-warning btn-dark"},on:{click:function(e){return t.createTask()}}},[e("i",{staticClass:"fa fa-plus mr-1"}),t._v("\n                    New\n                  ")]),t.selectedTask?e("b-button",{attrs:{size:"sm",disabled:t.saveFreeze,variant:"outline-light btn-dark"},on:{click:function(e){return t.cloneTask()}}},[e("i",{staticClass:"ra ra-double-team"}),t._v("\n                    Clone\n                  ")]):t._e(),t.selectedTask?e("b-button",{attrs:{disabled:t.saveFreeze,size:"sm",variant:"outline-danger btn-dark"},on:{click:function(e){return t.deleteTask()}}},[e("i",{staticClass:"fa fa-trash"}),t._v("\n                    Delete\n                  ")]):t._e()],1)]),e("b-input-group",{staticClass:"mt-3"},[e("b-form-input",{staticClass:"form-control",attrs:{type:"text",placeholder:"Filter results by name...",autofocus:"",disabled:t.saveFreeze},on:{keyup:t.filterResultsByName},model:{value:t.taskSearchFilter,callback:function(e){t.taskSearchFilter=e},expression:"taskSearchFilter"}}),e("b-input-group-append",[e("b-button",{staticStyle:{padding:"0.3rem 0.75rem"},attrs:{variant:"warning"},on:{click:function(e){return t.resetFilter()}}},[e("i",{staticClass:"fa fa-refresh"})])],1)],1),e("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedTask,expression:"selectedTask"}],staticClass:"form-control eq-input eq p-1 mt-3 eq-dark-background",staticStyle:{"overflow-x":"scroll",height:"75vh","overflow-y":"scroll"},attrs:{id:"task-list",disabled:t.saveFreeze,size:"2"},on:{change:[function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectedTask=e.target.multiple?i:i[0]},function(e){return t.selectTask()}]}},t._l(t.filteredTasks,(function(i){return e("option",{attrs:{id:"task-entry-"+i.id},domProps:{value:i.id}},[t._v("\n                  ("+t._s(i.id)+") "+t._s(i.title)+"\n                ")])})),0),e("div",{staticClass:"mt-3 text-center"},[t._v("\n                Showing "+t._s(t.filteredTasks.length)+" out of "+t._s(t.tasks.length)+" tasks\n              ")])],1)]),t.task?e("div",{staticClass:"col-8 fade-in",attrs:{id:"my-form"}},[e("div",{staticStyle:{height:"40px"}},[e("info-error-banner",{staticClass:"mt-0",attrs:{notification:t.notification,error:t.error},on:{"dismiss-error":function(e){t.error=""},"dismiss-notification":function(e){t.notification=""}}})],1),e("eq-tabs",{staticClass:"minified-inputs ml-2",attrs:{id:"task-edit-window"}},[e("eq-tab",{attrs:{name:"Task",selected:"true"}},[e("div",{staticClass:"row"},t._l([{description:"Title",field:"title",itemIcon:"6840",col:"col-6"},{description:"Task Type",field:"type",fieldType:"select",itemIcon:"2275",col:"col-4",selectData:t.TASK_TYPES,zeroValue:-1},{description:"Enabled",field:"enabled",fieldType:"checkbox",itemIcon:"6840",col:"col-2"},{description:"Task Description",field:"description",itemIcon:"2275",fieldType:"textarea",col:"col-12",onclick:t.setSelectorActive},{description:"Dynamic Zone Template ID",field:"dz_template_id",onclick:t.setSelectorActive,itemIcon:"4004",fieldType:"text",col:"col-6",zeroValue:-1},{description:"Lock Task on Activity ID",field:"lock_activity_id",itemIcon:"1077",fieldType:"select",selectData:t.buildTaskActivitySelection(),col:"col-6",zeroValue:-1},{description:"Duration Code",field:"duration_code",itemIcon:"750",fieldType:"select",selectData:t.TASK_DURATION_TYPES,col:"col-4",zeroValue:-1},{description:"Duration",field:"duration",fieldType:"text",itemIcon:"750",col:"col-4",zeroValue:-1},{description:"Duration",field:"duration",fieldType:"select",selectData:t.TASK_DURATION_HUMAN,itemIcon:"750",col:"col-4",zeroValue:-1},{description:"Min Level",field:"min_level",itemIcon:"5885",fieldType:"text",col:"col-2"},{description:"Max Level",itemIcon:"5885",field:"max_level",fieldType:"text",col:"col-2"},{description:"Lvl Spread",itemIcon:"5885",field:"level_spread",fieldType:"text",col:"col-2"},{description:"Min Players",field:"min_players",itemIcon:"6018",fieldType:"text",col:"col-2"},{description:"Max Players",field:"max_players",itemIcon:"6018",fieldType:"text",col:"col-2"},{description:"Repeatable",field:"repeatable",itemIcon:"2903",fieldType:"checkbox",col:"col-2"},{description:"Completion Emote",field:"completion_emote",itemIcon:"653",fieldType:"textarea",col:"col-12"},{description:"Quest Controlled",field:"reward_method",itemIcon:"3366",fieldType:"checkbox",true:2,col:"col-3"},{description:"Reward Text",field:"reward_text",fieldType:"text",itemIcon:"3366",col:"col-5"},{description:"Reward Item ID(s)",field:"reward_id_list",fieldType:"reward_id_list",itemIcon:"3366",col:"col-4",onclick:t.setSelectorActive},{description:"EXP Reward",field:"exp_reward",itemIcon:"2045",fieldType:"text",col:"col-3"},{description:"Cash Reward",field:"cash_reward",itemIcon:"646",fieldType:"text",col:"col-3"},{description:"Faction Reward",field:"faction_reward",itemIcon:"528",fieldType:"text",col:"col-3"},{description:"Faction Amount",field:"faction_reward",itemIcon:"528",fieldType:"text",col:"col-3"},{description:"Reward Point Type",field:"reward_point_type",itemIcon:"1955",fieldType:"text",onclick:t.setSelectorActive,col:"col-6"},{description:"Reward Points",field:"reward_points",itemIcon:"1955",fieldType:"text",col:"col-6"},{description:"Replay Timer Group",field:"replay_timer_group",onclick:t.setSelectorActive,fieldType:"text",itemIcon:"750",col:"col-6"},{description:"Replay Timer (sec)",field:"replay_timer_seconds",fieldType:"text",itemIcon:"750",col:"col-6"},{description:"Request Timer Group",field:"request_timer_group",onclick:t.setSelectorActive,itemIcon:"750",fieldType:"text",col:"col-6"},{description:"Request Timer (sec)",field:"request_timer_seconds",fieldType:"text",itemIcon:"750",col:"col-6"}],(function(i){return e("div",{class:i.col+" mb-3 pl-1 pr-1"},[e("div",[i.itemIcon?e("span",{class:"item-"+i.itemIcon+"-sm",staticStyle:{display:"inline-block"}}):t._e(),t._v("\n                      "+t._s(i.description)+"\n                      "),(i.field.includes("timer_seconds")||i.field.includes("duration"))&&t.task[i.field]>0?e("span",{staticClass:"font-weight-bold"},[t._v("("+t._s(t.secondsToHumanTime(t.task[i.field]))+")")]):t._e()]),e("div",{staticClass:"text-center"},["checkbox"===i.fieldType?e("eq-checkbox",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.v-dark.right",modifiers:{hover:!0,"v-dark":!0,right:!0}}],staticClass:"mb-1 mt-3 d-inline-block text-center",attrs:{title:t.getFieldDescription(i.field),"true-value":"undefined"!==typeof i.true?i.true:1,"false-value":"undefined"!==typeof i.false?i.false:0},on:{input:function(e){t.task[i.field]=e}},model:{value:t.task[i.field],callback:function(e){t.$set(t.task,i.field,t._n(e))},expression:"task[field.field]"}}):t._e()],1),"number"===i.fieldType?e("b-form-input",t._g({directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.v-dark.right",modifiers:{hover:!0,"v-dark":!0,right:!0}}],staticClass:"m-0 mt-1",style:0===t.task[i.field]?"opacity: .5":"",attrs:{id:i.field,title:t.getFieldDescription(i.field)},model:{value:t.task[i.field],callback:function(e){t.$set(t.task,i.field,t._n(e))},expression:"task[field.field]"}},"undefined"!==typeof i.onclick?{click:function(){return i.onclick(i.field)}}:{})):t._e(),"text"!==i.fieldType&&i.fieldType?t._e():e("b-form-input",t._g({directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.v-dark.right",modifiers:{hover:!0,"v-dark":!0,right:!0}}],staticClass:"m-0 mt-1",style:t.task[i.field]<=("undefined"!==typeof i.zeroValue?i.zeroValue:0)?"opacity: .5":"",attrs:{id:i.field,title:t.getFieldDescription(i.field)},model:{value:t.task[i.field],callback:function(e){t.$set(t.task,i.field,t._n(e))},expression:"task[field.field]"}},"undefined"!==typeof i.onclick?{click:function(){return i.onclick(i.field)}}:{})),"reward_id_list"===i.fieldType?e("b-input-group",[e("b-form-input",t._g({directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.v-dark.right",modifiers:{hover:!0,"v-dark":!0,right:!0}}],staticClass:"m-0 mt-1",style:t.task[i.field]<=("undefined"!==typeof i.zeroValue?i.zeroValue:0)?"opacity: .5":"",attrs:{id:i.field,title:t.getFieldDescription(i.field)},model:{value:t.task[i.field],callback:function(e){t.$set(t.task,i.field,e)},expression:"task[field.field]"}},"undefined"!==typeof i.onclick?{click:function(){return i.onclick(i.field)}}:{})),e("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.v-dark.right",modifiers:{hover:!0,"v-dark":!0,right:!0}}],staticStyle:{height:"29px","padding-right":"5px","margin-top":"3px"},attrs:{size:"sm",title:"Add entries to list",variant:"btn btn-outline-success btn-sm"},on:{click:function(e){return t.rewardIdMatchListItemSelector()}}},[e("i",{staticClass:"fa fa-pencil-square mr-1"})])],1):t._e(),"textarea"===i.fieldType?e("b-textarea",t._g({directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.v-dark.right",modifiers:{hover:!0,"v-dark":!0,right:!0}}],staticClass:"m-0 mt-1",style:(""===t.task[i.field]?"opacity: .5":"")+";",attrs:{id:i.field,title:t.getFieldDescription(i.field)},model:{value:t.task[i.field],callback:function(e){t.$set(t.task,i.field,e)},expression:"task[field.field]"}},"undefined"!==typeof i.onclick?{click:function(){return i.onclick(i.field)}}:{})):t._e(),i.selectData?e("select",{directives:[{name:"model",rawName:"v-model.number",value:t.task[i.field],expression:"task[field.field]",modifiers:{number:!0}},{name:"b-tooltip",rawName:"v-b-tooltip.hover.v-dark.right",modifiers:{hover:!0,"v-dark":!0,right:!0}}],staticClass:"form-control m-0 mt-1",style:t.task[i.field]<=("undefined"!==typeof i.zeroValue?i.zeroValue:0)?"opacity: .5":"",attrs:{disabled:t.saveFreeze,title:t.getFieldDescription(i.field)},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(e){var i="_value"in e?e._value:e.value;return t._n(i)}));t.$set(t.task,i.field,e.target.multiple?s:s[0])}}},t._l(i.selectData,(function(i,s){return e("option",{key:s,domProps:{value:parseInt(s)}},[t._v("\n                        "+t._s(s)+") "+t._s(i)+"\n                      ")])})),0):t._e()],1)})),0)]),e("eq-tab",{attrs:{name:"Activities"}},[e("div",[e("span",{staticClass:"font-weight-bold"},[t._v("Activities")]),e("div",{staticClass:"d-inline-block"},[e("b-button",{staticClass:"ml-2",attrs:{disabled:t.saveFreeze,size:"sm",variant:"outline-warning btn-dark"},on:{click:function(e){return t.createActivity()}}},[e("i",{staticClass:"fa fa-plus"})]),e("b-button",{staticClass:"ml-2",attrs:{disabled:t.saveFreeze,size:"sm",variant:"outline-white"},on:{click:function(e){return t.cloneActivity()}}},[e("i",{staticClass:"ra ra-double-team"})]),e("b-button",{staticClass:"ml-2",attrs:{disabled:t.saveFreeze,size:"sm",variant:"outline-danger btn-dark"},on:{click:function(e){return t.deleteActivity()}}},[e("i",{staticClass:"fa fa-trash"})]),e("b-button",{staticClass:"ml-2",attrs:{disabled:t.saveFreeze,size:"sm",variant:"outline-primary btn-dark"},on:{click:function(e){return t.moveActivityUp()}}},[e("i",{staticClass:"fa fa-arrow-up"})]),e("b-button",{staticClass:"ml-2",attrs:{disabled:t.saveFreeze,size:"sm",variant:"outline-primary btn-dark"},on:{click:function(e){return t.moveActivityDown()}}},[e("i",{staticClass:"fa fa-arrow-down"})]),e("b-button",{staticClass:"ml-2",attrs:{disabled:t.saveFreeze,size:"sm",variant:"outline-white btn-dark",title:"Fix and re-order task activities"},on:{click:function(e){return t.forceReorderTaskActivities()}}},[e("i",{staticClass:"fa fa-wrench"})])],1),e("select",t._b({directives:[{name:"model",rawName:"v-model",value:t.selectedActivity,expression:"selectedActivity"}],staticClass:"form-control eq-input",staticStyle:{"overflow-x":"scroll","min-height":"20vh","overflow-y":"scroll"},attrs:{disabled:t.saveFreeze,size:"2",id:"activities-scroll","ignore-input-change":"1"},on:{mouseover:t.scrollToActivity,change:[function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectedActivity=e.target.multiple?i:i[0]},t.selectActivity]}},"select",t.task.task_activities,!1),t._l(t.task.task_activities,(function(i){return e("option",{attrs:{id:"activities-entry"+i.activityid},domProps:{value:i.activityid}},[t._v("\n                      Step ["+t._s(i.step)+"] Activity ["+t._s(i.activityid)+"]\n                      "+t._s(t.buildActivityDescription(i))+"\n                    ")])})),0),null!==t.selectedActivity&&t.task&&t.task.task_activities&&t.task.task_activities[t.selectedActivity]?e("div",[e("div",{staticClass:"row mt-3"},t._l([{fieldType:"header",text:"Activity",col:"col-12"},{description:"Task Step",field:"step",fieldType:"step",itemIcon:"5739",col:"col-2",zeroValue:-1},{description:"Activity Type",field:"activitytype",itemIcon:"5739",fieldType:"select",selectData:t.TASK_ACTIVITY_TYPES,col:"col-3",onchange:t.activityTypeChange},{description:"Goal Count",itemIcon:"3196",field:"goalcount",fieldType:"number",col:"col-2",showIf:!t.isTouchActivityActive()},{description:"DZ Switch ID",itemIcon:"3196",field:"dz_switch_id",fieldType:"number",col:"col-2",showIf:t.isTouchActivityActive()},{description:"Quest Controlled",field:"goalmethod",itemIcon:"869",fieldType:"checkbox",true:2,col:"col-3"},{description:"Optional",field:"optional",itemIcon:"6696",fieldType:"checkbox",col:"col-2"},Object(s["a"])(Object(s["a"])(Object(s["a"])({description:"Required Activity ",itemIcon:"3196",field:"req_activity_id",fieldType:"number",col:"col-12"},"fieldType","select"),"selectData",t.buildTaskRequiredActivitySelection()),"zeroValue",-1),{fieldType:"header",text:"Activity Description",col:"col-12",info:"Activity descriptions are built using either name & target fields or using the description override"},{description:"Item Name(s)",itemIcon:"2275",fieldType:"text",field:"item_list",col:"col-6",style:t.isDescriptionOverrideSet()?"opacity: .2;":"opacity: 1;",showIf:t.isItemListVisible()},{description:"Activity Target",itemIcon:"2275",fieldType:"text",field:"target_name",col:"col-6",style:t.isDescriptionOverrideSet()?"opacity: .2;":"opacity: 1;",showIf:t.isActivityTargetVisible()},{description:"Description Override",field:"description_override",fieldType:"text",itemIcon:"2275",col:"col-12"},{fieldType:"header",text:"Activity Filters",col:"col-12",info:"Filters determine what the activity update applies to, zone, items, npc's etc."},{description:"Zone(s)",itemIcon:"6849",field:"zones",fieldType:"text",type:"text",col:"col-9",onclick:t.setSelectorActive},{description:"Zone Version",itemIcon:"6849",field:"zone_version",fieldType:"number",type:"text",col:"col-3"},{description:"NPC Match List ("+t.npcMatchListSuffixDescription()+")",itemIcon:"6849",field:"npc_match_list",fieldType:"text",showIf:t.isNpcMatchListSelectorActive(),info:"Use partial or full NPC names or exact IDs to match for this activity update. Example (10343|orc|gnoll)",col:"col-12",onclick:t.setSelectorActive},{description:"Item Match List ("+t.itemMatchListSuffixDescription()+")",itemIcon:"6849",field:"item_id_list",fieldType:"item_id_list",showIf:t.isItemMatchListSelectorActive(),info:"Use exact item IDs to match for this activity update",col:"col-12",onclick:t.setSelectorActive},{description:"Quest Example (Quest Controlled)",itemIcon:"3196",field:"quest_example",fieldType:"popout",showIf:t.isActivityQuestControlled(),col:"col-12"},{fieldType:"header",text:"Explore",col:"col-12",info:"Defines the exploration boundary",showIf:t.isGoalIdExploreActive()},{description:"Min X",field:"min_x",fieldType:"number",itemIcon:"6851",col:"col-2",showIf:t.isGoalIdExploreActive()},{description:"Max X",field:"max_x",fieldType:"number",itemIcon:"6851",col:"col-2",showIf:t.isGoalIdExploreActive()},{description:"Min Y",field:"min_y",fieldType:"number",itemIcon:"6851",col:"col-2",showIf:t.isGoalIdExploreActive()},{description:"Max Y",field:"max_y",fieldType:"number",itemIcon:"6851",col:"col-2",showIf:t.isGoalIdExploreActive()},{description:"Min Z",field:"min_z",fieldType:"number",itemIcon:"6851",col:"col-2",showIf:t.isGoalIdExploreActive()},{description:"Max Z",field:"max_z",fieldType:"number",itemIcon:"6851",col:"col-2",showIf:t.isGoalIdExploreActive()}],(function(i){return"undefined"!==typeof i.showIf&&i.showIf||"undefined"===typeof i.showIf?e("div",{class:i.col+" mb-3 pl-2 pr-2",style:"undefined"!==typeof i.style&&i.style||"undefined"===typeof i.style},["header"===i.fieldType&&("undefined"!==typeof i.showIf&&i.showIf||"undefined"===typeof i.showIf)?e("div",[e("span",{staticClass:"font-weight-bold"},[t._v("\n                            "+t._s(i.text)+"\n                            "),i.info?e("i",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.v-dark.topright",modifiers:{hover:!0,"v-dark":!0,topright:!0}}],staticClass:"fa fa-info-circle",staticStyle:{color:"#6b614a"},attrs:{title:i.info}}):t._e()])]):t._e(),i.description?e("div",[i.itemIcon?e("span",{class:"item-"+i.itemIcon+"-sm",staticStyle:{display:"inline-block"}}):t._e(),t._v("\n                          "+t._s(i.description)+"\n                          "),i.info?e("i",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.v-dark.topright",modifiers:{hover:!0,"v-dark":!0,topright:!0}}],staticClass:"fa fa-info-circle",staticStyle:{color:"#6b614a"},attrs:{title:i.info}}):t._e(),"zones"===i.field&&t.task.task_activities[t.selectedActivity][i.field]?e("div",{staticClass:"font-weight-bold mt-1 text-center d-inline-block ml-1"},[t._v("\n                            "+t._s(t.getZoneNames())+"\n                          ")]):t._e()]):t._e(),"popout"===i.fieldType&&"quest_example"===i.field?e("div",[e("div",[e("eq-tabs",{attrs:{"bottom-tab-margin":10}},[e("eq-tab",{staticClass:"mb-0",attrs:{name:"Perl",selected:"true"}},[e("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.v-dark.left",modifiers:{hover:!0,"v-dark":!0,left:!0}}],staticClass:"ml-0 code-display pl-0",staticStyle:{width:"100%",display:"inline-block","padding-top":"10px !important","padding-bottom":"10px !important","border-radius":"5px"},attrs:{title:"$client->UpdateTaskActivity(int task_id, int activity_id, int count);"}},[e("button",{staticClass:"btn btn-sm btn-dark mb-1 mr-2",staticStyle:{"font-size":"8px",padding:"0.125rem 0.4rem",opacity:".6"},on:{click:function(e){t.copyToClip("$client->UpdateTaskActivity(".concat(t.buildQuestUpdateTaskActivityParams(),");"))}}},[e("i",{staticClass:"fa fa-clipboard"})]),e("span",{staticStyle:{color:"rgb(156, 220, 254)"}},[t._v("$client->")]),t._v("UpdateTaskActivity("+t._s(t.buildQuestUpdateTaskActivityParams())+");\n                                ")])]),e("eq-tab",{attrs:{name:"Lua"}},[e("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.v-dark.left",modifiers:{hover:!0,"v-dark":!0,left:!0}}],staticClass:"ml-0 code-display pl-0",staticStyle:{width:"100%",display:"inline-block","padding-top":"10px !important","padding-bottom":"10px !important","border-radius":"5px"},attrs:{title:"client:UpdateTaskActivity(int task, int activity, int count);"}},[e("button",{staticClass:"btn btn-sm btn-dark mb-1 mr-2",staticStyle:{"font-size":"8px",padding:"0.125rem 0.4rem",opacity:".6"},on:{click:function(e){t.copyToClip("client:UpdateTaskActivity(".concat(t.buildQuestUpdateTaskActivityParams(),");"))}}},[e("i",{staticClass:"fa fa-clipboard"})]),e("span",{staticStyle:{color:"rgb(156, 220, 254)"}},[t._v("client:")]),t._v("UpdateTaskActivity("+t._s(t.buildQuestUpdateTaskActivityParams())+");\n                                ")])])],1)],1)]):t._e(),e("div",{staticClass:"text-center"},["checkbox"===i.fieldType?e("eq-checkbox",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.v-dark.right",modifiers:{hover:!0,"v-dark":!0,right:!0}}],staticClass:"mb-1 mt-3 d-inline-block",attrs:{title:t.getFieldDescription(i.field),"true-value":"undefined"!==typeof i.true?i.true:1,"false-value":"undefined"!==typeof i.false?i.false:0},on:{input:function(e){t.task.task_activities[t.selectedActivity][i.field]=e}},model:{value:t.task.task_activities[t.selectedActivity][i.field],callback:function(e){t.$set(t.task.task_activities[t.selectedActivity],i.field,t._n(e))},expression:"task.task_activities[selectedActivity][field.field]"}}):t._e()],1),"number"===i.fieldType?e("b-form-input",t._g({directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.v-dark.right",modifiers:{hover:!0,"v-dark":!0,right:!0}}],staticClass:"m-0 mt-1",style:0===t.task.task_activities[t.selectedActivity][i.field]?"opacity: .5":"",attrs:{id:i.field,title:t.getFieldDescription(i.field)},model:{value:t.task.task_activities[t.selectedActivity][i.field],callback:function(e){t.$set(t.task.task_activities[t.selectedActivity],i.field,t._n(e))},expression:"task.task_activities[selectedActivity][field.field]"}},"undefined"!==typeof i.onclick?{click:function(){return i.onclick(i.field)}}:{})):t._e(),"step"===i.fieldType?e("b-form-input",t._g({directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.v-dark.right",modifiers:{hover:!0,"v-dark":!0,right:!0}}],staticClass:"m-0 mt-1",style:0===t.task.task_activities[t.selectedActivity][i.field]?"opacity: .5":"",attrs:{type:"number",id:i.field,title:t.getFieldDescription(i.field)},model:{value:t.task.task_activities[t.selectedActivity][i.field],callback:function(e){t.$set(t.task.task_activities[t.selectedActivity],i.field,t._n(e))},expression:"task.task_activities[selectedActivity][field.field]"}},"undefined"!==typeof i.onclick?{click:function(){return i.onclick(i.field)}}:{})):t._e(),"text"===i.fieldType?e("b-form-input",t._g({directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.v-dark.right",modifiers:{hover:!0,"v-dark":!0,right:!0}}],staticClass:"m-0 mt-1",style:t.task.task_activities[t.selectedActivity][i.field]<=("undefined"!==typeof i.zeroValue?i.zeroValue:0)?"opacity: .5":"",attrs:{id:i.field,title:t.getFieldDescription(i.field)},model:{value:t.task.task_activities[t.selectedActivity][i.field],callback:function(e){t.$set(t.task.task_activities[t.selectedActivity],i.field,e)},expression:"task.task_activities[selectedActivity][field.field]"}},"undefined"!==typeof i.onclick?{click:function(){return i.onclick(i.field)}}:{})):t._e(),"item_id_list"===i.fieldType?e("b-input-group",[e("b-form-input",t._g({directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.v-dark.right",modifiers:{hover:!0,"v-dark":!0,right:!0}}],staticClass:"m-0 mt-1",style:t.task.task_activities[t.selectedActivity][i.field]<=("undefined"!==typeof i.zeroValue?i.zeroValue:0)?"opacity: .5":"",attrs:{id:i.field,title:t.getFieldDescription(i.field)},model:{value:t.task.task_activities[t.selectedActivity][i.field],callback:function(e){t.$set(t.task.task_activities[t.selectedActivity],i.field,e)},expression:"task.task_activities[selectedActivity][field.field]"}},"undefined"!==typeof i.onclick?{click:function(){return i.onclick(i.field)}}:{})),e("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.v-dark.right",modifiers:{hover:!0,"v-dark":!0,right:!0}}],staticStyle:{height:"29px","padding-right":"5px","margin-top":"3px"},attrs:{size:"sm",title:"Add entries to list",variant:"btn btn btn-dark btn-outline-success btn-secondary btn-sm"},on:{click:function(e){return t.itemMatchListItemSelector()}}},[e("i",{staticClass:"fa fa-pencil-square mr-1"})])],1):t._e(),"textarea"===i.fieldType?e("b-textarea",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.v-dark.right",modifiers:{hover:!0,"v-dark":!0,right:!0}}],staticClass:"m-0 mt-1",style:(""===t.task.task_activities[t.selectedActivity][i.field]?"opacity: .5":"")+";",attrs:{id:i.field,rows:"2","max-rows":"12",title:t.getFieldDescription(i.field)},model:{value:t.task.task_activities[t.selectedActivity][i.field],callback:function(e){t.$set(t.task.task_activities[t.selectedActivity],i.field,e)},expression:"task.task_activities[selectedActivity][field.field]"}}):t._e(),i.selectData?e("select",t._g({directives:[{name:"model",rawName:"v-model.number",value:t.task.task_activities[t.selectedActivity][i.field],expression:"task.task_activities[selectedActivity][field.field]",modifiers:{number:!0}},{name:"b-tooltip",rawName:"v-b-tooltip.hover.v-dark.right",modifiers:{hover:!0,"v-dark":!0,right:!0}}],staticClass:"form-control m-0 mt-1",style:t.task.task_activities[t.selectedActivity][i.field]<=("undefined"!==typeof i.zeroValue?i.zeroValue:0)?"opacity: .5":"",attrs:{title:t.getFieldDescription(i.field)},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(e){var i="_value"in e?e._value:e.value;return t._n(i)}));t.$set(t.task.task_activities[t.selectedActivity],i.field,e.target.multiple?s:s[0])}}},"undefined"!==typeof i.onchange?{change:function(){return i.onchange(i.field)}}:{}),t._l(i.selectData,(function(i,s){return e("option",{key:s,domProps:{value:parseInt(s)}},[t._v("\n                            "+t._s(s)+") "+t._s(i)+"\n                          ")])})),0):t._e()],1):t._e()})),0),e("eq-debug",{attrs:{data:t.task.task_activities[t.selectedActivity]}})],1):t._e()])])],1),e("div",{staticClass:"text-center mt-3"},[e("div",{staticClass:"btn-group",attrs:{role:"group"}},[e("b-button",{attrs:{disabled:t.saveFreeze,size:"sm",variant:"outline-warning btn-dark"},on:{click:function(e){return t.saveTask()}}},[e("i",{staticClass:"fa fa-save mr-1"}),t._v("\n                  Save\n                ")])],1)])],1):t._e()]),e("eq-debug",{attrs:{data:t.task}})],1):t._e()],1),t.task?e("div",{staticClass:"col-5 fade-in"},[t.selectorActive["npc_match_list"]&&t.task.task_activities[t.selectedActivity]&&"undefined"!==typeof t.task.task_activities[t.selectedActivity].npc_match_list?e("div",{staticClass:"fade-in",staticStyle:{width:"auto"}},[e("task-npc-match-list-previewer",{attrs:{activity:t.task.task_activities[t.selectedActivity]}})],1):t._e(),t.selectorActive["reward_id_list"]&&t.task["reward_id_list"]?e("div",{staticClass:"fade-in",staticStyle:{width:"auto"}},[e("task-item-match-list-previewer",{attrs:{"id-list":t.task.reward_id_list},on:{"remove-item":function(e){t.task.reward_id_list=t.removeItemFromMatchList(t.task.reward_id_list,e)}}})],1):t._e(),t.selectorActive["item_id_list"]&&t.task.task_activities[t.selectedActivity]&&"undefined"!==typeof t.task.task_activities[t.selectedActivity].item_id_list?e("div",{staticClass:"fade-in",staticStyle:{width:"auto"}},[e("task-item-match-list-previewer",{attrs:{"id-list":t.task.task_activities[t.selectedActivity].item_id_list},on:{"remove-item":function(e){t.task.task_activities[t.selectedActivity].item_id_list=t.removeItemFromMatchList(t.task.task_activities[t.selectedActivity].item_id_list,e)}}})],1):t._e(),t.selectorActive["description"]?e("div",{staticClass:"fade-in",staticStyle:{width:"auto"}},[e("task-description-selector",{attrs:{task:t.task,description:t.task.description},on:{input:function(e){t.task["description"]=e,t.setFieldModifiedById("description")}}})],1):t._e(),t.selectorActive["reward_id_list_select"]?e("div",{staticClass:"fade-in",staticStyle:{width:"auto"}},[e("task-item-selector",{on:{input:function(e){t.task["reward_id_list"]=t.addItemToMatchList(t.task["reward_id_list"],e.id),t.setFieldModifiedById("reward_id_list")}}})],1):t._e(),t.selectorActive["item_id_list_select"]?e("div",{staticClass:"fade-in",staticStyle:{width:"auto"}},[e("task-item-selector",{on:{input:function(e){t.task.task_activities[t.selectedActivity].item_id_list=t.addItemToMatchList(t.task.task_activities[t.selectedActivity].item_id_list,e.id),t.setFieldModifiedById("reward_id_list")}}})],1):t._e(),t.task&&t.task.task_activities&&t.task.task_activities[t.selectedActivity]&&t.selectorActive["zones"]?e("task-zone-selector",{attrs:{"selected-zone-id":parseInt(t.task.task_activities[t.selectedActivity].zones)},on:{input:function(e){t.task.task_activities[t.selectedActivity].zones=e.zoneId,t.task.task_activities[t.selectedActivity].npc_match_list="",t.setFieldModifiedById("zones")}}}):t._e(),t.task&&t.selectorActive["reward_point_type"]?e("alternate-currency-selector",{attrs:{"selected-currency":t.task.reward_point_type},on:{input:function(e){t.task.reward_point_type=e,t.setFieldModifiedById("reward_point_type")}}}):t._e(),t.task&&t.selectorActive["dz_template_id"]?e("dynamic-zone-template-selector",{attrs:{"selected-id":t.task.dz_template_id},on:{input:function(e){t.task.dz_template_id=e,t.setFieldModifiedById("dz_template_id")}}}):t._e(),t.task&&t.selectorActive["replay_timer_group"]?e("task-replay-request-group-selector",{attrs:{"selected-id":t.task.replay_timer_group,"replay-field":"replay_timer_group"},on:{input:function(e){t.task.replay_timer_group=e,t.setFieldModifiedById("replay_timer_group")}}}):t._e(),t.task&&t.selectorActive["request_timer_group"]?e("task-replay-request-group-selector",{attrs:{"selected-id":t.task.request_timer_group,"replay-field":"request_timer_group"},on:{input:function(e){t.task.request_timer_group=e,t.setFieldModifiedById("request_timer_group")}}}):t._e(),t.selectorActive["id"]?e("eq-window-simple",{staticClass:"fade-in",staticStyle:{"margin-right":"10px",width:"auto"},attrs:{title:"Free Item Ids"}},[e("free-id-selector",{attrs:{"table-name":"tasks","id-name":"id","name-label":"title","with-reserved":!0},on:{input:function(e){t.task.id=e,t.setFieldModifiedById("id")}}})],1):t._e(),t.previewTaskActive?e("div",[e("task-preview",{attrs:{"task-source":t.task,"selected-activity":t.selectedActivity}}),""!==t.task.completion_emote?e("eq-window-simple",{staticClass:"p-0",attrs:{title:"Chat (Completion Emote)"}},[e("div",{staticClass:"mt-3 eq-background-dark p-2",staticStyle:{border:"rgba(122, 134, 183, 0.5) 1px solid"}},[e("span",{staticStyle:{color:"yellow"}},[t._v("\n            "+t._s(t.task.completion_emote)+"\n          ")])])]):t._e(),e("task-quest-example-preview",{attrs:{task:t.task,"selected-activity":t.selectedActivity}})],1):t._e()],1):t._e()])])}),n=[],r=(i("ac4d"),i("8a81"),i("5df3"),i("1c4c"),i("768b")),c=(i("ffc1"),i("7f7f"),i("c5f6"),i("6b54"),i("28a5"),i("96cf"),i("3b8d")),o=(i("ac6a"),i("456d"),i("935a")),l=i("02f6"),d=i("3022"),u=i.n(d),p=i("80b0"),h=(i("a481"),i("55dd"),i("9a04")),f=i("75fc"),m=i("d225"),v=i("b0b4"),y=i("9ab4"),b=i("a7a1"),_=i("0d95"),g={0:"Task",1:"Shared Task",2:"Quest",3:"Expedition"},k={TASK:0,SHARED_TASK:1,QUEST:2,EXPEDITION:3},w={0:"None",1:"Short",2:"Medium",3:"Long"},A={1:"Deliver",2:"Kill",3:"Loot",4:"Speak With",5:"Explore",6:"Tradeskill",7:"Fish",8:"Forage",9:"Use",10:"Use",11:"Touch",100:"Give Cash",255:"Quest Driven"},x={DELIVER:1,KILL:2,LOOT:3,SPEAK_WITH:4,EXPLORE:5,TRADESKILL:6,FISH:7,FORAGE:8,USE:9,USE2:10,TOUCH:11,GIVE:100,QUEST_SCRIPT_DRIVEN:255},I={0:"Infinite",3600:"1 hour",7200:"2 hours",10800:"3 hours",14400:"4 hours",18e3:"5 hours",21600:"6 hours",25200:"7 hours",28800:"8 hours",32400:"9 hours",36e3:"10 hours",39600:"11 hours",43200:"12 hours",86400:"1 days",172800:"2 days",259200:"3 days",345600:"4 days",432e3:"5 days",518400:"6 days",604800:"7 days",2629746:"1 month"},C={0:"Single ID",1:"List (of entries)",2:"Quest Controlled"},T={SINGLE_ID:0,LIST:1,QUEST_CONTROLLED:2},S={0:"Single ID",1:"List (of entries)",2:"Quest Controlled"},E=i("bdac"),N=i("e40e"),R=function(){function t(){Object(m["a"])(this,t)}return Object(v["a"])(t,null,[{key:"getTasks",value:function(){return Object(y["d"])(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=(new N["a"]).limit(1e5).get(),t.next=3,Object(h["a"])(b["TaskApi"],Object(f["a"])(_["SpireApi"].cfg())).listTasks(e);case 3:if(i=t.sent,i.status!==E["a"].OK){t.next=6;break}return t.abrupt("return",i.data);case 6:return t.abrupt("return",[]);case 7:case"end":return t.stop()}}),t)})))}},{key:"getTaskApi",value:function(){return Object(h["a"])(b["TaskApi"],Object(f["a"])(_["SpireApi"].cfg()))}},{key:"getTaskActivitiesApi",value:function(){return Object(h["a"])(b["TaskActivityApi"],Object(f["a"])(_["SpireApi"].cfg()))}},{key:"getTask",value:function(t){return Object(y["d"])(this,void 0,void 0,regeneratorRuntime.mark((function e(){var i,s,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=(new N["a"]).includes(this.getRelationships()).get(),i.id=t,e.next=4,this.getTaskApi().getTask(i);case 4:if(s=e.sent,s.status!==E["a"].OK){e.next=9;break}return a=s.data,a.task_activities&&a.task_activities.sort((function(t,e){return t.activityid>e.activityid?1:-1})),e.abrupt("return",a);case 9:return e.abrupt("return",{});case 10:case"end":return e.stop()}}),e,this)})))}},{key:"getTaskWithActivities",value:function(t){return Object(y["d"])(this,void 0,void 0,regeneratorRuntime.mark((function e(){var i,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=(new N["a"]).includes(this.getRelationships()).get(),i.id=t,e.next=4,this.getTaskApi().getTask(i);case 4:if(s=e.sent,s.status!==E["a"].OK){e.next=7;break}return e.abrupt("return",s.data);case 7:return e.abrupt("return",{});case 8:case"end":return e.stop()}}),e,this)})))}},{key:"createTask",value:function(t){return Object(y["d"])(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getTaskApi().createTask({task:t},{});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})))}},{key:"updateTask",value:function(t){return Object(y["d"])(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getTaskApi().updateTask({id:t.id,task:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})))}},{key:"deleteTaskWithActivities",value:function(t){return Object(y["d"])(this,void 0,void 0,regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.getTaskApi().deleteTask({id:t.id},{});case 3:if(i=e.sent,i.status!==E["a"].OK){e.next=7;break}return e.next=7,this.getTaskActivitiesApi().deleteTaskActivity({id:t.id},{});case 7:e.next=13;break;case 9:if(e.prev=9,e.t0=e["catch"](0),!e.t0.response.data.error){e.next=13;break}return e.abrupt("return",e.t0.response.data.error);case 13:return e.abrupt("return","");case 14:case"end":return e.stop()}}),e,this,[[0,9]])})))}},{key:"createNewTaskActivity",value:function(t){return Object(y["d"])(this,void 0,void 0,regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=this.getExampleActivity(),i.taskid=t.id,i.activityid=t.task_activities?this.getNextActivityId(t.task_activities):0,i.step=t.task_activities?this.getLatestStep(t.task_activities):1,e.next=6,this.getTaskActivitiesApi().createTaskActivity({taskActivity:i});case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e,this)})))}},{key:"updateTaskActivityId",value:function(t,e){return Object(y["d"])(this,void 0,void 0,regeneratorRuntime.mark((function i(){var s;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return s=(new N["a"]).where("taskid","=",t.taskid).where("activityid","=",e).get(),t.zones=t.zones.toString(),i.next=4,this.getTaskActivitiesApi().updateTaskActivity({id:t.taskid,taskActivity:t},{query:s});case 4:return i.abrupt("return",i.sent);case 5:case"end":return i.stop()}}),i,this)})))}},{key:"saveTaskActivity",value:function(t){return Object(y["d"])(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getTaskActivitiesApi().createTaskActivity({taskActivity:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})))}},{key:"cloneTaskActivity",value:function(t,e){return Object(y["d"])(this,void 0,void 0,regeneratorRuntime.mark((function i(){var s;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return s=t.task_activities[e],s.taskid=t.id,s.activityid=t.task_activities?this.getNextActivityId(t.task_activities):0,s.step=t.task_activities?this.getLatestStep(t.task_activities):1,i.next=6,this.getTaskActivitiesApi().createTaskActivity({taskActivity:s});case 6:return i.abrupt("return",i.sent);case 7:case"end":return i.stop()}}),i,this)})))}},{key:"deleteTaskActivity",value:function(t){return Object(y["d"])(this,void 0,void 0,regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=(new N["a"]).where("activityid","=",t.activityid).get(),i.id=t.taskid,e.next=4,this.getTaskActivitiesApi().deleteTaskActivity({id:t.taskid},{query:i});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)})))}},{key:"getNextActivityId",value:function(t){var e=0;return t.forEach((function(t){e=t.activityid})),e+1}},{key:"getLatestStep",value:function(t){var e=0;return t.forEach((function(t){e=t.step})),e}},{key:"buildActivityDescription",value:function(t){if(""!==t.description_override)return t.description_override;switch(t.activitytype){case x.DELIVER:return"Deliver ".concat(t.goalcount," ").concat(t.item_list," to ").concat(t.target_name);case x.KILL:return"Kill ".concat(t.goalcount," ").concat(t.target_name);case x.LOOT:return"Loot ".concat(t.goalcount," ").concat(t.item_list," from ").concat(t.target_name);case x.SPEAK_WITH:return"Speak with "+t.target_name;case x.EXPLORE:return"Explore "+t.target_name;case x.TRADESKILL:return"Create ".concat(t.goalcount," ").concat(t.item_list," using tradeskills");case x.FISH:return"Fish for ".concat(t.goalcount," ").concat(t.item_list);case x.FORAGE:return"Forage ".concat(t.goalcount," ").concat(t.item_list);case x.USE:return"Use "+t.goalcount;case x.USE2:return"Use "+t.goalcount;case x.TOUCH:return"Touch "+t.target_name;case x.GIVE:return"Give "+t.goalcount+" to "+t.target_name;case x.QUEST_SCRIPT_DRIVEN:return"None";default:return"None"}}},{key:"getRelationships",value:function(){return["AlternateCurrency.Item","TaskActivities"]}},{key:"getFieldDescriptions",value:function(){return{id:"Task identifier",step:"This is the logical step of your task activity, you can have many activities in one step, you have to complete all activities in one step to unlock the next step",activitytype:"This is the type of task activity, kill, loot etc.",item_list:"Name of items mentioned in task description",npc_match_list:"Names or IDs of NPC's separated by | Example (10343|orc|gnoll)",item_id_list:"IDs of items separated by | Ex: (10343|24232|34243)",target_name:"This describes what the activity is targeting, it is different depending on the activity. For example 'orcs' Would display 'Kill X orcs'",optional:"Describes whether or not this activity is optional",goalid:"Goal ID is different depending on your activity type as well as Goal Method",goalmethod:"Determine if this activity is updated via Quest or not.",goalcount:"Required count of this activity to be completed.",zones:"Zone ID(s) that correspond to this update. For example the client needs to be in this zone in order to receive the update. [-1 = Unknown, 0 = ALL] | Multiple example (3,10,30)",zone_version:"Zone version(s) that correspond to this update. (-1 = ALL)",description_override:"Use this to completely override other fields that otherwise influence the activity description (activity target, item list etc.)",title:"The title of your task",type:"The type of task you are making",description:"Narrative description of your task",duration_code:"Reflects the type of duration",duration:"Task duration in seconds",min_level:"Minimum level to receive the task",max_level:"Maximum level to receive the task",completion_emote:"Emote text that is displayed upon succesful completion of the task",reward_method:"Determine if reward is quest controlled or not(s)",reward_text:"Name of reward provided for completing the task. If this is empty, it is automatically derived from item name",reward_id_list:"Item ID(s) for the rewarded item(s) separated by | Ex: (1001|1002|1003)",exp_reward:"Amount of experience rewarded",faction_reward:"Faction ID for reward",faction_amount:"Amount of faction rewarded",reward_ebon_crystals:"Number of ebon crystals rewarded",reward_radiant_crystals:"Number of radiant crystals rewarded",cash_reward:"Amount of coin rewarded in copper",enabled:"Determines if the task is enabled or not"}}},{key:"getFieldDescription",value:function(t){var e=t.toLowerCase().replace("_","");for(var i in this.getFieldDescriptions()){var s=i.toLowerCase().replace("_","");if(s===e)return this.getFieldDescriptions()[i]}return""}},{key:"getExampleTask",value:function(){return{id:2,type:2,duration:3600,duration_code:0,title:"Example Task 2",description:"Example Task 2",reward_text:"XP",reward_id_list:"",cash_reward:0,exp_reward:10,reward_method:0,lock_activity_id:-1,reward_point_type:0,reward_points:0,min_level:0,max_level:0,level_spread:0,min_players:0,max_players:0,repeatable:1,faction_reward:0,completion_emote:"",dz_template_id:0,replay_timer_seconds:0,replay_timer_group:0,request_timer_seconds:0,request_timer_group:0,enabled:1,task_activities:[{taskid:2,activityid:0,step:1,activitytype:2,req_activity_id:-1,target_name:"Orcs",item_list:"",item_id_list:"",npc_match_list:"",skill_list:"-1",spell_list:"0",description_override:"",goalid:0,goalmethod:0,goalcount:1,zones:"21",zone_version:-1,optional:0},{taskid:2,activityid:1,req_activity_id:-1,step:1,activitytype:3,target_name:"any creature",item_list:"Rusty Items",item_id_list:"",npc_match_list:"",skill_list:"-1",spell_list:"0",description_override:"",goalid:0,goalmethod:0,goalcount:1,zones:"0",zone_version:-1,optional:0},{taskid:2,activityid:2,req_activity_id:-1,step:1,activitytype:5,target_name:"",item_list:"",item_id_list:"",npc_match_list:"",skill_list:"-1",spell_list:"0",description_override:"Locate the Antonica Spires in the Luclin Nexus",goalid:0,goalmethod:0,goalcount:1,zones:"152",zone_version:-1,optional:0}]}}},{key:"getExampleActivity",value:function(){return{taskid:2,activityid:0,step:1,activitytype:2,req_activity_id:-1,target_name:"Orcs",item_list:"",item_id_list:"",npc_match_list:"",skill_list:"-1",spell_list:"0",description_override:"",goalmethod:0,goalcount:1,delivertonpc:0,zones:"21",zone_version:-1,optional:0,enabled:1}}}])}(),O=i("46f9"),D=i("093e"),L=i("dd86"),P=i("4bcf"),M=i("c667"),F=i("761d"),q=function(){var t=this,e=t._self._c;return e("div",[t.task?e("eq-window-simple",{attrs:{title:"Quest Journal"}},[e("div",{staticClass:"row"},[e("div",{staticClass:"mb-3 col-9"},[t._v("\n        Tasks\n      ")]),e("div",{staticClass:"col-3"},[t._v("\n        Request Timer: 00:00\n      ")])]),e("table",{staticClass:"col-12 task-window"},[e("thead",{staticClass:"task-window-header"},[e("tr",[e("td",{staticStyle:{width:"30px"}}),e("td",{staticStyle:{width:"300px"}},[t._v("Task Title")]),e("td",[t._v("Time Left")])])]),e("tbody",[e("tr",[e("td",{style:"text-align: center; color: "+t.getTaskColor()},[t._v(t._s(t.getTaskTypeDisplayCode()))]),e("td",{style:"color: "+t.getTaskColor()},[t._v(t._s(t.task.title))]),e("td",[e("task-timer-countdown",{attrs:{task:t.task}})],1)])])]),e("div",{staticClass:"row"},[e("div",{staticClass:"mt-3 col-9"},[t._v("\n        Task Progression\n      ")]),e("div",{staticClass:"col-3"})]),e("table",{staticClass:"col-12 mt-3 task-window"},[e("thead",{staticClass:"task-window-header"},[e("tr",[e("td",[t._v("Objective Instructions")]),e("td",{staticStyle:{width:"50px"}},[t._v("Status")]),e("td",{staticStyle:{width:"200px"}},[t._v("Zone")])])]),e("tbody",[t._l(t.task.task_activities,(function(i){return e("tr",[e("td",{style:"color: "+t.getTaskActivityStepColor(i),attrs:{title:t.buildActivityDescription(i)}},[t._v("\n          "+t._s(t.truncate(t.buildActivityDescription(i),50))+"\n        ")]),e("td",[t._v(t._s(t.renderTaskActivityProgress(i)))]),e("td",{style:"color: "+t.getTaskActivityStepColor(i)},[t._v("\n          "+t._s(t.isActivityStepActive(i)?t.getZone(i):"???")+"\n        ")])])})),e("tr",{staticClass:"this-is-a-space-row-dont-remove"},[e("td",[t._v("")]),e("td"),e("td")])],2)]),""!==t.description||t.hasReward()?e("div",{staticClass:"mt-3 eq-background-dark p-2",staticStyle:{border:"rgba(122, 134, 183, 0.5) 1px solid"}},[e("v-runtime-template",{attrs:{template:"<div>"+t.description+"</div>"}}),t.hasReward()?e("div",{class:""!==t.description?"mt-3":""},[e("span",{staticClass:"font-weight-bold"},[t._v("Reward(s)")]),t.task.reward_text?e("div",{staticClass:"mt-1",staticStyle:{color:"magenta"}},[t._v("\n          "+t._s(t.task.reward_text)+"\n        ")]):t._e(),t._l(t.rewardItems,(function(i){return e("div",{key:i.id},[Object.keys(i).length>0&&i?e("item-popover",{staticClass:"mt-1",attrs:{item:i,size:"regular"}}):t._e()],1)})),t.task.alternate_currency&&t.task.alternate_currency.item?e("div",[Object.keys(t.task.alternate_currency.item).length>0?e("item-popover",{staticClass:"mt-1",attrs:{item:t.task.alternate_currency.item,size:"regular",annotation:" ("+t.task.reward_points.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")+")"}}):t._e()],1):t._e(),t.task.cash_reward>0?e("div",{staticClass:"mt-3"},[t._v("\n          Cash\n          "),e("eq-cash-display",{staticClass:"d-inline-block",attrs:{price:t.task.cash_reward}})],1):t._e(),t.task.exp_reward>0?e("div",{staticClass:"mt-3"},[t._v("\n          Experience ("+t._s(t.task.exp_reward.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","))+")\n        ")]):t._e()],2):t._e()],1):t._e()]):t._e()],1)},j=[],B=i("9814"),z=i("cd97"),U=i("5201"),G=i("a78e"),H=function(){var t=this,e=t._self._c;return t.taskTimerDisplay?e("div",[t._v("\n  "+t._s(t.taskTimerDisplay)+" "),""!==t.taskDuration?e("span",[t._v(t._s(t.taskDuration))]):t._e()]):t._e()},$=[],V=(i("f576"),i("ae45")),K={name:"TaskTimerCountdown",data:function(){return{taskTimer:null,lastTaskDuration:-1,taskTimerDisplay:"Unlimited",taskDuration:""}},props:{task:Object},watch:{task:{deep:!0,handler:function(){this.debouncedLoad(),console.log("task timer watch")}},selectedActivity:{handler:function(){this.description=this.getDescription()}}},destroyed:function(){clearInterval(this.taskTimer)},mounted:function(){var t=this;this.load(),this.debouncedLoad=Object(V["debounce"])((function(){t.load()}),500)},methods:{load:function(){var t=this;if(console.log("task timer countdown"),this.task.duration&&this.task.duration!==this.lastTaskDuration&&(this.setCountDownTimer(),this.lastTaskDuration=this.task.duration),this.task.duration>0){var e=new Date;e.setSeconds(e.getSeconds()+this.task.duration),this.taskDuration="("+this.getFormattedTime(e)+")",this.taskTimerDisplay=this.getFormattedTime(e),this.calculateTime(),this.taskTimer&&clearInterval(this.taskTimer),this.taskTimer=setInterval((function(){var i=(new Date).getTime(),s=e-i;t.taskTimerDisplay=t.getFormattedTime(e),s<0&&clearInterval(t.taskTimer)}),1e3)}},calculateTime:function(){var t=new Date;t.setSeconds(t.getSeconds()+this.task.duration),this.taskDuration="("+this.getFormattedTime(t)+")",this.taskTimerDisplay=this.getFormattedTime(t)},getFormattedTime:function(t){var e=(new Date).getTime(),i=t-e,s=Math.floor(i/864e5),a=Math.floor(i%864e5/36e5),n=Math.floor(i%36e5/6e4),r=Math.floor(i%6e4/1e3),c=[];return s>0&&c.push(s),a>=0&&c.push(a.toString().padStart(2,"0")),n>=0&&c.push(n.toString().padStart(2,"0")),r>=0&&c.push(r.toString().padStart(2,"0")),c.join(":")},setCountDownTimer:function(){this.taskTimerDisplay="Unlimited",this.taskDuration="",this.taskTimer&&clearInterval(this.taskTimer),this.task.duration>0&&this.calculateTime()}}},Y=K,W=i("2877"),Z=Object(W["a"])(Y,H,$,!1,null,"7948de96",null),Q=Z.exports;function X(t,e){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=J(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var s=0,a=function(){};return{s:a,n:function(){return s>=t.length?{done:!0}:{done:!1,value:t[s++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,r=!0,c=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return r=t.done,t},e:function(t){c=!0,n=t},f:function(){try{r||null==i.return||i.return()}finally{if(c)throw n}}}}function J(t,e){if(t){if("string"==typeof t)return tt(t,e);var i={}.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?tt(t,e):void 0}}function tt(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,s=Array(e);i<e;i++)s[i]=t[i];return s}var et={name:"TaskPreview",components:{TaskTimerCountdown:Q,EqTab:M["a"],EqTabs:P["a"],EqCashDisplay:G["a"],ItemPopover:z["a"],EqWindowSimple:D["a"],"v-runtime-template":function(){return i.e("chunk-2d2293ca").then(i.bind(null,"dd1e"))}},props:{taskSource:Object,selectedActivity:{type:Number,required:!1}},data:function(){return{debug:!0,description:"",zones:{},task:{},rewardItems:[]}},watch:{taskSource:{deep:!0,handler:function(){clearInterval(this.taskTimer),this.debouncedLoad()}},selectedActivity:{handler:function(){this.description=this.getDescription(),console.log("selectedActivity")}}},mounted:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.load(),t.next=3,B["a"].getZones();case 3:this.zones=t.sent,this.debouncedLoad=Object(V["debounce"])((function(){e.load(),console.log("preview debounce")}),500);case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),methods:{truncate:function(t,e){return t.length>e?t.substring(0,e)+"...":t},hasReward:function(){return(this.rewardItems.length>0||this.task.reward_ebon_crystals>0||this.task.reward_radiant_crystals>0||this.task.exp_reward>0||this.task.cash_reward>0)&&2!==this.task.reward_method},created:function(){this.previousRewardItems=""},load:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){var e,i,s,a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.task=JSON.parse(JSON.stringify(this.taskSource)),this.previousRewardItems!==this.task.reward_id_list.toString()&&(this.rewardItems=[]),!(this.task.reward_id_list&&this.task.reward_id_list.length>0&&0===this.rewardItems.length)){t.next=30;break}if(e=this.task.reward_id_list.split("|").map((function(t){return parseInt(t,10)})),!(e.length>0&&this.previousRewardItems!==e)){t.next=30;break}return t.next=7,U["a"].loadItemsBulk(e);case 7:i=[],s=X(e),t.prev=9,s.s();case 11:if((a=s.n()).done){t.next=20;break}return n=a.value,t.t0=i,t.next=16,U["a"].getItem(n);case 16:t.t1=t.sent,t.t0.push.call(t.t0,t.t1);case 18:t.next=11;break;case 20:t.next=25;break;case 22:t.prev=22,t.t2=t["catch"](9),s.e(t.t2);case 25:return t.prev=25,s.f(),t.finish(25);case 28:this.rewardItems=i,this.previousRewardItems=this.task.reward_id_list.toString();case 30:this.description=this.getDescription();case 31:case"end":return t.stop()}}),t,this,[[9,22,25,28]])})));function e(){return t.apply(this,arguments)}return e}(),replaceDescriptionContent:function(t){var e=t;return e=e.replaceAll("]",""),e=e.replaceAll("<BR>","<br />"),e=e.replaceAll("<br>","<br />"),e=e.replaceAll('<c "','<span style="color: '),e=e.replaceAll("</c>","</span>"),e},getDescription:function(){var t=this,e=this.task.description.split("[")[0],i=this.task.description.split("["),s={};i.forEach((function(e){var i=[];e.split(",").forEach((function(t){parseInt(t)&&i.push(t)}));var a=e;a=a.replaceAll(i.join(",")+",",""),a=t.replaceDescriptionContent(a),i.forEach((function(t){s[t-1]=a}))}));var a="<br />",n=this.replaceDescriptionContent(e);this.selectedActivity>=0&&s[this.selectedActivity]&&(n+=s[this.selectedActivity]);var r=0;while(n.slice(-6)===a){if(n=n.slice(0,-6),r>100)break;r++}return n.trim()},getZone:function(t){if(t.zones=parseInt(t.zones),t.zones>0)for(var e in this.zones){var i=this.zones[e];if(i.zoneidnumber===t.zones)return i.long_name}return 0===t.zones?"ALL":-1===t.zones?"Unknown":""},buildActivityDescription:function(t){return this.isActivityStepActive(t)?R.buildActivityDescription(t):"???"},getTaskTypeDisplayCode:function(){return parseInt(this.task.type)===k.SHARED_TASK?"S":"Q"},getStepFromActivity:function(t){return t?t.step:-1},isTaskActivityComplete:function(t){return t.activityid<parseInt(this.selectedActivity)},isActivityStepActive:function(t){var e=parseInt(this.selectedActivity),i=this.task.task_activities[e],s=this.getStepFromActivity(i),a=this.getStepFromActivity(t),n=t.req_activity_id,r=R.buildActivityDescription(t),c=s>=a||n>-1&&n<=e-1;return this.debug&&console.log("activityid [%s] description [%s] required_activity_id [%s] selectedActivity [%s] active [%s]",t.activityid,r,n,e,c?"true":"false"),c},renderTaskActivityProgress:function(t){return this.isActivityStepActive(t)?this.isTaskActivityComplete(t)?"Done":u.a.format("%s/%s",0,t.goalcount):""},getTaskActivityStepColor:function(t){var e=parseInt(this.selectedActivity);return t.activityid<e?"rgb(27 247 27)":this.isActivityStepActive(t)?"white":"dimgray"},getTaskColor:function(){return parseInt(this.task.type)===k.SHARED_TASK?"#d27cd2":"white"}}},it=et,st=(i("4590"),Object(W["a"])(it,q,j,!1,null,null,null)),at=st.exports,nt=function(){var t=this,e=t._self._c;return e("div",[e("eq-window-simple",{attrs:{title:"Zone Selector"}},[e("b-input",{staticClass:"form-control",attrs:{id:"search-selector",placeholder:"Search by zone name, id..."},on:{keyup:t.searchZone},model:{value:t.zoneSearch,callback:function(e){t.zoneSearch=e},expression:"zoneSearch"}})],1),e("eq-window-simple",{staticClass:"p-0",staticStyle:{height:"85vh","overflow-y":"scroll"},attrs:{id:"zone-view-container"}},[e("table",{staticClass:"eq-table eq-highlight-rows bordered",staticStyle:{display:"table","font-size":"14px","overflow-x":"scroll"},attrs:{id:"zonetable"}},[e("thead",{staticClass:"eq-table-floating-header"},[e("tr",[e("th"),e("th",{staticStyle:{width:"60px","white-space":"nowrap"}}),e("th",{staticStyle:{width:"30px"}},[t._v("ID")]),e("th",{staticStyle:{width:"30px"}},[t._v("X")]),e("th",{staticStyle:{width:"30px"}},[t._v("Y")]),e("th",{staticStyle:{width:"30px"}},[t._v("Z")]),e("th",{staticStyle:{width:"100%"}},[t._v("Name")])])]),e("tbody",t._l(t.filteredZones,(function(i,s){return e("tr",{key:i.id,class:t.isZoneSelected(i)?"pulsate-highlight-white":"",attrs:{id:"zone-"+i.zoneidnumber}},[e("td",[e("b-button",{staticClass:"btn-dark btn-sm btn-dark",on:{click:function(e){return t.selectZone(i)}}},[e("i",{staticClass:"fa fa-arrow-left"})])],1),e("td",{staticStyle:{"text-align":"center"}},[e("img",{attrs:{src:t.getExpansionIcon(i.expansion)}})]),e("td",{staticClass:"p-0",staticStyle:{"text-align":"center"}},[t._v(t._s(i.zoneidnumber))]),e("td",{staticClass:"p-0",staticStyle:{"text-align":"center"}},[t._v(t._s(Math.round(i.safe_x)))]),e("td",{staticClass:"p-0",staticStyle:{"text-align":"center"}},[t._v(t._s(Math.round(i.safe_y)))]),e("td",{staticClass:"p-0",staticStyle:{"text-align":"center"}},[t._v(t._s(Math.round(i.safe_z)))]),e("td",[t._v(t._s(i.long_name)+" ("+t._s(i.short_name)+")")])])})),0)])])],1)},rt=[],ct=i("d6b6"),ot=i("26df"),lt={},dt={name:"TaskZoneSelector",components:{EqCheckbox:O["a"],EqWindowSimple:D["a"]},data:function(){return{TELEPORT_ZONE_SELECTOR_TYPE:ct["r"],filteredZones:{},zoneSearch:"",selectedZone:""}},props:{selectedZoneId:{type:Number,required:!0}},methods:{isZoneSelected:function(t){return t.zoneidnumber===parseInt(this.selectedZone)},selectZone:function(t){this.$emit("input",{zoneId:t.zoneidnumber}),this.selectedZone=t.zoneidnumber},searchZone:function(){var t=this,e=this.zoneSearch.toLowerCase().trim(),i=[];lt.forEach((function(s){""!==t.zoneSearch.trim()&&(s.short_name.toLowerCase().includes(e)||s.long_name.toLowerCase().includes(e)||s.zoneidnumber.toString().includes(e))&&i.push(s)})),this.filteredZones=i,0===i.length&&(this.filteredZones=lt)},getExpansionIcon:function(t){return ot["a"].getExpansionIconUrlSmall(t)},loadZones:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){var e,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=Object(h["a"])(b["ZoneApi"],Object(f["a"])(_["SpireApi"].cfg())),t.next=3,e.listZones((new N["a"]).where("version","=","0").orderBy(["expansion","short_name"]).get());case 3:i=t.sent,200===i.status&&(lt=i.data,this.filteredZones=lt);case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),init:function(){var t=this,e=document.getElementById("search-selector");e&&e.focus(),this.loadZones().then((function(){t.scrollToSelected()}))},scrollToSelected:function(){var t=this;setTimeout((function(){var e=document.getElementById("zone-view-container"),i=document.getElementById(u.a.format("zone-%s",t.selectedZone));if(e&&i){var s=i.getBoundingClientRect().top;e.scrollTop=e.scrollTop+s-300}}),100)}},mounted:function(){this.selectedZoneId>0&&(this.selectedZone=this.selectedZoneId,this.zoneSearch=this.selectedZoneId),this.init()}},ut=dt,pt=(i("2440"),Object(W["a"])(ut,nt,rt,!1,null,"08f7fb28",null)),ht=pt.exports,ft=(i("386d"),function(){var t=this,e=t._self._c;return e("div",[t.searchPerformed?e("eq-window-simple",{staticClass:"text-center"},[e("b-button",{staticClass:"btn-dark btn-sm btn-dark",on:{click:function(e){t.searchPerformed=!1}}},[t._v("\n      Return to Search\n    ")])],1):t._e(),t.searchPerformed?t._e():e("eq-window-simple",{staticClass:"mt-3"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12 pl-4"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12 text-center"},[e("class-bitmask-calculator",{attrs:{"centered-buttons":!1,"display-all-none":!0,"add-only-button-enabled":!0,"add-only-state-enabled":t.selectOnlyClassEnabled,inputData:t.selectedClasses,mask:t.selectedClasses},on:{selectOnly:function(e){t.selectOnlyClassEnabled=e},"update:inputData":function(e){t.selectedClasses=e},"update:input-data":function(e){t.selectedClasses=e}}})],1)]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-12 text-center mt-3"},[e("race-bitmask-calculator",{attrs:{"centered-buttons":!1,"display-all-none":!0,inputData:t.selectedRaces,mask:t.selectedRaces},on:{"update:inputData":function(e){t.selectedRaces=e},"update:input-data":function(e){t.selectedRaces=e}}})],1)]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-12 text-center mt-3"},[e("inventory-slot-calculator",{attrs:{"image-size":40,"skip-duplicate-slots":!0,"display-all-none":!1,"centered-buttons":!0,inputData:t.selectedSlots,mask:t.selectedSlots},on:{"update:inputData":function(e){t.selectedSlots=e},"update:input-data":function(e){t.selectedSlots=e}}})],1)]),e("div",{staticClass:"row mt-3 text-center"},[e("div",{staticClass:"col-lg-4 col-sm-12 p-0 pr-1 text-center"},[t._v("\n            Item Name or ID\n            "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.itemName,expression:"itemName"}],staticClass:"form-control",attrs:{name:"item_name",type:"text",placeholder:"Name or ID",autofocus:"",id:"item_name",value:""},domProps:{value:t.itemName},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.triggerState.apply(null,arguments)},input:function(e){e.target.composing||(t.itemName=e.target.value)}}})]),e("div",{staticClass:"col-lg-4 col-sm-12 p-0 pr-1 text-center"},[t._v("\n            Item Type\n            "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.itemType,expression:"itemType"}],staticClass:"form-control",attrs:{id:"item_type"},on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.itemType=e.target.multiple?i:i[0]}}},[e("option",{attrs:{value:"-1"}},[t._v("-- Select --")]),t._l(t.itemTypeOptions,(function(i){return e("option",{domProps:{value:i.value}},[t._v("\n                "+t._s(i.text)+"\n              ")])}))],2)]),e("div",{staticClass:"col-lg-4 col-sm-12 p-0 pr-1 text-center"},[t._v("\n            Level\n            "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedLevel,expression:"selectedLevel"}],staticClass:"form-control",on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectedLevel=e.target.multiple?i:i[0]}}},[e("option",{attrs:{value:"0"}},[t._v("-- Select --")]),t._l(105,(function(i){return e("option",{domProps:{value:i}},[t._v("\n                "+t._s(i)+"\n              ")])}))],2)])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-12 col-sm-12 mt-3 pl-0 pr-0 text-center"},[t.selectedLevel?e("div",{staticClass:"btn-group ml-3",attrs:{role:"group","aria-label":"Basic example"}},[e("b-button",{attrs:{size:"sm",variant:0===parseInt(t.selectedLevelType)?"warning":"outline-warning"},on:{click:function(e){t.selectedLevelType=0}}},[t._v("Only\n              ")]),e("b-button",{attrs:{size:"sm",variant:1===parseInt(t.selectedLevelType)?"warning":"outline-warning"},on:{click:function(e){t.selectedLevelType=1}}},[t._v("Higher\n              ")]),e("b-button",{attrs:{size:"sm",variant:2===parseInt(t.selectedLevelType)?"warning":"outline-warning"},on:{click:function(e){t.selectedLevelType=2}}},[t._v("Lower\n              ")])],1):t._e(),e("div",{staticClass:"btn-group ml-3",attrs:{role:"group","aria-label":"Basic example"}},[e("b-button",{attrs:{size:"sm",variant:10===parseInt(t.limit)?"warning":"outline-warning"},on:{click:function(e){t.limit=10}}},[t._v("10\n              ")]),e("b-button",{attrs:{size:"sm",variant:100===parseInt(t.limit)?"warning":"outline-warning"},on:{click:function(e){t.limit=100}}},[t._v("100\n              ")]),e("b-button",{attrs:{size:"sm",variant:1e3===parseInt(t.limit)?"warning":"outline-warning"},on:{click:function(e){t.limit=1e3}}},[t._v("1000\n              ")])],1),e("b-button",{staticClass:"btn-dark btn-sm btn-dark ml-3",on:{click:function(e){return t.search()}}},[e("i",{staticClass:"fa fa-search"}),t._v(" Search\n            ")]),e("div",{class:"text-center btn-xs eq-button-fancy ml-3",staticStyle:{"line-height":"25px"},on:{click:function(e){return t.resetForm()}}},[t._v("\n              Reset Form\n            ")])],1)]),t._e(),t._l(3,(function(e){return t._e()}))],2)])]),e("app-loader",{attrs:{"is-loading":!t.loaded,padding:"4"}}),t.loaded&&t.items&&t.searchPerformed?e("task-item-preview-table",{attrs:{items:t.items},on:{input:function(e){return t.bubbleToParent(e)}}}):t._e()],1)}),mt=[],vt=i("94bf"),yt=i("ec53"),bt=i("f4a8"),_t=i("a50e"),gt=i("b51d"),kt=i("a25c"),wt=i("6267"),At=i("ef1f"),xt=i("8e98"),It=i("2c03"),Ct=i("c4af"),Tt={name:"TaskItemSelector",components:Object(s["a"])(Object(s["a"])(Object(s["a"])({TaskItemPreviewTable:Ct["a"],EqWindowSimple:D["a"],ItemPreviewTable:It["a"],EqCheckbox:O["a"],DeityBitmaskCalculator:At["a"],InventorySlotCalculator:wt["a"],RaceBitmaskCalculator:kt["a"],ClassBitmaskCalculator:gt["a"],EqItemCardPreview:yt["default"]},"EqItemCardPreview",yt["default"]),"EqWindow",o["a"]),"page-header",(function(){return i.e("chunk-2d226c5c").then(i.bind(null,"e9a3"))})),data:function(){return{loaded:!1,items:[],limit:100,dbClassIcons:bt["a"],dbClassesShort:_t["b"],dbClasses:_t["d"],dbItemEffects:ct["d"],selectedClasses:0,selectedRaces:0,selectedDeities:0,selectedSlots:0,itemName:"",itemType:-1,spellEffect:"",selectOnlyClassEnabled:!1,filters:{},selectedLevel:0,selectedLevelType:0,listType:"table",itemFields:[],filterOptions:["=","<=",">="],itemTypeOptions:[],searchPerformed:!1}},mounted:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){var e,i,s,a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.resetFilters(),t.next=3,this.getItemFields();case 3:for(this.itemFields=t.sent,this.itemTypeOptions=[],e=0,i=Object.entries(xt);e<i.length;e++)s=Object(r["a"])(i[e],2),a=s[0],n=s[1],this.itemTypeOptions.push({text:a+") "+n,value:a});this.loaded=!0;case 7:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),methods:{bubbleToParent:function(t){this.$emit("input",t)},search:function(){this.triggerState()},getChangedFilterCount:function(){var t=this,e=0,i=function(i){var s=t.filters[i];t.formFilters().forEach((function(t){(t.field==i&&"undefined"!==typeof t.true&&0==t.true&&0===s||t.field==i&&"undefined"===typeof t.true)&&e++}))};for(var s in this.filters)i(s);return console.log("[getChangedFilterCount] set values [%s]",e),e},getFiltersNonZeroValues:function(){var t=this,e={},i=function(i){var s=t.filters[i];t.formFilters().forEach((function(t){(t.field==i&&"undefined"!==typeof t.true&&0==t.true&&0===s||t.field==i&&"undefined"===typeof t.true)&&(e[t.field]=s)}))};for(var s in this.filters)i(s);return e},triggerCheckboxFilter:function(t,e){for(var i in this.filters){var s=this.filters[i];t==i&&s===e&&delete this.filters[i]}this.listItems()},resetFilters:function(){this.filters={}},resetForm:function(){this.resetFilters(),this.selectedClasses=0,this.selectedRaces=0,this.selectedSlots=0,this.selectedDeities=0,this.itemType=-1,this.itemName="",this.spellEffect="",this.selectedLevel=0,this.limit=100,this.selectedLevelType=0,this.items=null,this.listType="table"},triggerStateDelayed:function(){var t=this;setTimeout((function(){t.triggerState()}),100)},triggerState:function(){this.listItems()},getItemFields:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){var e,i,s,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=Object(h["a"])(vt["G"],Object(f["a"])(_["SpireApi"].cfg())),i={},i.limit=1,t.next=5,e.listItems(i);case 5:if(s=t.sent,200!==s.status||1!==s.data.length){t.next=10;break}return a=[],Object.keys(s.data[0]).forEach((function(t){a.push(t)})),t.abrupt("return",a.sort());case 10:return t.abrupt("return",[]);case 11:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}(),isClassSelected:function(t){return t===this.selectedClasses},listItems:function(){var t=this;this.loaded=!1;var e=Object(h["a"])(vt["G"],Object(f["a"])(_["SpireApi"].cfg())),i=new N["a"];for(var s in this.selectedClasses&&parseInt(this.selectedClasses)>0&&65535!==parseInt(this.selectedClasses)?(this.selectOnlyClassEnabled?i.where("classes","=",this.selectedClasses):i.where("classes","&",this.selectedClasses),i.where("classes","!=",65535)):this.selectedClasses&&parseInt(this.selectedClasses)>0&&65535===parseInt(this.selectedClasses)&&i.where("classes","=",65535),this.selectedRaces&&parseInt(this.selectedRaces)>0&&65535!==parseInt(this.selectedRaces)?(i.where("classes","&",this.selectedRaces),i.where("classes","!=",65535)):this.selectedRaces&&parseInt(this.selectedRaces)>0&&65535===parseInt(this.selectedRaces)&&i.where("races","=",65535),this.selectedDeities&&parseInt(this.selectedDeities)>0&&65535!==parseInt(this.selectedDeities)?(i.where("deity","&",this.selectedDeities),i.where("deity","!=",65535)):this.selectedDeities&&parseInt(this.selectedDeities)>0&&65535===parseInt(this.selectedDeities)&&i.where("deity","=",65535),this.selectedSlots&&parseInt(this.selectedSlots)>0&&65535!==parseInt(this.selectedSlots)?(i.where("slots","&",this.selectedSlots),i.where("slots","!=",65535)):this.selectedSlots&&parseInt(this.selectedSlots)>0&&65535===parseInt(this.selectedSlots)&&i.where("slots","=",65535),this.getFiltersNonZeroValues())i.where(s,"=",this.filters[s]);if(this.itemType&&this.itemType>0&&i.where("itemtype","=",this.itemType),this.selectedLevel>0){var a="=";1===parseInt(this.selectedLevelType)&&(a=">="),2===parseInt(this.selectedLevelType)&&(a="<="),i.where("reqlevel",a,this.selectedLevel)}if(!isNaN(this.itemName)&&this.itemName?i.where("id","=",this.itemName):this.itemName&&i.where("name","like",this.itemName),0===i.getFilterCount())return this.items=null,void(this.loaded=!0);i.groupBy(["id"]),i.limit(this.limit),e.listItems(i.get()).then(function(){var i=Object(c["a"])(regeneratorRuntime.mark((function i(s){var a,n;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(200!==s.status){i.next=9;break}return t.items=s.data,t.searchPerformed=!0,a=[],i.next=6,Object(h["a"])(vt["G"],Object(f["a"])(_["SpireApi"].cfg())).getItemsBulk({body:{ids:a}});case 6:n=i.sent,200==n.status&&n.data&&parseInt(n.data.length)>0&&n.data.forEach((function(t){U["a"].setItem(t.id,t)})),e.getItemsBulk({body:{ids:a}}).then((function(e){200==e.status&&e.data&&parseInt(e.data.length)>0&&e.data.forEach((function(t){U["a"].setItem(t.id,t)})),t.loaded=!0,0===t.items.length&&(t.searchPerformed=!1,t.resetForm())}));case 9:case"end":return i.stop()}}),i)})));return function(t){return i.apply(this,arguments)}}())}}},St=Tt,Et=Object(W["a"])(St,ft,mt,!1,null,null,null),Nt=Et.exports,Rt=i("c73e"),Ot=i("68d6"),Dt=i("01de"),Lt=function(){var t=this,e=t._self._c;return e("div",[e("eq-window-simple",{attrs:{title:"Description Selector"}},[t.fields?e("div",{staticClass:"row"},t._l(t.fields,(function(i){return e("div",{class:i.col+" mb-3 pl-2 pr-2"},[e("div",{staticClass:"mb-1"},[i.itemIcon?e("span",{class:"item-"+i.itemIcon+"-sm",staticStyle:{display:"inline-block"}}):t._e(),t._v("\n          "+t._s(i.description)+"\n        ")]),"Activities"===i.description&&t.activityDescriptions[i.index]?e("div",{staticClass:"row"},[e("div",{staticClass:"col-3 text-right"},[e("b-button",{staticClass:"btn-dark btn-sm btn-outline-danger mt-1",on:{click:function(e){return t.deleteActivityDescription(i.index)}}},[e("i",{staticClass:"fa fa-trash"})])],1),e("div",{staticClass:"col-9"},["text"===i.fieldType&&i.activity?e("b-form-input",{staticClass:"m-0 mt-1",on:{keyup:t.sendDescriptionToParentDebounce,change:t.sendDescriptionToParent},model:{value:t.activityDescriptions[i.index].multiKey,callback:function(e){t.$set(t.activityDescriptions[i.index],"multiKey",t._n(e))},expression:"activityDescriptions[field.index].multiKey"}}):t._e()],1)]):t._e(),"textarea"===i.fieldType&&i.activity&&t.activityDescriptions[i.index]?e("b-textarea",{staticClass:"m-0 mt-1",attrs:{rows:"3","max-rows":"6"},on:{keyup:t.sendDescriptionToParentDebounce,change:t.sendDescriptionToParent},model:{value:t.activityDescriptions[i.index].description,callback:function(e){t.$set(t.activityDescriptions[i.index],"description",e)},expression:"activityDescriptions[field.index].description"}}):t._e(),"textarea"!==i.fieldType||i.activity?t._e():e("b-textarea",{staticClass:"m-0 mt-1",attrs:{rows:"2","max-rows":"6"},on:{keyup:t.sendDescriptionToParentDebounce,change:t.sendDescriptionToParent},model:{value:t.globalDescription,callback:function(e){t.globalDescription=e},expression:"globalDescription"}}),"textarea"===i.fieldType&&t.activityDescriptions[i.index]&&t.activityDescriptions[i.index].multiKey&&t.activityDescriptions[i.index].multiKey.length>0?e("div",{staticClass:"mt-3"},t._l(t.activityDescriptions[i.index].multiKey.split(","),(function(i){return e("div",[e("span",{staticClass:"font-weight-bold"},[t._v("\n              "+t._s(t.buildActivityDescriptionFromIndex(i).prefix)+"\n            ")]),t._v("\n            "+t._s(t.buildActivityDescriptionFromIndex(i).description)+"\n          ")])})),0):t._e()],1)})),0):t._e(),e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("b-button",{staticClass:"btn-dark btn-sm btn-dark mr-3",on:{click:t.addActivityDescriptionRow}},[e("i",{staticClass:"fa fa-plus"})]),t._v("\n\n        Add activity level description\n      ")],1)])])],1)},Pt=[],Mt={name:"TaskDescriptionSelector",components:{EqCheckbox:O["a"],EqWindowSimple:D["a"]},data:function(){return{globalDescription:"",activityDescriptions:[],fields:[]}},props:{task:{type:Object,required:!1},description:{type:String,required:!0}},mounted:function(){this.init()},watch:{task:{handler:function(t){},deep:!0},description:{handler:function(t){},deep:!0},activityDescriptions:{handler:function(t){},deep:!0}},methods:{buildActivityDescriptionFromIndex:function(t){if(this.task.task_activities[t-1]){var e=this.task.task_activities[t-1],i="Step [".concat(e.step,"] Activity [").concat(e.activityid,"] ");return{prefix:i,description:this.buildActivityDescription(e)}}return{}},buildActivityDescription:function(t){return R.buildActivityDescription(t)},init:function(){this.getDescription()},deleteActivityDescription:function(t){var e=[];for(var i in this.fields)this.fields[i].activity&&this.fields[i].index===t||e.push(this.fields[i]);this.fields=e,this.$forceUpdate();var s=[];for(var a in this.activityDescriptions)parseInt(a)!==parseInt(t)&&(s[a]=this.activityDescriptions[a]);this.activityDescriptions=s,this.sendDescriptionToParent()},addActivityDescriptionRow:function(){var t=0,e=1;for(var i in this.activityDescriptions)t=i+1,parseInt(this.activityDescriptions[i].multiKey)>=0&&(e=parseInt(this.activityDescriptions[i].multiKey)+1);this.activityDescriptions[t]={multiKey:e,description:""},this.fields.push({description:"Activities",itemIcon:"5739",fieldType:"text",col:"col-3",activity:!0,index:t},{description:"Description",fieldType:"textarea",itemIcon:"2275",col:"col-9",activity:!0,index:t})},sendDescriptionToParentDebounce:Object(V["debounce"])((function(){this.sendDescriptionToParent()}),500),sendDescriptionToParent:function(){var t="".concat(this.globalDescription);for(var e in this.activityDescriptions){var i=this.activityDescriptions[e].multiKey,s=this.activityDescriptions[e].description;t+="[".concat(i,",").concat(s,"]")}t=t.replaceAll("\n","<BR>"),this.$forceUpdate(),this.$emit("input",t)},replaceDescriptionContent:function(t){var e=t;return e=e.replaceAll("]",""),e=e.replaceAll("<BR>","<br />"),e=e.replaceAll("<br>","<br />"),e=e.replaceAll('<c "','<span style="color: '),e=e.replaceAll("</c>","</span>"),e=e.replace(/^\s+|\s+$/g,""),e},getDescription:function(){var t=this;this.globalDescription=this.description.split("[")[0],this.fields.push({description:"Global Description (Available in all activities)",field:"title",fieldType:"textarea",itemIcon:"6840",col:"col-12",model:this.globalDescription});var e=this.description.split("["),i=0,s=[];e.forEach((function(e){var a=[];e.split(",").forEach((function(t){parseInt(t)&&a.push(t)}));var n=e;n=n.replaceAll(a.join(",")+",",""),n=t.replaceDescriptionContent(n);var r=a.join(",");""!==r&&(s[i]={multiKey:r,description:n.trim()},t.fields.push({description:"Activities",itemIcon:"5739",fieldType:"text",col:"col-3",activity:!0,index:i},{description:"Description",fieldType:"textarea",itemIcon:"2275",col:"col-9",activity:!0,index:i})),i++})),this.activityDescriptions=s}}},Ft=Mt,qt=Object(W["a"])(Ft,Lt,Pt,!1,null,"4172457b",null),jt=qt.exports,Bt=function(){var t=this,e=t._self._c;return e("div",[e("eq-window-simple",{staticClass:"p-0",staticStyle:{height:"95vh","overflow-y":"scroll","overflow-x":"hidden"}},[e("div",{staticClass:"font-weight-bold text-center"},[t._v("\n      Goal Match List Preview ("+t._s(t.TASK_ACTIVITY_TYPES[t.activity.activitytype])+")\n    ")]),t.npcs&&t.npcs.length>0?e("div",{staticClass:"text-center mt-1"},[t._v("\n      Found ("+t._s(t.npcs.length)+") matching NPC(s). "),e("br"),t._v(" NPC(s) can still be matched if they are quest spawned and within\n      the filtered zone(s)\n    ")]):t._e(),0===t.npcs.length?e("div",{staticClass:"text-center mt-3 font-weight-bold"},[t._v("\n      No NPC(s) were found\n    ")]):t._e(),t.loaded?t._e():e("div",{staticClass:"mt-3 text-center"},[e("app-loader",{attrs:{"is-loading":!t.loaded}})],1),t.npcs&&t.npcs.length>0&&t.loaded?e("table",{staticClass:"eq-table eq-highlight-rows bordered",staticStyle:{display:"table","font-size":"14px","overflow-x":"scroll","overflow-y":"hidden"},attrs:{id:"npctable"}},[e("thead",{staticClass:"eq-table-floating-header"},[e("tr",[e("th",{staticStyle:{width:"30px"}},[t._v("ID")]),e("th"),e("th",[t._v("Search Type")])])]),e("tbody",t._l(t.npcs,(function(i,s){return e("tr",{key:s+"-"+i.npc.id,attrs:{id:"npc-"+i.npc.short_name}},[e("td",{staticStyle:{"text-align":"center"}},[t._v(t._s(i.npc.id))]),e("td",{staticStyle:{"min-width":"250px"}},[e("npc-popover",{attrs:{npc:i.npc,size:"regular","show-last-name":!1}})],1),e("td",[t._v(t._s(i.search))])])})),0)]):t._e()])],1)},zt=[],Ut=i("fb61"),Gt=i("cc79");function Ht(t,e){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=$t(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var s=0,a=function(){};return{s:a,n:function(){return s>=t.length?{done:!0}:{done:!1,value:t[s++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,r=!0,c=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return r=t.done,t},e:function(t){c=!0,n=t},f:function(){try{r||null==i.return||i.return()}finally{if(c)throw n}}}}function $t(t,e){if(t){if("string"==typeof t)return Vt(t,e);var i={}.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?Vt(t,e):void 0}}function Vt(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,s=Array(e);i<e;i++)s[i]=t[i];return s}var Kt={name:"TaskNpcMatchListPreviewer",components:{LoaderFakeProgress:Gt["a"],NpcPopover:Ut["a"],ItemPopover:z["a"],EqCheckbox:O["a"],EqWindowSimple:D["a"]},data:function(){return{npcs:{},loaded:!1,TASK_ACTIVITY_TYPE:x,TASK_ACTIVITY_TYPES:A}},props:{activity:{type:Object,required:!0}},watch:{activity:{deep:!0,handler:function(){this.load()}}},created:function(){this.zoneCache={}},methods:{load:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:setTimeout((function(){e.loadNpcMatches()}),1);case 1:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}(),loadNpcMatches:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){var e,i,s,a,n,r,c,o,l,d,u,p,h,f,m,v,y,b,_,g,k,w,A,x;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=[],i=[],this.activity.zones=this.activity.zones.toString(),!this.activity.zones||0===this.activity.zones){t.next=89;break}if(!(this.activity.zones&&this.activity.zones.length>0)){t.next=25;break}s=Ht(this.activity.zones.split(",")),t.prev=6,s.s();case 8:if((a=s.n()).done){t.next=17;break}return n=a.value,t.t0=e,t.next=13,B["a"].getZoneById(parseInt(n));case 13:t.t1=t.sent.short_name,t.t0.push.call(t.t0,t.t1);case 15:t.next=8;break;case 17:t.next=22;break;case 19:t.prev=19,t.t2=t["catch"](6),s.e(t.t2);case 22:return t.prev=22,s.f(),t.finish(22);case 25:r=Ht(e),t.prev=26,r.s();case 28:if((c=r.n()).done){t.next=80;break}if(o=c.value,l=[],!this.zoneCache[this.activity.zones]){t.next=35;break}l=this.zoneCache[this.activity.zones],t.next=39;break;case 35:return t.next=37,Dt["a"].getNpcsByZone(o,parseInt(this.activity.zone_version));case 37:l=t.sent,this.zoneCache[this.activity.zones]=l;case 39:d=Ht(l),t.prev=40,d.s();case 42:if((u=d.n()).done){t.next=70;break}if(p=u.value,h=!0,!(this.activity.npc_match_list&&this.activity.npc_match_list.length>0)){t.next=67;break}h=!1,f=Ht(this.activity.npc_match_list.split("|")),t.prev=48,f.s();case 50:if((m=f.n()).done){t.next=59;break}if(v=m.value,""!==v){t.next=54;break}return t.abrupt("continue",57);case 54:if(v.toString()!==p.id.toString()&&!p.name.toLowerCase().includes(v.toLowerCase())&&!Dt["a"].getCleanName(p.name).toLowerCase().includes(v.toLowerCase())){t.next=57;break}return h=!0,t.abrupt("break",59);case 57:t.next=50;break;case 59:t.next=64;break;case 61:t.prev=61,t.t3=t["catch"](48),f.e(t.t3);case 64:return t.prev=64,f.f(),t.finish(64);case 67:h&&i.push({npc:p,search:"Zone [".concat(o,"]")});case 68:t.next=42;break;case 70:t.next=75;break;case 72:t.prev=72,t.t4=t["catch"](40),d.e(t.t4);case 75:return t.prev=75,d.f(),t.finish(75);case 78:t.next=28;break;case 80:t.next=85;break;case 82:t.prev=82,t.t5=t["catch"](26),r.e(t.t5);case 85:return t.prev=85,r.f(),t.finish(85);case 88:this.npcs=i;case 89:if(!(0===this.npcs.length&&this.activity.npc_match_list.length>0)){t.next=117;break}y=[],b=Ht(this.activity.npc_match_list.split("|")),t.prev=92,b.s();case 94:if((_=b.n()).done){t.next=101;break}if(g=_.value,""!==g){t.next=98;break}return t.abrupt("continue",99);case 98:y.push(parseInt(g));case 99:t.next=94;break;case 101:t.next=106;break;case 103:t.prev=103,t.t6=t["catch"](92),b.e(t.t6);case 106:return t.prev=106,b.f(),t.finish(106);case 109:return k=[],t.t7=Ht,t.next=113,Dt["a"].getNpcsBulk(y);case 113:t.t8=t.sent,w=(0,t.t7)(t.t8);try{for(w.s();!(A=w.n()).done;)x=A.value,k.push({npc:x,search:"Global"})}catch(I){w.e(I)}finally{w.f()}this.npcs=k;case 117:this.loaded=!0;case 118:case"end":return t.stop()}}),t,this,[[6,19,22,25],[26,82,85,88],[40,72,75,78],[48,61,64,67],[92,103,106,109]])})));function e(){return t.apply(this,arguments)}return e}()},mounted:function(){this.load()}},Yt=Kt,Wt=(i("5a9a"),Object(W["a"])(Yt,Bt,zt,!1,null,"61f6f294",null)),Zt=Wt.exports,Qt=i("a2aa"),Xt=function(){var t=this,e=t._self._c;return t.task?e("eq-window-simple",{staticClass:"p-0 pl-3 pr-3",attrs:{title:"Quest Script Examples"}},[e("eq-tabs",[e("eq-tab",{attrs:{name:"Perl",selected:"true"}},[e("span",{staticClass:"font-weight-bold"},[t._v("Task Assignment")]),e("div",{staticClass:"ml-0 code-display pl-0",staticStyle:{width:"100%",display:"inline-block","padding-top":"10px !important","padding-bottom":"10px !important","border-radius":"5px"}},[e("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.v-dark.left",modifiers:{hover:!0,"v-dark":!0,left:!0}}],attrs:{title:"$client->AssignTask(int task_id);"}},[e("button",{staticClass:"btn btn-sm btn-dark mb-1 mr-2",staticStyle:{"font-size":"8px",padding:"0.125rem 0.4rem",opacity:".6"},on:{click:function(e){t.copyToClip("$client->AssignTask(".concat(t.task.id,");"))}}},[e("i",{staticClass:"fa fa-clipboard"})]),e("span",{staticStyle:{color:"rgb(156, 220, 254)"}},[t._v("$client->")]),t._v("AssignTask("+t._s(t.task.id)+");\n        ")]),e("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.v-dark.left",modifiers:{hover:!0,"v-dark":!0,left:!0}}],attrs:{title:"$client->TaskSelector(task1, task2, task3);"}},[e("button",{staticClass:"btn btn-sm btn-dark mb-1 mr-2",staticStyle:{"font-size":"8px",padding:"0.125rem 0.4rem",opacity:".6"},on:{click:function(e){t.copyToClip("$client->TaskSelector(".concat(t.task.id,");"))}}},[e("i",{staticClass:"fa fa-clipboard"})]),e("span",{staticStyle:{color:"rgb(156, 220, 254)"}},[t._v("$client->")]),t._v("TaskSelector("+t._s(t.task.id)+");\n        ")])]),e("div",{staticClass:"mt-3"},[t._v("\n        To see more Task methods, events, examples, see\n        "),e("router-link",{attrs:{to:"/quest-api-explorer?lang=perl&q=task"}},[t._v("here")])],1)]),e("eq-tab",{attrs:{name:"Lua"}},[e("span",{staticClass:"font-weight-bold"},[t._v("Task Assignment")]),e("div",{staticClass:"ml-0 code-display pl-0",staticStyle:{width:"100%",display:"inline-block","padding-top":"10px !important","padding-bottom":"10px !important","border-radius":"5px"}},[e("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.v-dark.left",modifiers:{hover:!0,"v-dark":!0,left:!0}}],attrs:{title:"client:AssignTask(int task);"}},[e("button",{staticClass:"btn btn-sm btn-dark mb-1 mr-2",staticStyle:{"font-size":"8px",padding:"0.125rem 0.4rem",opacity:".6"},on:{click:function(e){t.copyToClip("client:AssignTask(".concat(t.task.id,");"))}}},[e("i",{staticClass:"fa fa-clipboard"})]),e("span",{staticStyle:{color:"rgb(156, 220, 254)"}},[t._v("client:")]),t._v("AssignTask("+t._s(t.task.id)+");\n        ")]),e("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.v-dark.left",modifiers:{hover:!0,"v-dark":!0,left:!0}}],attrs:{title:"client:TaskSelector({task1, task2, task3, etc.});"}},[e("button",{staticClass:"btn btn-sm btn-dark mb-1 mr-2",staticStyle:{"font-size":"8px",padding:"0.125rem 0.4rem",opacity:".6"},on:{click:function(e){t.copyToClip("client:TaskSelector({".concat(t.task.id,"});"))}}},[e("i",{staticClass:"fa fa-clipboard"})]),e("span",{staticStyle:{color:"rgb(156, 220, 254)"}},[t._v("client:")]),t._v("TaskSelector("+t._s(t.buildLuaAssignTaskTable())+");\n        ")])]),e("div",{staticClass:"mt-3"},[t._v("\n        To see more Task methods, events, examples, see\n        "),e("router-link",{attrs:{to:"/quest-api-explorer?lang=lua&q=task"}},[t._v("here")])],1)])],1)],1):t._e()},Jt=[],te=i("1f51"),ee={name:"TaskQuestExamplePreview",components:{EqTab:M["a"],EqTabs:P["a"],EqWindowSimple:D["a"]},props:{task:Object,selectedActivity:{type:Number,required:!1}},methods:{buildLuaAssignTaskTable:function(){return"{".concat(this.task.id,"}")},copyToClip:function(t){Qt["a"].copyFromText(t),te["a"].toast("Copied ["+t+"] to clipboard!")}}},ie=ee,se=Object(W["a"])(ie,Xt,Jt,!1,null,"6e76da50",null),ae=se.exports,ne=i("5afa"),re=function(){var t=this,e=t._self._c;return e("eq-window",{staticClass:"p-0",attrs:{title:"Alternate Currency Selector"}},[e("div",{staticStyle:{"overflow-y":"scroll","max-height":"95vh"},attrs:{id:"alternate-currency-viewport"}},[e("div",{staticClass:"mt-3 p-3 text-center",staticStyle:{"padding-bottom":"0px !important"}},[t._v("\n      Currencies below are loaded from the `alternate_currency` table\n    ")]),t.currencies?e("table",{staticClass:"eq-table eq-highlight-rows currency-table bordered",staticStyle:{display:"table","font-size":"14px","overflow-x":"scroll"}},[e("thead",{staticClass:"eq-table-floating-header"},[e("tr",[e("th",{staticStyle:{width:"50px"}}),e("th",{staticStyle:{width:"40px"}},[t._v("ID")]),e("th",[t._v("Currency")])])]),e("tbody",t._l(t.currencies,(function(i,s){return e("tr",{key:i.id,class:t.isCurrencySelected(i)?"pulsate-highlight-white":"",staticStyle:{height:"50px"},attrs:{id:"currency-"+i.id}},[e("td",[e("b-button",{staticClass:"btn-dark btn-sm btn-dark",attrs:{title:"Select"},on:{click:function(e){return t.selectAlternateCurrency(i)}}},[e("i",{staticClass:"fa fa-arrow-left"})])],1),e("td",[t._v("\n          "+t._s(i.id)+"\n        ")]),e("td",{staticClass:"text-left",staticStyle:{"vertical-align":"middle"}},[i.item?e("item-popover",{attrs:{item:i.item,size:"regular"}}):t._e()],1)])})),0)]):t._e()])])},ce=[],oe=i("f501"),le={name:"AlternateCurrencySelector",components:{ItemPopover:z["a"],EqWindow:o["a"]},props:{selectedCurrency:{type:Number,required:!1}},data:function(){return{currencies:[]}},mounted:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){var e,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=Object(h["a"])(b["AlternateCurrencyApi"],Object(f["a"])(_["SpireApi"].cfg())),t.next=3,e.listAlternateCurrencies((new N["a"]).includes(["Item"]).get());case 3:i=t.sent,200===i.status&&(this.currencies=i.data),this.selectedCurrency>0&&Object(oe["b"])("alternate-currency-viewport","currency-"+this.selectedCurrency);case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),methods:{selectAlternateCurrency:function(t){this.$emit("input",t.id)},isCurrencySelected:function(t){return this.selectedCurrency&&this.selectedCurrency>0&&t.id===this.selectedCurrency}}},de=le,ue=(i("fe72"),Object(W["a"])(de,re,ce,!1,null,null,null)),pe=ue.exports,he=function(){var t=this,e=t._self._c;return e("eq-window",{staticClass:"p-0",attrs:{title:"Dynamic Zone Template Selector"}},[e("div",{staticStyle:{"overflow-y":"scroll","max-height":"95vh"},attrs:{id:"dynamic-zone-template-viewport"}},[e("div",{staticClass:"mt-3 p-3 text-center",staticStyle:{"padding-bottom":"0px !important"}},[t._v("\n      Rows below are loaded from the `dynamic_zone_templates` table\n    ")]),t.rows&&t.rows.length>0?e("table",{staticClass:"eq-table eq-highlight-rows row-table bordered",staticStyle:{display:"table","font-size":"14px","overflow-x":"scroll"}},[e("thead",{staticClass:"eq-table-floating-header"},[e("tr",[e("th",{staticStyle:{width:"50px"}}),e("th",{staticStyle:{width:"40px"}},[t._v("ID")]),e("th",[t._v("Name")]),t._l(Object.keys(t.rows[0]).filter((function(e){return!t.filterColumns.includes(e)})),(function(i,s){return e("th",{staticStyle:{"text-align":"center"},attrs:{id:"column-"+i}},[t._v(t._s(i)+"\n        ")])}))],2)]),e("tbody",t._l(t.rows,(function(i,s){return e("tr",{key:i.id,class:t.isRowSelected(i)?"pulsate-highlight-white":"",staticStyle:{height:"50px"},attrs:{id:"row-"+i.id}},[e("td",[e("b-button",{staticClass:"btn-dark btn-sm btn-dark",attrs:{title:"Select"},on:{click:function(e){return t.selectRow(i)}}},[e("i",{staticClass:"fa fa-arrow-left"})])],1),e("td",[t._v("\n          "+t._s(i.id)+"\n        ")]),e("td",[t._v("\n          "+t._s(i.name)+"\n        ")]),t._l(Object.keys(i).filter((function(e){return!t.filterColumns.includes(e)})),(function(s,a){return e("td",{style:" text-align: center"},[t._v("\n          "+t._s(i[s])+"\n        ")])}))],2)})),0)]):t._e()])])},fe=[],me={name:"DynamicZoneTemplateSelector",components:{EqWindow:o["a"]},props:{selectedId:{type:Number,required:!1}},data:function(){return{rows:[],filterColumns:["id","name"]}},mounted:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){var e,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=Object(h["a"])(b["DynamicZoneTemplateApi"],Object(f["a"])(_["SpireApi"].cfg())),t.next=3,e.listDynamicZoneTemplates();case 3:i=t.sent,200===i.status&&(this.rows=i.data),this.selectedId>0&&Object(oe["b"])("dynamic-zone-template-viewport","row-"+this.selectedId);case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),methods:{selectRow:function(t){this.$emit("input",t.id)},isRowSelected:function(t){return this.selectedId&&this.selectedId>0&&t.id===this.selectedId}}},ve=me,ye=(i("25e9"),Object(W["a"])(ve,he,fe,!1,null,null,null)),be=ye.exports,_e=function(){var t=this,e=t._self._c;return t.replayField?e("eq-window",{attrs:{title:"Replay Selection ("+t.replayField+")"}},[e("div",{staticStyle:{"overflow-y":"scroll","max-height":"95vh"},attrs:{id:"replay-selection-viewport"}},[e("div",{staticClass:"font-weight-bold text-center"},[t._v("\n      Task replay ID(s) are sourced by the field itself. "),e("br"),t._v("\n      ID's are not referenced by another table\n    ")]),e("div",{staticClass:"mt-3"},[e("button",{staticClass:"btn btn-sm btn-dark btn-dark mb-1 mr-2",on:{click:function(e){return t.setUnusedId()}}},[e("i",{staticClass:"fa fa-arrow-left"}),t._v("\n        Select Unused Group ID\n      ")])]),t.replayGroupIds&&t.replayGroupIds.length>0?e("table",{staticClass:"eq-table eq-highlight-rows row-table bordered",staticStyle:{display:"table","font-size":"14px","overflow-x":"scroll"}},[e("thead",{staticClass:"eq-table-floating-header"},[e("tr",[e("th",{staticStyle:{width:"50px"}}),e("th",{staticStyle:{width:"40px"}},[t._v("ID")]),e("th",[t._v("Task(s)")])])]),e("tbody",t._l(t.replayGroupIds,(function(i,s){return e("tr",{key:i,class:t.isRowSelected(i)?"pulsate-highlight-white":"",staticStyle:{height:"50px"},attrs:{id:"row-"+i}},[e("td",[e("b-button",{staticClass:"btn-dark btn-sm btn-dark",attrs:{title:"Select"},on:{click:function(e){return t.selectRow(i)}}},[e("i",{staticClass:"fa fa-arrow-left"})])],1),e("td",[t._v("\n          "+t._s(i)+"\n        ")]),e("td",t._l(t.getTasksByReplayId(i),(function(i){return e("div",[t._v("\n            ("+t._s(i.id)+") "+t._s(i.title)+"\n          ")])})),0)])})),0)]):t._e()])]):t._e()},ge=[];function ke(t,e){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=we(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var s=0,a=function(){};return{s:a,n:function(){return s>=t.length?{done:!0}:{done:!1,value:t[s++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,r=!0,c=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return r=t.done,t},e:function(t){c=!0,n=t},f:function(){try{r||null==i.return||i.return()}finally{if(c)throw n}}}}function we(t,e){if(t){if("string"==typeof t)return Ae(t,e);var i={}.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?Ae(t,e):void 0}}function Ae(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,s=Array(e);i<e;i++)s[i]=t[i];return s}var xe={name:"TaskReplayRequestGroupSelector",components:{EqWindow:o["a"]},data:function(){return{replayGroupIds:[]}},props:{selectedId:{type:Number,required:!1},replayField:{type:String,required:!0}},watch:{replayField:{handler:function(){this.init()}}},created:function(){this.tasks=[]},mounted:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.init();case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),methods:{init:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){var e,i,s,a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(h["a"])(b["TaskApi"],Object(f["a"])(_["SpireApi"].cfg())).listTasks((new N["a"]).orderBy([this.replayField]).get());case 2:if(e=t.sent,200===e.status){this.tasks=e.data,i=[],s=ke(e.data);try{for(s.s();!(a=s.n()).done;)n=a.value,n[this.replayField]>0&&(i.includes(n[this.replayField])||i.push(n[this.replayField]))}catch(r){s.e(r)}finally{s.f()}this.replayGroupIds=i}this.selectedId>0&&Object(oe["b"])("replay-selection-viewport","row-"+this.selectedId);case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),selectRow:function(t){this.$emit("input",t)},isRowSelected:function(t){return this.selectedId&&this.selectedId>0&&t===this.selectedId},getTasksByReplayId:function(t){var e,i=[],s=ke(this.tasks);try{for(s.s();!(e=s.n()).done;){var a=e.value;a[this.replayField]>0&&a[this.replayField]===t&&i.push(a)}}catch(n){s.e(n)}finally{s.f()}return i},setUnusedId:function(){var t,e=0,i=ke(this.tasks);try{for(i.s();!(t=i.n()).done;){var s=t.value;s[this.replayField]>0&&s[this.replayField]>e&&(e=s[this.replayField])}}catch(a){i.e(a)}finally{i.f()}this.$emit("input",e+1)}}},Ie=xe,Ce=Object(W["a"])(Ie,_e,ge,!1,null,"f3fcce90",null),Te=Ce.exports,Se=function(){var t=this,e=t._self._c;return e("div",[e("eq-window-simple",{staticClass:"p-0",staticStyle:{height:"95vh","overflow-y":"scroll","overflow-x":"hidden"}},[e("div",{staticClass:"font-weight-bold text-center"},[t._v("\n      Item Match List Preview\n    ")]),t.items&&t.items.length>0?e("div",{staticClass:"text-center mt-1"},[t._v("\n      Found ("+t._s(t.items.length)+") matching item(s)\n    ")]):t._e(),0===t.items.length?e("div",{staticClass:"text-center mt-3 font-weight-bold"},[t._v("\n      No item(s) were found\n    ")]):t._e(),e("table",{staticClass:"eq-table eq-highlight-rows bordered",staticStyle:{display:"table","overflow-x":"scroll","overflow-y":"hidden"}},[e("thead",[e("tr",[e("th",{staticStyle:{width:"60px"}}),e("th",{staticClass:"text-center",staticStyle:{"text-align":"center",width:"50px"}},[t._v("Id")]),e("th",{staticStyle:{"text-align":"center"}},[t._v("Name")])])]),e("tbody",t._l(t.items,(function(i,s){return e("tr",{key:i.id,attrs:{id:"item-selection-row-"+i.id}},[e("td",[e("div",{staticClass:"btn-group",attrs:{role:"group"}},[e("b-button",{staticClass:"btn-dark btn-sm btn-outline-danger",attrs:{title:"Remove item from list"},on:{click:function(e){return t.removeItem(i)}}},[e("i",{staticClass:"fa fa-trash-o"})])],1)]),e("td",[t._v("\n          "+t._s(i.id)+"\n        ")]),e("td",{staticClass:"text-left",staticStyle:{"vertical-align":"middle"}},[Object.keys(i).length>0&&i?e("item-popover",{attrs:{item:i,size:"regular"}}):t._e()],1)])})),0)])])],1)},Ee=[];function Ne(t,e){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=Re(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var s=0,a=function(){};return{s:a,n:function(){return s>=t.length?{done:!0}:{done:!1,value:t[s++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,r=!0,c=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return r=t.done,t},e:function(t){c=!0,n=t},f:function(){try{r||null==i.return||i.return()}finally{if(c)throw n}}}}function Re(t,e){if(t){if("string"==typeof t)return Oe(t,e);var i={}.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?Oe(t,e):void 0}}function Oe(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,s=Array(e);i<e;i++)s[i]=t[i];return s}var De={name:"TaskItemMatchListPreviewer",components:{ItemPopover:z["a"],EqCheckbox:O["a"],EqWindowSimple:D["a"]},data:function(){return{items:{}}},props:{idList:{type:String,required:!0}},watch:{idList:{deep:!0,handler:function(){this.load()}}},methods:{removeItem:function(t){this.$emit("remove-item",t.id)},load:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.loadItemMatches();case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),loadItemMatches:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){var e,i,s,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e=[],i=Ne(this.idList.split("|")),t.prev=2,i.s();case 4:if((s=i.n()).done){t.next=12;break}if(a=s.value,a=a.toLowerCase(),0!==a.length||0===this.idList.length){t.next=9;break}return t.abrupt("continue",10);case 9:e.push(parseInt(a));case 10:t.next=4;break;case 12:t.next=17;break;case 14:t.prev=14,t.t0=t["catch"](2),i.e(t.t0);case 17:return t.prev=17,i.f(),t.finish(17);case 20:return t.next=22,U["a"].loadItemsBulk(e);case 22:this.items=t.sent;case 23:case"end":return t.stop()}}),t,this,[[2,14,17,20]])})));function e(){return t.apply(this,arguments)}return e}()},mounted:function(){this.load()}},Le=De,Pe=(i("26c3"),Object(W["a"])(Le,Se,Ee,!1,null,"3f5cf370",null)),Me=Pe.exports;function Fe(t,e){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=qe(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var s=0,a=function(){};return{s:a,n:function(){return s>=t.length?{done:!0}:{done:!1,value:t[s++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,r=!0,c=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return r=t.done,t},e:function(t){c=!0,n=t},f:function(){try{r||null==i.return||i.return()}finally{if(c)throw n}}}}function qe(t,e){if(t){if("string"==typeof t)return je(t,e);var i={}.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?je(t,e):void 0}}function je(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,s=Array(e);i<e;i++)s[i]=t[i];return s}var Be=1e4,ze={components:{TaskItemMatchListPreviewer:Me,TaskReplayRequestGroupSelector:Te,DynamicZoneTemplateSelector:be,AlternateCurrencySelector:pe,InfoErrorBanner:ne["a"],TaskQuestExamplePreview:ae,TaskNpcMatchListPreviewer:Zt,TaskDescriptionSelector:jt,FreeIdSelector:Rt["a"],TaskItemSelector:Nt,TaskZoneSelector:ht,TaskPreview:at,EqTab:M["a"],EqTabs:P["a"],EqDebug:L["a"],EqWindowSimple:D["a"],EqCheckbox:O["a"],ContentArea:l["a"],EqWindow:o["a"]},data:function(){return{task:null,originalTask:{},tasks:[],filteredTasks:[],selectedTask:null,selectedActivity:null,taskSearchFilter:"",selectorActive:{},previewTaskActive:!0,lastResetTime:Date.now(),scrolledToActivity:!1,notification:"",error:"",saveFreeze:!1,zoneNames:{},TASK_ACTIVITY_TYPE:x,TASK_REWARD_METHOD_TYPE:S,TASK_TYPES:g,TASK_DURATION_TYPES:w,TASK_DURATION_HUMAN:I,TASK_ACTIVITY_TYPES:A,TASK_GOAL_METHOD_TYPE:C,TASK_GOAL_METHOD_TYPES:T}},watch:{$route:function(t,e){0===Object.keys(this.$route.params).length&&this.resetState(),this.init()}},methods:{debounce:V["debounce"],saveIfModified:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!F["a"].anyFieldsHaveBeenEdited()){t.next=3;break}return t.next=3,this.saveTask();case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),selectActivity:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.saveIfModified();case 2:this.updateQueryState();case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),removeItemFromMatchList:function(t,e){var i=t.split("|"),s=i.indexOf(e.toString());return s>-1&&i.splice(s,1),i.join("|")},addItemToMatchList:function(t,e){var i=t.split("|");return i.includes(e.toString())||i.push(e.toString()),i.filter(Number).join("|")},rewardIdMatchListItemSelector:function(){this.setSelectorActive("reward_id_list_select")},itemMatchListItemSelector:function(){this.setSelectorActive("item_id_list_select")},npcMatchListSuffixDescription:function(){var t=parseInt(this.task.task_activities[this.selectedActivity].activitytype);return t===x.KILL?"To be killed":t===x.LOOT?"To be looted from (optional)":t===x.SPEAK_WITH?"To be spoken with":this.isDeliverToNPCActive()?"To be delivered to":"???"},itemMatchListSuffixDescription:function(){var t=parseInt(this.task.task_activities[this.selectedActivity].activitytype);return t===x.DELIVER?"Item(s) to be delivered":t===x.TRADESKILL?"Item(s) to be created":t===x.FISH?"Item(s) to be fished":t===x.FORAGE?"Item(s) to be foraged":t===x.LOOT?"Item(s) to be looted":"???"},buildTaskActivitySelection:function(){var t={"-1":"None"};if(this.task&&this.task.task_activities){var e,i=Fe(this.task.task_activities);try{for(i.s();!(e=i.n()).done;){var s=e.value;t[s.activityid]=s.activityid+" "+R.buildActivityDescription(s)}}catch(a){i.e(a)}finally{i.f()}}return t},buildTaskRequiredActivitySelection:function(){var t={"-1":"None"};if(this.task&&this.task.task_activities){var e,i=Fe(this.task.task_activities);try{for(i.s();!(e=i.n()).done;){var s=e.value;t[s.activityid]=R.buildActivityDescription(s)}}catch(a){i.e(a)}finally{i.f()}}return t},isActivityQuestControlled:function(){return this.task.task_activities[this.selectedActivity].goalmethod===T.QUEST_CONTROLLED},buildQuestUpdateTaskActivityParams:function(){return"".concat(this.task.id,", ").concat(this.selectedActivity,", 1")},copyToClip:function(t){Qt["a"].copyFromText(t),Notify.toast("Copied ["+t+"] to clipboard")},getZoneNames:function(){var t,e=this.task.task_activities[this.selectedActivity].zones?this.task.task_activities[this.selectedActivity].zones.toString():"",i=[],s=Fe(e.split(","));try{for(s.s();!(t=s.n()).done;){var a=t.value;i.push(this.zoneNames[a])}}catch(n){s.e(n)}finally{s.f()}return i.join(", ")},fetchZoneNames:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){var e,i,s,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e={},t.t0=Fe,t.next=4,B["a"].getZones();case 4:t.t1=t.sent,i=(0,t.t0)(t.t1);try{for(i.s();!(s=i.n()).done;)a=s.value,e[a.zoneidnumber]=a.long_name}catch(n){i.e(n)}finally{i.f()}this.zoneNames=e;case 8:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),activityTypeChange:function(){this.task&&this.task.task_activities[this.selectedActivity]&&(this.task.task_activities[this.selectedActivity].zones="0",this.task.task_activities[this.selectedActivity].goalmethod=0,this.task.task_activities[this.selectedActivity].goalcount=1,this.task.task_activities[this.selectedActivity].optional=0,this.task.task_activities[this.selectedActivity].item_id_list="",this.task.task_activities[this.selectedActivity].npc_match_list="",this.task.task_activities[this.selectedActivity].item_list="",this.task.task_activities[this.selectedActivity].spell_list="",this.task.task_activities[this.selectedActivity].target_name="",this.task.task_activities[this.selectedActivity].description_override="")},scrollToActivity:function(){if(!this.scrolledToActivity){if(this.selectedActivity){var t=document.getElementById("activities-scroll"),e=document.getElementById(u.a.format("task-entry-%s",this.selectedActivity));t&&e&&t.scrollTo({top:e.offsetTop-150,behavior:"smooth"})}this.scrolledToActivity=!0}},renderGoalIdDescriptor:function(){return this.isGoalIdItemSelectorActive()?" (Item)":this.isNpcMatchListSelectorActive()?" (NPC)":""},renderGoalMatchListDescription:function(){return this.isGoalIdItemSelectorActive()?" (Item) (List of item ids)":this.isNpcMatchListSelectorActive()?" (NPC) (Can be NPC ID's or names)":""},isGoalIdSelectorActive:function(){return!!(this.task&&this.task.task_activities&&this.task.task_activities[this.selectedActivity])&&0===this.task.task_activities[this.selectedActivity].goalmethod},isDeliverToNPCActive:function(){return[x.DELIVER,x.GIVE].includes(parseInt(this.task.task_activities[this.selectedActivity].activitytype))},isGoalIdItemSelectorActive:function(){return[x.LOOT,x.TRADESKILL,x.DELIVER,x.FISH,x.FORAGE].includes(parseInt(this.task.task_activities[this.selectedActivity].activitytype))},isDescriptionOverrideSet:function(){return this.task.task_activities[this.selectedActivity].description_override.length>0},isActivityTargetVisible:function(){return[x.KILL,x.LOOT,x.DELIVER,x.SPEAK_WITH,x.EXPLORE].includes(parseInt(this.task.task_activities[this.selectedActivity].activitytype))},isNpcMatchListSelectorActive:function(){return[x.KILL,x.SPEAK_WITH,x.DELIVER,x.GIVE].includes(parseInt(this.task.task_activities[this.selectedActivity].activitytype))},isItemMatchListSelectorActive:function(){return[x.LOOT,x.TRADESKILL,x.FISH,x.FORAGE,x.DELIVER].includes(parseInt(this.task.task_activities[this.selectedActivity].activitytype))},isGoalIdExploreActive:function(){return[x.EXPLORE].includes(parseInt(this.task.task_activities[this.selectedActivity].activitytype))},isTouchActivityActive:function(){return[x.TOUCH].includes(parseInt(this.task.task_activities[this.selectedActivity].activitytype))},isItemListVisible:function(){return this.isGoalIdItemSelectorActive()},postTargetNameUpdateProcessor:function(t,e){var i=this.selectedActivity,s=(this.task.task_activities[i].activitytype&&this.task.task_activities[i].activitytype,"undefined"!==typeof this.task.task_activities[i].target_name&&this.task.task_activities[i].target_name.trim().length,"undefined"!==typeof this.task.task_activities[i].description_override&&0===this.task.task_activities[i].description_override.trim().length);s&&"goalid"===e&&(this.isGoalIdItemSelectorActive()&&(this.task.task_activities[i].item_list=t.name,F["a"].setFieldModifiedById("item_list")),this.isNpcMatchListSelectorActive()&&(this.task.task_activities[i].target_name=Dt["a"].getCleanName(t.npc.name),F["a"].setFieldModifiedById("target_name")))},moveActivityUp:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){var e,i,s,a,n,r,c,o,l,d;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(a in this.saveFreeze=!0,e=this.selectedActivity,i=[],this.task.task_activities&&this.task.task_activities.length>0&&(i=JSON.parse(JSON.stringify(this.task.task_activities))),s=-1,i)parseInt(e)===parseInt(a)&&i[a-1]&&(s=parseInt(a));return s>=0&&(n=i[s],r=i[s-1],c=i[s].activityid,o=i[s-1].activityid,l=i[s].step,d=i[s-1].step,n.activityid=o,r.activityid=c,n.step=d,r.step=l,i[s]=r,i[s-1]=n,this.selectedActivity=o),this.task.task_activities=JSON.parse(JSON.stringify(i)),t.next=10,this.saveTask();case 10:this.updateQueryState(),this.saveFreeze=!1;case 12:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),cloneActivity:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.saveFreeze=!0,!(this.task.task_activities.length>=20)){t.next=5;break}return this.notification="You cannot clone; task already has 20 activities.",this.saveFreeze=!1,t.abrupt("return");case 5:return t.next=7,this.saveIfModified();case 7:return t.prev=7,t.next=10,R.cloneTaskActivity(this.getBackendFormattedTask(),this.selectedActivity);case 10:if(e=t.sent,200!==e.status){t.next=17;break}return t.next=14,R.getTask(this.$route.params.id);case 14:this.task=t.sent,this.selectedActivity=e.data.activityid,this.notification="Task activity (".concat(this.selectedActivity,") successfully cloned");case 17:t.next=23;break;case 19:t.prev=19,t.t0=t["catch"](7),console.log(t.t0),t.t0.response&&t.t0.response.data&&t.t0.response.data.error&&(this.error=t.t0.response.data.error);case 23:this.saveFreeze=!1;case 24:case"end":return t.stop()}}),t,this,[[7,19]])})));function e(){return t.apply(this,arguments)}return e}(),moveActivityDown:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){var e,i,s,a,n,r,c,o,l,d;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.saveFreeze=!0,t.next=3,this.saveIfModified();case 3:for(a in e=this.selectedActivity,i=[],this.task.task_activities&&this.task.task_activities.length>0&&(i=JSON.parse(JSON.stringify(this.task.task_activities))),s=-1,i)parseInt(e)===parseInt(a)&&i[parseInt(a)+1]&&(console.log("found matched index",a),s=parseInt(a));return s>=0&&(n=i[s],r=i[s+1],c=i[s].activityid,o=i[s+1].activityid,l=i[s].step,d=i[s+1].step,n.activityid=o,r.activityid=c,n.step=d,r.step=l,i[s]=r,i[s+1]=n,this.selectedActivity=o),this.task.task_activities=JSON.parse(JSON.stringify(i)),t.next=12,this.saveTask();case 12:this.updateQueryState(),this.saveFreeze=!1;case 14:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),createActivity:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.saveFreeze=!0,!(this.task&&this.task.task_activities&&this.task.task_activities.length>=20)){t.next=5;break}return this.notification="You cannot create more than 20 activities in a task.",this.saveFreeze=!1,t.abrupt("return");case 5:return t.prev=5,t.next=8,this.saveIfModified();case 8:return t.next=10,R.createNewTaskActivity(this.task);case 10:if(e=t.sent,200!==e.status){t.next=17;break}return t.next=14,R.getTask(this.$route.params.id);case 14:this.task=t.sent,this.selectedActivity=e.data.activityid,this.notification="Task activity successfully created";case 17:t.next=23;break;case 19:t.prev=19,t.t0=t["catch"](5),console.log(t.t0),t.t0.response&&t.t0.response.data&&t.t0.response.data.error&&(this.error=t.t0.response.data.error);case 23:this.saveFreeze=!1;case 24:case"end":return t.stop()}}),t,this,[[5,19]])})));function e(){return t.apply(this,arguments)}return e}(),deleteActivity:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){var e,i,s,a,n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.task.task_activities[this.selectedActivity]){t.next=2;break}return t.abrupt("return");case 2:if(e=this.task.task_activities[this.selectedActivity],!confirm("Are you sure you want to delete this task activity?\n\n(Step ".concat(e.step,") Activity ").concat(e.activityid," \n\n")+this.buildActivityDescription(e))){t.next=44;break}return this.saveFreeze=!0,t.prev=5,t.next=8,this.saveTask();case 8:if(i=!1,!this.task.task_activities){t.next=37;break}s=Fe(this.task.task_activities),t.prev=11,s.s();case 13:if((a=s.n()).done){t.next=28;break}if(n=a.value,parseInt(n.activityid)!==parseInt(this.selectedActivity)){t.next=26;break}return t.next=18,R.deleteTaskActivity(n);case 18:if(r=t.sent,200!==r.status){t.next=26;break}return t.next=22,R.getTask(this.$route.params.id);case 22:this.task=t.sent,this.selectedActivity=n.activityid-1,this.notification="Task activity successfully deleted",i=!0;case 26:t.next=13;break;case 28:t.next=33;break;case 30:t.prev=30,t.t0=t["catch"](11),s.e(t.t0);case 33:return t.prev=33,s.f(),t.finish(33);case 36:i&&this.reorderTaskActivities();case 37:t.next=43;break;case 39:t.prev=39,t.t1=t["catch"](5),t.t1.response&&t.t1.response.data&&t.t1.response.data.error&&(this.error=t.t1.response.data.error),console.log(t.t1);case 43:this.saveFreeze=!1;case 44:case"end":return t.stop()}}),t,this,[[5,39],[11,30,33,36]])})));function e(){return t.apply(this,arguments)}return e}(),forceReorderTaskActivities:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!confirm("Fix and reorder task activities? This can fix activities that have gaps or are not sequential and can cause the server to not load the activities properly.")){t.next=5;break}return this.saveFreeze=!0,t.next=4,this.reorderTaskActivities();case 4:this.saveFreeze=!1;case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),reorderTaskActivities:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){var e,i,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e=0,t.t0=regeneratorRuntime.keys(this.task.task_activities);case 2:if((t.t1=t.t0()).done){t.next=12;break}if(i=t.t1.value,parseInt(this.task.task_activities[i].activityid)==e){t.next=9;break}return s=parseInt(this.task.task_activities[i].activityid),this.task.task_activities[i].activityid=e,t.next=9,R.updateTaskActivityId(this.task.task_activities[i],s);case 9:e++,t.next=2;break;case 12:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),sendNotification:function(t){this.notification=t},getBackendFormattedTask:function(){var t=this.task,e=[];return t.task_activities&&(t.task_activities.forEach((function(t){var i=t;i.zones=i.zones.toString(),e.push(i)})),t.task_activities=e),t},saveTask:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){var e,i,s,a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e=this.getBackendFormattedTask(),t.next=4,R.updateTask(e);case 4:if(i=t.sent,!e||!e.task_activities){t.next=23;break}s=Fe(e.task_activities),t.prev=7,s.s();case 9:if((a=s.n()).done){t.next=15;break}return n=a.value,t.next=13,R.updateTaskActivityId(n,n.activityid);case 13:t.next=9;break;case 15:t.next=20;break;case 17:t.prev=17,t.t0=t["catch"](7),s.e(t.t0);case 20:return t.prev=20,s.f(),t.finish(20);case 23:200===i.status&&(F["a"].resetFieldEditedStatus(),this.notification="Task updated!",this.tasks=[],this.loadTasks()),t.next=29;break;case 26:t.prev=26,t.t1=t["catch"](0),t.t1.response&&t.t1.response.data&&t.t1.response.data.error&&(this.error=t.t1.response.data.error);case 29:console.log("updated task");case 30:case"end":return t.stop()}}),t,this,[[0,26],[7,17,20,23]])})));function e(){return t.apply(this,arguments)}return e}(),deleteTask:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!confirm("Are you sure you want to delete this task?\n\n(".concat(this.task.id,") ").concat(this.task.title," "))){t.next=7;break}return t.next=3,R.deleteTaskWithActivities(this.task);case 3:e=t.sent,""!==e&&(this.error=e),this.resetStateAll(),this.updateQueryState();case 7:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),createTask:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){var e,i,s,a,n=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Ot["a"].get("tasks","id","title");case 2:if(e=t.sent,!(e>0)){t.next=19;break}return F["a"].setFieldModifiedById("id"),i=R.getExampleTask(),i.id=e,s=[],i.task_activities&&(i.task_activities.forEach((function(t){var i=t;i.taskid=e,s.push(i)})),i.task_activities=s),t.prev=9,t.next=12,R.createTask(i);case 12:a=t.sent,200===a.status&&(this.resetState(),this.selectedTask=a.data.id,this.selectedActivity=0,this.tasks=[],setTimeout((function(){n.updateQueryState(),n.notification="New task created successfully!"}),100)),t.next=19;break;case 16:t.prev=16,t.t0=t["catch"](9),t.t0.response&&t.t0.response.data&&t.t0.response.data.error&&(this.error=t.t0.response.data.error);case 19:case"end":return t.stop()}}),t,this,[[9,16]])})));function e(){return t.apply(this,arguments)}return e}(),cloneTask:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){var e,i,s,a,n,r,c,o,l=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!confirm("Are you sure you want to copy this task?\n\n(".concat(this.task.id,") ").concat(this.task.title," "))){t.next=49;break}return this.saveFreeze=!0,t.next=4,Ot["a"].get("tasks","id","title");case 4:if(e=t.sent,!(e>0)){t.next=48;break}return F["a"].setFieldModifiedById("id"),t.next=9,R.getTaskWithActivities(this.selectedTask);case 9:if(i=t.sent,!(i.id>0)){t.next=48;break}return s=i,s.id=e,a=[],s.task_activities&&(s.task_activities.forEach((function(t){var i=t;i.taskid=e,a.push(i)})),delete s.task_activities),t.prev=15,t.next=18,R.createTask(s);case 18:if(n=t.sent,200!==n.status){t.next=43;break}if(this.resetState(),this.selectedTask=n.data.id,this.selectedActivity=0,this.tasks=[],!a){t.next=42;break}r=Fe(a),t.prev=26,r.s();case 28:if((c=r.n()).done){t.next=34;break}return o=c.value,t.next=32,R.saveTaskActivity(o);case 32:t.next=28;break;case 34:t.next=39;break;case 36:t.prev=36,t.t0=t["catch"](26),r.e(t.t0);case 39:return t.prev=39,r.f(),t.finish(39);case 42:setTimeout((function(){l.updateQueryState(),l.notification="New task cloned successfully!"}),100);case 43:t.next=48;break;case 45:t.prev=45,t.t1=t["catch"](15),t.t1.response&&t.t1.response.data&&t.t1.response.data.error&&(this.error=t.t1.response.data.error);case 48:this.saveFreeze=!1;case 49:case"end":return t.stop()}}),t,this,[[15,45],[26,36,39,42]])})));function e(){return t.apply(this,arguments)}return e}(),secondsToHumanTime:function(t){for(var e=[[Math.floor(t/31536e3),"y"],[Math.floor(t%31536e3/86400),"d"],[Math.floor(t%31536e3%86400/3600),"h"],[Math.floor(t%31536e3%86400%3600/60),"m"],[t%31536e3%86400%3600%60,"s"]],i="",s=0,a=e.length;s<a;s++)0!==e[s][0]&&(i+=" "+e[s][0]+e[s][1]);return i.trim()},resetState:function(){this.task=null,this.selectedTask=null,this.selectedActivity=null,this.taskSearchFilter=""},resetStateAll:function(){this.resetState(),this.selectedActivity=0,this.tasks=[],this.notification="",this.error=""},setFieldModifiedById:function(t){F["a"].setFieldModifiedById(t)},resetFilter:function(){this.filteredTasks=this.tasks,this.taskSearchFilter="",this.updateQueryState()},getFieldDescription:function(t){return R.getFieldDescription(t)},selectTask:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.selectedActivity=0,this.updateQueryState();case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),filterResultsByName:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){var e,i=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e=[],e=this.tasks.filter((function(t){return t.title.toLowerCase().includes(i.taskSearchFilter.toLowerCase())})),this.filteredTasks=e;case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),loadTask:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(this.$route.params.id>0)){t.next=9;break}if(null===this.task||!this.task||!this.task.id||parseInt(this.task.id)!==parseInt(this.$route.params.id)){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,R.getTask(this.$route.params.id);case 5:this.task=t.sent,0===Object.keys(this.zoneNames).length&&this.fetchZoneNames().then((function(){e.$forceUpdate()})),Object.assign(this.originalTask,this.task),setTimeout((function(){var t=document.getElementById("task-list"),i=document.getElementById(u.a.format("task-entry-%s",e.$route.params.id));t&&i&&t.scrollTo({top:i.offsetTop-150,behavior:"smooth"}),setTimeout((function(){var t=document.getElementById("task-edit-window");t&&(t.removeEventListener("input",F["a"].setFieldModified,!0),t.addEventListener("input",F["a"].setFieldModified)),F["a"].resetFieldEditedStatus()}),1)}),1);case 9:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),setFieldHighlights:function(){var t=["id","description","reward_id_list","item_id_list","npc_match_list","zones","reward_point_type","dz_template_id","replay_timer_group","request_timer_group"];t.forEach((function(t){F["a"].setFieldHighlightHasSubEditor(t)})),this.task&&0===this.task.reward_method&&F["a"].setFieldHighlightHasSubEditor("rewardid"),this.isGoalIdSelectorActive()&&F["a"].setFieldHighlightHasSubEditor("goalid")},buildActivityDescription:function(t){return R.buildActivityDescription(t)},loadTasks:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(this.tasks.length>0)){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,R.getTasks();case 4:e=t.sent,e.length>0&&(this.tasks=e,this.filteredTasks=e,this.filterResultsByName());case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),init:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return 0!==Object.keys(this.$route.query).length&&this.loadQueryState(),t.next=3,this.loadTasks();case 3:this.loadTask().then((function(){e.previewTask(!0),F["a"].resetFieldEditedStatus(),F["a"].resetFieldSubEditorHighlightedStatus(),F["a"].resetFieldHighlightHasSubEditorStatus(),e.setFieldHighlights(),e.resizeDescription()}));case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),resizeDescription:function(){var t=document.getElementById("description");t&&(t.style.minHeight="75px",t.style.height="auto",t.style.height=20+t.scrollHeight+"px")},updateQueryState:function(){var t={};this.selectedActivity>=0&&(t.activity=this.selectedActivity),""!==this.taskSearchFilter&&(t.q=this.taskSearchFilter),this.$router.push({path:this.selectedTask>0?u.a.format(p["a"].TASK_EDIT,this.selectedTask):p["a"].TASKS,query:t}).catch((function(){}))},loadQueryState:function(){parseInt(this.$route.params.id)>=0&&(this.selectedTask=parseInt(this.$route.params.id)),"undefined"!==typeof this.$route.query.activity&&parseInt(this.$route.query.activity)>=0&&(this.selectedActivity=parseInt(this.$route.query.activity)),"undefined"!==typeof this.$route.query.q&&this.$route.query.q&&(this.taskSearchFilter=this.$route.query.q)},shouldReset:function(){return Date.now()-this.lastResetTime>Be},previewTask:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];(this.shouldReset()&&!this.previewTaskActive||t)&&(this.resetPreviewComponents(),this.previewTaskActive=!0)},resetPreviewComponents:function(){for(var t=0,e=Object.entries(this.selectorActive);t<e.length;t++){var i=Object(r["a"])(e[t],2),s=i[0];i[1];this.selectorActive[s]=!1}F["a"].resetFieldSubEditorHighlightedStatus()},setSelectorActive:function(t){this.resetPreviewComponents(),this.previewTaskActive=!1,this.lastResetTime=Date.now(),this.selectorActive[t]=!0,this.$forceUpdate(),F["a"].setFieldSubEditorHighlightedById(t),this.resizeDescription()}},mounted:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.init();case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},Ue=ze,Ge=(i("d932"),Object(W["a"])(Ue,a,n,!1,null,null,null));e["default"]=Ge.exports},"71ac":function(t,e,i){},"73b7":function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"d-inline-block"},[t.filterData.min_expansion>0?e("div",{staticClass:"d-inline-block ml-3"},[e("expansion-icon",{attrs:{expansion:t.filterData.min_expansion,title:"Minimum Expansion Required "}})],1):t._e(),t.filterData.max_expansion>0?e("div",{staticClass:"d-inline-block ml-3"},[e("expansion-icon",{attrs:{expansion:t.filterData.max_expansion,title:"Max Expansion Required "}})],1):t._e(),e("content-flag-pills",{attrs:{"flags-enabled":t.filterData.content_flags}}),e("content-flag-pills",{attrs:{"flags-disabled":t.filterData.content_flags_disabled}})],1)},a=[],n=i("7eeb"),r=i("a332"),c={name:"ContentFilterDisplayPills",components:{ExpansionIcon:r["a"],ContentFlagPills:n["a"]},props:{filterData:{type:Object,required:!0}}},o=c,l=i("2877"),d=Object(l["a"])(o,s,a,!1,null,"fe0c6456",null);e["a"]=d.exports},7514:function(t,e,i){"use strict";var s=i("5ca1"),a=i("0a49")(5),n="find",r=!0;n in[]&&Array(1)[n]((function(){r=!1})),s(s.P+s.F*r,"Array",{find:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}}),i("9c6c")(n)},"761d":function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));i("ac6a");var s=i("d225"),a=i("b0b4"),n=function(){function t(){Object(s["a"])(this,t)}return Object(a["a"])(t,null,[{key:"setFieldHighlightHasSubEditor",value:function(t){var e=document.getElementById(t);e&&e.classList.add("pulsate-highlight-green")}},{key:"resetFieldHighlightHasSubEditorStatus",value:function(){document.querySelectorAll("input, select, textarea").forEach((function(t){t&&t.classList.contains("pulsate-highlight-green")&&t.classList.remove("pulsate-highlight-green")}))}},{key:"resetFieldSubEditorHighlightedStatus",value:function(){document.querySelectorAll("input, select, textarea").forEach((function(t){t&&t.classList.contains("pulsate-highlight-white")&&t.classList.remove("pulsate-highlight-white")}))}},{key:"anyFieldsHaveBeenEdited",value:function(){var t=!1;return document.querySelectorAll("input, select, textarea").forEach((function(e){e&&e.classList.contains("pulsate-highlight-modified")&&(t=!0)})),t}},{key:"resetFieldEditedStatus",value:function(){document.querySelectorAll("input, select, textarea").forEach((function(t){t&&t.classList.contains("pulsate-highlight-modified")&&t.classList.remove("pulsate-highlight-modified")}))}},{key:"setFieldModified",value:function(t){1!==parseInt(t.target.getAttribute("ignore-input-change"))&&t.target.classList.add("pulsate-highlight-modified")}},{key:"setFieldModifiedById",value:function(t){var e=document.getElementById(t);e&&e.classList.add("pulsate-highlight-modified")}},{key:"clearFieldModifiedById",value:function(t){var e=document.getElementById(t);e&&e.classList.remove("pulsate-highlight-modified")}},{key:"setFieldSubEditorHighlightedById",value:function(t){var e=document.getElementById(t);e&&e.classList.add("pulsate-highlight-white")}}])}()},"78ff":function(t,e,i){"use strict";i.d(e,"b",(function(){return s})),i.d(e,"a",(function(){return a}));var s=["Classic","The Ruins of Kunark","The Scars of Velious","The Shadows of Luclin","The Planes of Power","The Legacy of Ykesha","Lost Dungeons of Norrath","Gates of Discord","Omens of War","Dragons of Norrath","Depths of Darkhollow","Prophecy of Ro","The Serpent's Spine","The Buried Sea","Secrets of Faydwer","Seeds of Destruction","Underfoot","House of Thule","Veil of Alaris","Rain of Fear","Call of the Forsaken","The Darkened Sea","The Broken Mirror","Empires of Kunark","Ring of Scale","The Burning Lands","Torment of Velious"],a={0:{name:"Classic",mask:0,icon:"original.gif"},1:{name:"The Ruins of Kunark",mask:1,icon:"kunarkicon.gif"},2:{name:"The Scars of Velious",mask:2,icon:"veliousicon.gif"},3:{name:"The Shadows of Luclin",mask:4,icon:"luclinicon.gif"},4:{name:"The Planes of Power",mask:8,icon:"powericon.gif"},5:{name:"The Legacy of Ykesha",mask:16,icon:"ykeshaicon.gif"},6:{name:"Lost Dungeons of Norrath",mask:32,icon:"ldonicon.gif"},7:{name:"Gates of Discord",mask:64,icon:"gatesicon.gif"},8:{name:"Omens of War",mask:128,icon:"omensicon.gif"},9:{name:"Dragons of Norrath",mask:256,icon:"donicon.gif"},10:{name:"Depths of Darkhollow",mask:512,icon:"dodicon.png"},11:{name:"Prophecy of Ro",mask:1024,icon:"poricon.png"},12:{name:"The Serpent's Spine",mask:2048,icon:"serpsicon.gif"},13:{name:"The Buried Sea",mask:4096,icon:"buried.gif"},14:{name:"Secrets of Faydwer",mask:8192,icon:"secrets.gif"},15:{name:"Seeds of Destruction",mask:16384,icon:"seedsofdestruction.gif"},16:{name:"Underfoot",mask:32768,icon:"underfoot.gif"},17:{name:"House of Thule",mask:65536,icon:"thule.gif"},18:{name:"Veil of Alaris",mask:131072,icon:"alaris.gif"},19:{name:"Rain of Fear",mask:262144,icon:"fear.gif"},20:{name:"Call of the Forsaken",mask:524288,icon:"calloftheforsaken.gif"},21:{name:"The Darkened Sea",mask:1048576,icon:"darkenedsea.gif"},22:{name:"The Broken Mirror",mask:2097152,icon:"brokenmirror.gif"},23:{name:"Empires of Kunark",mask:4194304,icon:"empires.gif"},24:{name:"Ring of Scale",mask:8388608,icon:"scale.gif"},25:{name:"The Burning Lands",mask:16777216,icon:"burning.gif"},26:{name:"Torment of Velious",mask:33554432,icon:"torment.gif"}}},"7dc0":function(t,e,i){"use strict";(function(t){i("4917"),i("a481"),i("55dd"),i("7f7f"),i("7514");function s(t,e){if(!(this instanceof s))return new s(t,e);if(!t||"TABLE"!==t.tagName)throw new Error("Element must be a table");this.init(t,e||{})}var a=[],n=function(t){var e;return window.CustomEvent&&"function"===typeof window.CustomEvent?e=new CustomEvent(t):(e=document.createEvent("CustomEvent"),e.initCustomEvent(t,!1,!1,void 0)),e},r=function(t,e){return t.getAttribute(e.sortAttribute||"data-sort")||t.textContent||t.innerText||""},c=function(t,e){return t=t.trim().toLowerCase(),e=e.trim().toLowerCase(),t===e?0:t<e?1:-1},o=function(t,e){return[].slice.call(t).find((function(t){return t.getAttribute("data-sort-column-key")===e}))},l=function(t,e){return function(i,s){var a=t(i.td,s.td);return 0===a?e?s.index-i.index:i.index-s.index:a}};s.extend=function(t,e,i){if("function"!==typeof e||"function"!==typeof i)throw new Error("Pattern and sort must be a function");a.push({name:t,pattern:e,sort:i})},s.prototype={init:function(t,e){var i,s,a,n,r=this;if(r.table=t,r.thead=!1,r.options=e,t.rows&&t.rows.length>0)if(t.tHead&&t.tHead.rows.length>0){for(a=0;a<t.tHead.rows.length;a++)if("thead"===t.tHead.rows[a].getAttribute("data-sort-method")){i=t.tHead.rows[a];break}i||(i=t.tHead.rows[t.tHead.rows.length-1]),r.thead=!0}else i=t.rows[0];if(i){var c=function(){r.current&&r.current!==this&&r.current.removeAttribute("aria-sort"),r.current=this,r.sortTable(this)};for(a=0;a<i.cells.length;a++)n=i.cells[a],n.setAttribute("role","columnheader"),"none"!==n.getAttribute("data-sort-method")&&(n.tabindex=0,n.addEventListener("click",c,!1),null!==n.getAttribute("data-sort-default")&&(s=n));s&&(r.current=s,r.sortTable(s))}},sortTable:function(t,e){var i=this,s=t.getAttribute("data-sort-column-key"),d=t.cellIndex,u=c,p="",h=[],f=i.thead?0:1,m=t.getAttribute("data-sort-method"),v=t.getAttribute("aria-sort");if(i.table.dispatchEvent(n("beforeSort")),e||(v="ascending"===v?"descending":"descending"===v?"ascending":i.options.descending?"descending":"ascending",t.setAttribute("aria-sort",v)),!(i.table.rows.length<2)){if(!m){while(h.length<3&&f<i.table.tBodies[0].rows.length)w=s?o(i.table.tBodies[0].rows[f].cells,s):i.table.tBodies[0].rows[f].cells[d],p=w?r(w,i.options):"",p=p.trim(),p.length>0&&h.push(p),f++;if(!h)return}for(f=0;f<a.length;f++)if(p=a[f],m){if(p.name===m){u=p.sort;break}}else if(h.every(p.pattern)){u=p.sort;break}for(i.col=d,f=0;f<i.table.tBodies.length;f++){var y,b=[],_={},g=0,k=0;if(!(i.table.tBodies[f].rows.length<2)){for(y=0;y<i.table.tBodies[f].rows.length;y++){var w;p=i.table.tBodies[f].rows[y],"none"===p.getAttribute("data-sort-method")?_[g]=p:(w=s?o(p.cells,s):p.cells[i.col],b.push({tr:p,td:w?r(w,i.options):"",index:g})),g++}for("descending"===v?b.sort(l(u,!0)):(b.sort(l(u,!1)),b.reverse()),y=0;y<g;y++)_[y]?(p=_[y],k++):p=b[y-k].tr,i.table.tBodies[f].appendChild(p)}}i.table.dispatchEvent(n("afterSort"))}},refresh:function(){void 0!==this.current&&this.sortTable(this.current,!0)}},t.exports?t.exports=s:window.Tablesort=s;var d=function(t){return t.replace(/[^\-?0-9.]/g,"")},u=function(t,e){return t=parseFloat(t),e=parseFloat(e),t=isNaN(t)?0:t,e=isNaN(e)?0:e,t-e};s.extend("number",(function(t){return t.match(/^[-+]?[\x24]?\d+\s*([,\.]\d{0,2})/)||t.match(/^[-+]?\d+\s*([,\.]\d{0,2})?[\x24]/)||t.match(/^[-+]?(\d)*-?([,\.]){0,1}-?(\d)+([E,e][\-+][\d]+)?%?$/)}),(function(t,e){return t=d(t),e=d(e),u(e,t)})),e["a"]=s}).call(this,i("dd40")(t))},"7e42":function(t,e,i){},"7eeb":function(t,e,i){"use strict";i("28a5");var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"d-inline-block ml-1"},[t.flagsEnabled&&t.flagsEnabled.length>0?e("div",{staticClass:"d-inline-block"},t._l(t.flagsEnabled.split(","),(function(i){return e("b-badge",{key:i,attrs:{title:"Enabled when this content flag is enabled",pill:"",variant:"warning"}},[t._v(t._s(i)+"\n    ")])})),1):t._e(),t.flagsDisabled&&t.flagsDisabled.length>0?e("div",{staticClass:"d-inline-block"},t._l(t.flagsDisabled.split(","),(function(i){return e("b-badge",{key:i,attrs:{title:"Disabled when this content flag is enabled",pill:"",variant:"danger"}},[t._v(t._s(i)+"\n    ")])})),1):t._e()])},a=[],n={name:"ContentFlagPills",props:{flagsEnabled:{type:String,required:!1},flagsDisabled:{type:String,required:!1}}},r=n,c=i("2877"),o=Object(c["a"])(r,s,a,!1,null,"f1f957d2",null);e["a"]=o.exports},8915:function(t,e,i){"use strict";i.d(e,"a",(function(){return s}));var s={"-1":"None",0:"Grounded",1:"Flying",2:"Levitate",3:"Water",4:"Floating",5:"Levitate While Running"}},"8e98":function(t){t.exports=JSON.parse('{"0":"1H Slashing","1":"2H Slashing","2":"Piercing","3":"1H Blunt","4":"2H Blunt","5":"Archery","6":"Crossbow","7":"Throwing v1","8":"Shield","9":"Spell","10":"Armor","11":"Misc","12":"Lockpicks","13":"Fist","14":"Food","15":"Drink","16":"Light","17":"Combinable","18":"Bandages","19":"Throwing v2","20":"Scroll","21":"Potion","22":"Fletched Arrow","23":"Wind Instrument","24":"Stringed Instrument","25":"Brass Instrument","26":"Percussion Instrument","27":"Arrow","28":"Bolt","29":"Jewelry","30":"Skull","31":"Book","32":"Note","33":"Key v1","34":"Coin","35":"2H Piercing","36":"Fishing Pole","37":"Fishing Bait","38":"Alcohol","39":"Key v2","40":"Compass","41":"Metal Key","42":"Poison","43":"Magic Arrow","44":"Magic Bolt","45":"Hand to Hand","46":"Item Has Effect","47":"Haste Item","48":"Item Has FT","49":"Item Has Focus","50":"Singing Instrument","51":"All Instruments","52":"Charm","53":"Armor Dye","54":"Augment","55":"Augment Solvent","56":"Augment Distiller","57":"Alternate Ability","58":"Guild Banner Kit","59":"Guild Banner Modify Token","60":"Cultural Armor Recipe Book","61":"Cultural Weapon Recipe Book","62":"Book with Spell Effect","63":"Alternate Currency","64":"Perfected Augment Distiller","65":"Placeable","66":"Collectible","67":"Container","68":"Mount","69":"Illusion","70":"Familiar","71":"Unknown71","72":"Unknown72","255":"None"}')},9744:function(t,e,i){"use strict";var s=i("4588"),a=i("be13");t.exports=function(t){var e=String(a(this)),i="",n=s(t);if(n<0||n==1/0)throw RangeError("Count can't be negative");for(;n>0;(n>>>=1)&&(e+=e))1&n&&(i+=e);return i}},"9e5c":function(t,e,i){"use strict";i("cbc6")},a006:function(t,e,i){"use strict";i("7f7f"),i("ac6a"),i("456d"),i("55dd"),i("6b54");var s=function(){var t=this,e=t._self._c;return t.npc?e("div",[e("span",{class:"race-models-ctn-"+t.getRaceImage(t.npc),staticStyle:{position:"absolute",right:"7%",opacity:".8",filter:"drop-shadow(10px 5px 2px #000)"}}),t.npc.d_melee_texture_1>0?e("span",{class:"mt-2 mb-2 object-ctn-"+t.npc.d_melee_texture_1,style:"position: absolute; right: "+(t.npc.d_melee_texture_2>0?25:20)+"%; top: 10px; opacity: 1; filter: drop-shadow(10px 5px 2px #000); z-index: 9999"}):t._e(),t.npc.d_melee_texture_2>0?e("span",{class:"mt-2 mb-2 object-ctn-"+t.npc.d_melee_texture_2,staticStyle:{position:"absolute",right:"20%",top:"10px",filter:"drop-shadow(10px 5px 2px #000)",opacity:".8"}}):t._e(),e("div",{staticClass:"row"},[e("div",{staticClass:"col-8"},[e("h6",{staticClass:"eq-header",staticStyle:{margin:"0px","margin-bottom":"10px"}},[t._v("\n        "+t._s(t.getCleanName())+" "+t._s(t.npc.lastname&&t.npc.lastname.length>0?"("+t.npc.lastname+")":"")+"\n      ")])]),e("div",{staticClass:"col-12"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-2 text-right font-weight-bold pr-0"},[t._v("\n          ID\n        ")]),e("div",{staticClass:"col-4 pl-3"},[t._v("\n          "+t._s(t.npc.id)+"\n        ")])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-2 text-right font-weight-bold pr-0"},[t._v("\n          Level\n        ")]),e("div",{staticClass:"col-4 pl-3"},[t._v("\n          "+t._s(t.npc.level)+"\n        ")])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-2 text-right font-weight-bold pr-0"},[t._v("\n          Class\n        ")]),e("div",{staticClass:"col-4 pl-3"},[t.getClassIcon().toString().length>0?e("span",{class:"item-"+t.getClassIcon()+"-sm",staticStyle:{display:"inline-block"}}):t._e(),e("span",{staticStyle:{position:"relative",top:"-2px"}},[t._v("\n            "+t._s(t.getClassName(t.npc.class))+" ("+t._s(t.npc.class)+")\n          ")])])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-2 text-right font-weight-bold pr-0"},[t._v("\n          Race\n        ")]),e("div",{staticClass:"col-4 pl-3"},[t.getRaceIcon().toString().length>0?e("span",{class:"item-"+t.getRaceIcon()+"-sm",staticStyle:{display:"inline-block"}}):t._e(),e("span",{staticStyle:{position:"relative",top:"-2px"}},[t._v("\n            "+t._s(t.getRaceName(t.npc.race))+" ("+t._s(t.npc.race)+")\n          ")])])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-2 text-right font-weight-bold pr-0"},[t._v("\n          Bodytype\n        ")]),e("div",{staticClass:"col-4 pl-3"},[t._v("\n          "+t._s(t.getBodytype())+" ("+t._s(t.npc.bodytype)+")\n        ")])]),t.npc.merchant_id>0?e("div",{staticClass:"row"},[e("div",{staticClass:"col-2 text-right font-weight-bold pr-0"},[t._v("\n          Merchant ID\n        ")]),e("div",{staticClass:"col-4 pl-3"},[t._v("\n          "+t._s(t.npc.merchant_id)+"\n        ")])]):t._e(),0!==t.npc.armortint_red||0!==t.npc.armortint_green||0!==t.npc.armortint_blue?e("div",{staticClass:"row"},[e("div",{staticClass:"col-2 text-right font-weight-bold pr-0"},[t._v("\n          Armor RGB\n        ")]),e("div",{staticClass:"col-4 pl-3"},[e("div",{staticClass:"mr-3",style:"width: 15px; height: 15px; margin-top: 3px; border-radius: 5px; background-color: rgb("+t.npc.armortint_red+", "+t.npc.armortint_green+", "+t.npc.armortint_blue+");"})])]):t._e()])]),t.noStats?t._e():e("div",{staticClass:"mt-4 mb-5"},t._l(t.rows,(function(i,s){return e("div",{key:s,staticClass:"row mt-3"},t._l(i.columns,(function(i,s){return e("div",{key:s,staticClass:"col-4"},t._l(i,(function(i){return"undefined"!==typeof i.showIf&&i.showIf||"undefined"===typeof i.showIf?e("div",{key:i.label,staticClass:"row"},[e("div",{staticClass:"col-8 text-left font-weight-bold pr-0"},[i.icon?e("span",{class:"item-"+i.icon+"-sm",staticStyle:{display:"inline-block"}}):t._e(),e("span",{staticStyle:{position:"relative",top:"-2px"}},[t._v("\n          "+t._s(i.label)+"\n          ")])]),e("div",{staticClass:"col-4 pl-1",staticStyle:{position:"relative",top:"-2px"}},[t._v("\n            "+t._s(parseInt(i.value)>0?t.commify(i.value):i.value)+"\n          ")])]):t._e()})),0)})),0)})),0),t.npc.special_abilities.length>0&&!t.noStats?e("div",{staticClass:"mt-3"},[e("div",{staticClass:"font-weight-bold mb-3"},[t._v("\n      This NPC has the following special abilities ("+t._s(t.parseSpecialAbilities(t.npc.special_abilities).length)+")\n    ")]),e("ul",{staticStyle:{"padding-left":"20px"}},t._l(t.parseSpecialAbilities(t.npc.special_abilities).sort((function(t,e){return t.localeCompare(e)})),(function(i){return e("li",{staticStyle:{display:"list-item","list-style-type":"circle"}},[t._v("\n        "+t._s(i)+"\n      ")])})),0)]):t._e(),t.npc.merchant_id>0?e("div",{staticClass:"mt-3"},[t.merchantitems&&t.merchantitems.length>0&&(t.merchantitems.length<t.maxDataEntries||t.showMerchantItems)?e("div",{},[e("div",{staticClass:"font-weight-bold mb-3"},[t._v("This NPC sells the following items ("+t._s(t.commify(t.merchantitems.length))+")\n        "),t.merchantitems.length>t.maxDataEntries?e("a",{attrs:{href:"javascript:void(0);"},on:{click:function(e){t.showMerchantItems=!1}}},[t._v("hide")]):t._e()]),e("table",{staticClass:"eq-table eq-highlight-rows",staticStyle:{width:"95%"}},[e("tbody",t._l(t.merchantitems,(function(i){return i.item&&"undefined"!==typeof i.item.price?e("tr",[e("td",[Object.keys(i.item).length>0&&i.item?e("item-popover",{staticClass:"d-inline-block",attrs:{item:i.item,size:"sm"}}):t._e(),t._v("\n            "+t._s(i.item.stacksize>0?"(".concat(i.item.stacksize,")"):"")+"\n\n            "),e("content-filter-display-pills",{attrs:{"filter-data":i.entry}})],1),e("td",[e("eq-cash-display",{staticClass:"ml-1",staticStyle:{"min-width":"150px"},attrs:{price:parseInt(i.item.price)}})],1)]):t._e()})),0)])]):t._e(),t.merchantitems&&t.merchantitems.length>0&&t.merchantitems.length>t.maxDataEntries&&!t.showMerchantItems?e("div",{staticClass:"font-weight-bold"},[t._v("\n      This NPC sells ("+t._s(t.commify(t.merchantitems.length))+") items, click "),e("a",{attrs:{href:"javascript:void(0);"},on:{click:function(e){t.showMerchantItems=!0}}},[t._v("here")]),t._v("\n      to view them all\n    ")]):t._e()]):t._e(),t.npc.npc_spells_id>0?e("div",{staticClass:"mt-3"},[t.castedSpells&&t.castedSpells.length>0&&(t.castedSpells.length<t.maxDataEntries||t.showCastedSpells)?e("div",{},[e("div",{staticClass:"font-weight-bold mb-3"},[t._v("This NPC casts the following spells ("+t._s(t.commify(t.castedSpells.length))+")\n        ("+t._s(t.npc.npc_spell.name)+")\n        "),t.castedSpells.length>t.maxDataEntries?e("a",{attrs:{href:"javascript:void(0);"},on:{click:function(e){t.showCastedSpells=!1}}},[t._v("hide")]):t._e()]),t._l(t.castedSpells,(function(i){return e("div",[Object.keys(i.spell).length>0&&i.spell?e("spell-popover",{staticClass:"mt-2",attrs:{spell:i.spell,size:20,"spell-name-length":25}}):t._e()],1)}))],2):t._e(),t.castedSpells&&t.castedSpells.length>0&&t.castedSpells.length>t.maxDataEntries&&!t.showCastedSpells?e("div",{staticClass:"font-weight-bold"},[t._v("\n      This NPC casts ("+t._s(t.commify(t.castedSpells.length))+") spells, click "),e("a",{attrs:{href:"javascript:void(0);"},on:{click:function(e){t.showCastedSpells=!0}}},[t._v("here")]),t._v("\n      to view them all\n    ")]):t._e()]):t._e(),t.npc.npc_spells_id>0?e("div",{staticClass:"mt-3"},[t.factionHits&&t.factionHits.length>0&&(t.factionHits.length<t.maxDataEntries||t.showFactionHits)?e("div",{},[e("div",{staticClass:"font-weight-bold mb-3"},[t._v("This NPC has the following faction hits ("+t._s(t.commify(t.factionHits.length))+")\n        "),t.factionHits.length>t.maxDataEntries?e("a",{attrs:{href:"javascript:void(0);"},on:{click:function(e){t.showFactionHits=!1}}},[t._v("hide")]):t._e()]),e("ul",{staticStyle:{"padding-left":"20px"}},t._l(t.factionHits,(function(i){return e("li",{staticStyle:{display:"list-item","list-style-type":"circle"}},[t._v("\n          "+t._s(i.name)+" ("+t._s(i.hitValue)+")\n        ")])})),0)]):t._e(),t.factionHits&&t.factionHits.length>0&&t.factionHits.length>t.maxDataEntries&&!t.showFactionHits?e("div",{staticClass:"font-weight-bold"},[t._v("\n      This NPC has ("+t._s(t.commify(t.factionHits.length))+") faction hits, click "),e("a",{attrs:{href:"javascript:void(0);"},on:{click:function(e){t.showFactionHits=!0}}},[t._v("here")]),t._v("to view them all\n    ")]):t._e()]):t._e(),t.npc.loottable_id>0?e("div",{staticClass:"mt-3"},[t.loot&&t.loot.length>0&&(t.loot.length<t.maxDataEntries||t.showLoot)?e("div",{},[e("div",{staticClass:"font-weight-bold mb-3"},[t._v("This NPC drops the following items ("+t._s(t.commify(t.loot.length))+")\n        "),t.loot.length>t.maxDataEntries?e("a",{attrs:{href:"javascript:void(0);"},on:{click:function(e){t.showLoot=!1}}},[t._v("hide")]):t._e()]),t._l(t.loot,(function(i){return e("div",[Object.keys(i.item).length>0&&i.item?e("item-popover",{staticClass:"d-inline-block",attrs:{item:i.item,size:"sm"}}):t._e()],1)}))],2):t._e(),t.loot&&t.loot.length>0&&t.loot.length>t.maxDataEntries&&!t.showLoot?e("div",{staticClass:"font-weight-bold"},[t._v("\n      This NPC drops ("+t._s(t.commify(t.loot.length))+") items, click "),e("a",{attrs:{href:"javascript:void(0);"},on:{click:function(e){t.showLoot=!0}}},[t._v("here")]),t._v("\n      to view them all\n    ")]):t._e()]):t._e(),e("eq-debug",{attrs:{data:t.npc}})],1):t._e()},a=[],n=(i("ac4d"),i("8a81"),i("5df3"),i("1c4c"),i("a481"),i("c5f6"),i("96cf"),i("3b8d")),r=i("dd86"),c=i("01de"),o=i("6023"),l=i("a50e"),d=i("573e"),u=i("8915"),p=i("cd97"),h=i("a78e"),f=i("646b"),m=i("a332"),v=i("7eeb"),y=i("73b7");function b(t,e){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=_(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var s=0,a=function(){};return{s:a,n:function(){return s>=t.length?{done:!0}:{done:!1,value:t[s++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,r=!0,c=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return r=t.done,t},e:function(t){c=!0,n=t},f:function(){try{r||null==i.return||i.return()}finally{if(c)throw n}}}}function _(t,e){if(t){if("string"==typeof t)return g(t,e);var i={}.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?g(t,e):void 0}}function g(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,s=Array(e);i<e;i++)s[i]=t[i];return s}var k={name:"EqNpcCardPreview",components:{ContentFilterDisplayPills:y["a"],ContentFlagPills:v["a"],ExpansionIcon:m["a"],SpellPopover:f["a"],EqCashDisplay:h["a"],ItemPopover:p["a"],EqDebug:r["a"]},data:function(){return{maxDataEntries:15,showLoot:!1,loot:{},merchantitems:[],showMerchantItems:!1,castedSpells:[],showCastedSpells:!1,factionHits:[],showFactionHits:!1,rows:this.getCardRows()}},mounted:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.init();case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),props:{npc:{type:Object,default:{},required:!0},noStats:{type:Boolean,required:!1,default:!1},limitEntries:{type:Number,required:!1,default:20}},watch:{npc:{deep:!0,handler:function(){this.init(),this.rows=this.getCardRows(),this.$forceUpdate()}}},methods:{getRaceImage:function(t){return c["a"].getRaceImage(t)},parseSpecialAbilities:function(t){return c["a"].specialAbilitiesToHuman(t)},commify:function(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},getCleanName:function(){return c["a"].getCleanName(this.npc.name)},getRaceName:function(t){return o["c"][t]},getClassName:function(t){return l["a"][t]},getBodytype:function(){return d["a"][this.npc.bodytype]},getClassIcon:function(){return l["e"][this.npc.class]?l["e"][this.npc.class].icon:""},getRaceIcon:function(){return o["a"][this.npc.race]?o["a"][this.npc.race].icon:""},init:function(){if(console.log("[npc card] rendering for [%s]",this.npc.name),this.npc.merchant_id>0&&this.npc.merchantlists){var t,e=[],i=b(this.npc.merchantlists);try{for(i.s();!(t=i.n()).done;){var s=t.value;!s.items||s.items&&0===s.items.length?console.log("not a valid item"):e.push({item:s.items&&s.items.length>0?s.items[0]:{},entry:s})}}catch(A){i.e(A)}finally{i.f()}this.merchantitems=e}if(this.npc.loottable_id>0&&this.npc.loottable&&this.npc.loottable.loottable_entries){var a,n=[],r=b(this.npc.loottable.loottable_entries);try{for(r.s();!(a=r.n()).done;){var c,o=a.value,l=b(o.lootdrop.lootdrop_entries);try{var d=function(){var t=c.value;t.item&&0===n.filter((function(e){return e.item.id===t.item.id})).length&&n.push({item:t.item})};for(l.s();!(c=l.n()).done;)d()}catch(A){l.e(A)}finally{l.f()}}}catch(A){r.e(A)}finally{r.f()}this.loot=n.sort((function(t,e){return t.item.name.localeCompare(e.item.name)}))}if(this.npc.npc_spells_id>0&&this.npc.npc_spell&&this.npc.npc_spell.npc_spells_entries){var u,p=[],h=b(this.npc.npc_spell.npc_spells_entries);try{var f=function(){var t=u.value;0===p.filter((function(e){return e.spell.id===t.spells_new.id})).length&&p.push({spell:t.spells_new})};for(h.s();!(u=h.n()).done;)f()}catch(A){h.e(A)}finally{h.f()}this.castedSpells=p.sort((function(t,e){return t.spell.name.localeCompare(e.spell.name)}))}if(this.npc.npc_faction_id>0&&this.npc.npc_factions){var m,v=[],y=b(this.npc.npc_factions);try{for(y.s();!(m=y.n()).done;){var _=m.value;if(_.npc_faction_entries){var g,k=b(_.npc_faction_entries);try{var w=function(){var t=g.value;0===v.filter((function(e){return t.name===e.name})).length&&v.push({name:t.faction_list.name,hitValue:t.value})};for(k.s();!(g=k.n()).done;)w()}catch(A){k.e(A)}finally{k.f()}}}}catch(A){y.e(A)}finally{y.f()}this.factionHits=v.sort((function(t,e){return t.name.localeCompare(e.name)}))}console.log("[card preview] no stats",this.noStats),console.log("[card preview] no limit",this.limitEntries),this.limitEntries&&(this.maxDataEntries=this.limitEntries)},getCardRows:function(){return[{columns:[[{icon:"2052",label:"HP",value:this.npc["hp"],showIf:this.npc["hp"]>0},{icon:"2052",label:"(Sec) HP Regen",value:this.npc["hp_regen_per_second"],showIf:this.npc["hp_regen_per_second"]>0},{icon:"2052",label:"(Tic) HP Regen",value:this.npc["hp_regen_rate"],showIf:this.npc["hp_regen_rate"]>0},{icon:"2057",label:"Mana",value:this.npc["mana"],showIf:this.npc["mana"]>0},{icon:"2057",label:"(Tic) Mana Regen",value:this.npc["mana_regen_rate"],showIf:this.npc["mana_regen_rate"]>0}],[{icon:"5388",label:"Armor Class",value:this.npc["ac"],showIf:this.npc["ac"]>0},{icon:"1959",label:"Agility",value:this.npc["agi"],showIf:this.npc["agi"]>0},{icon:"1953",label:"Dexterity",value:this.npc["dex"],showIf:this.npc["dex"]>0},{icon:"1947",label:"Stamina",value:this.npc["sta"],showIf:this.npc["sta"]>0},{icon:"1941",label:"Strength",value:this.npc["str"],showIf:this.npc["str"]>0},{icon:"1965",label:"Charisma",value:this.npc["cha"],showIf:this.npc["cha"]>0},{icon:"1971",label:"Wisdom",value:this.npc["wis"],showIf:this.npc["wis"]>0},{icon:"1977",label:"Intelligence",value:this.npc["_int"],showIf:this.npc["_int"]>0}],[{icon:"2987",label:"Cold Resist",value:this.npc["cr"],showIf:this.npc["cr"]>0},{icon:"2994",label:"Disease Resist",value:this.npc["dr"],showIf:this.npc["dr"]>0},{icon:"2988",label:"Fire Resist",value:this.npc["fr"],showIf:this.npc["fr"]>0},{icon:"2984",label:"Magic Resist",value:this.npc["mr"],showIf:this.npc["mr"]>0},{icon:"2986",label:"Poison Resist",value:this.npc["pr"],showIf:this.npc["pr"]>0},{icon:"2995",label:"Corrup. Resist",value:this.npc["corrup"],showIf:this.npc["corrup"]>0},{icon:"2982",label:"Physical Resist",value:this.npc["ph_r"],showIf:this.npc["ph_r"]>0}]]},{columns:[[{icon:"",label:"See Hide",value:this.npc["see_hide"]?"Yes":"No",showIf:this.npc["see_hide"]>0},{icon:"",label:"See Improved Hide",value:this.npc["see_improved_hide"]?"Yes":"No",showIf:this.npc["see_improved_hide"]>0},{icon:"",label:"See Invisible",value:this.npc["see_invis"]?"Yes":"No",showIf:this.npc["see_invis"]>0},{icon:"",label:"See Invis Undead",value:this.npc["see_invis_undead"]?"Yes":"No",showIf:this.npc["see_invis_undead"]>0},{icon:"",label:"Show Name",value:this.npc["show_name"]?"Yes":"No",showIf:this.npc["show_name"]>0},{icon:"",label:"Skip Global Loot",value:this.npc["skip_global_loot"]?"Yes":"No",showIf:this.npc["skip_global_loot"]>0},{icon:"",label:"Spawn Limit",value:this.npc["spawn_limit"],showIf:this.npc["spawn_limit"]>0},{icon:"",label:"Trackable",value:this.npc["trackable"]?"Yes":"No",showIf:this.npc["trackable"]>0},{icon:"",label:"Stuck Behavior",value:this.npc["stuck_behavior"],showIf:this.npc["stuck_behavior"]>0},{icon:"",label:"No Target Hotkey",value:this.npc["no_target_hotkey"]?"Yes":"No",showIf:this.npc["no_target_hotkey"]>0},{icon:"",label:"Flymode",value:u["a"][this.npc["flymode"]]?u["a"][this.npc["flymode"]]:"",showIf:this.npc["flymode"]>0},{icon:"",label:"Findable",value:this.npc["findable"]?"Yes":"No",showIf:this.npc["findable"]>0},{icon:"",label:"Untargetable",value:this.npc["untargetable"]?"Yes":"No",showIf:this.npc["untargetable"]>0},{icon:"",label:"Underwater",value:this.npc["underwater"]?"Yes":"No",showIf:this.npc["underwater"]>0},{icon:"",label:"Unique Spawn By Name",value:this.npc["unique_spawn_by_name"]?"Yes":"No",showIf:this.npc["unique_spawn_by_name"]>0},{icon:"",label:"QGlobals Enabled",value:this.npc["qglobal"]?"Yes":"No",showIf:this.npc["qglobal"]>0},{icon:"",label:"Ignore Despawn",value:this.npc["ignore_despawn"]?"Yes":"No",showIf:this.npc["ignore_despawn"]>0},{icon:"",label:"Experience Modifier",value:this.npc["exp_mod"],showIf:100!==this.npc["exp_mod"]},{icon:"",label:"Bot NPC",value:this.npc["isbot"]?"Yes":"No",showIf:this.npc["isbot"]>0},{icon:"",label:"Quest NPC",value:this.npc["isquest"]?"Yes":"No",showIf:this.npc["isquest"]>0}],[],[{icon:"2087",label:"Min Damage",value:this.npc["mindmg"]},{icon:"2087",label:"Max Damage",value:this.npc["maxdmg"]},{icon:"2090",label:"Attack Count",value:this.npc["attack_count"],showIf:-1!==this.npc["attack_count"]},{icon:"2095",label:"Attack Delay",value:this.npc["attack_delay"]},{icon:"2102",label:"Attack Speed",value:this.npc["attack_speed"]},{icon:"778",label:"Heal Scale",value:this.npc["healscale"]+"%",showIf:100!==this.npc["healscale"]},{icon:"777",label:"Spell Scale",value:this.npc["spellscale"]+"%",showIf:100!==this.npc["spellscale"]},{icon:"778",label:"Scale Rate",value:this.npc["scalerate"]+"%",showIf:100!==this.npc["scalerate"]},{icon:"590",label:"Attack",value:this.npc["atk"],showIf:this.npc["atk"]>0},{icon:"597",label:"Accuracy",value:this.npc["accuracy"],showIf:this.npc["accuracy"]>0},{icon:"3656",label:"Avoidance",value:this.npc["avoidance"],showIf:this.npc["avoidance"]>0},{icon:"5388",label:"Charm Armor Class",value:this.npc["charm_ac"],showIf:this.npc["charm_ac"]>0},{icon:"597",label:"Charm Accuracy",value:this.npc["charm_accuracy_rating"],showIf:this.npc["charm_accuracy_rating"]>0},{icon:"590",label:"Charm Attack",value:this.npc["charm_atk"],showIf:this.npc["charm_atk"]>0},{icon:"2095",label:"Charm Attack Delay",value:this.npc["charm_attack_delay"],showIf:this.npc["charm_attack_delay"]>0},{icon:"3656",label:"Charm Avoidance",value:this.npc["charm_avoidance_rating"],showIf:this.npc["charm_avoidance_rating"]>0},{icon:"2087",label:"Charm Min Damage",value:this.npc["charm_min_dmg"],showIf:this.npc["charm_min_dmg"]>0},{icon:"2087",label:"Charm Max Damage",value:this.npc["charm_max_dmg"],showIf:this.npc["charm_max_dmg"]>0}]]}]}}},w=k,A=i("2877"),x=Object(A["a"])(w,s,a,!1,null,"3303983e",null);e["a"]=x.exports},a25c:function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return t.mask>=0?e("div",{staticClass:"row"},[e("div",{staticClass:"ml-1 mr-3 d-inline-block text-center",style:t.centeredButtons?"width: 100%":""},[t._l(t.races,(function(i,s){return e("div",{staticClass:"text-center d-inline-block"},[e("div",{staticClass:"text-center p-0 mr-1 col-lg-12 col-sm-12"},[t.showTextTop?e("span",[t._v(t._s(i.short))]):t._e(),e("div",{staticClass:"text-center"},[e("span",{class:"hover-highlight-inner item-"+i.icon+" "+(t.isRaceSelected(s)?"highlight-selected-inner":""),style:t.isRaceSelected(s)?"border-radius: 3px;":"border-radius: 3px; opacity: .6",attrs:{title:i.race},on:{click:function(e){return t.selectRace(s)}}})])])])})),t.displayAllNone?e("div",{staticClass:"d-inline-block",style:"line-height: 25px; bottom: "+(t.centeredButtons?-10:15)+"px; position: relative;"},[e("div",{class:"text-center mt-2 btn-xs eq-button-fancy "+(parseInt(t.mask)>=65535?"eq-button-fancy-highlighted":""),on:{click:function(e){return t.selectAll()}}},[t._v("\n        All\n      ")]),e("div",{class:"text-center mt-2 btn-xs eq-button-fancy "+(0===parseInt(t.mask)?"eq-button-fancy-highlighted":""),on:{click:function(e){return t.selectNone()}}},[t._v("\n        None\n      ")])]):t._e()],2)]):t._e()},a=[],n=(i("456d"),i("ac6a"),i("c5f6"),i("6023")),r=i("3022"),c=i.n(r),o={name:"RaceBitmaskCalculator",props:{debug:{type:Boolean,required:!1},mask:{type:Number,required:!1},displayAllNone:{type:Boolean,required:!1,default:!0},centeredButtons:{type:Boolean,required:!1,default:!0},showTextTop:{type:Boolean,required:!1,default:!0},imageSize:{type:Number,required:!1,default:50}},watch:{mask:{immediate:!0,handler:function(t,e){this.currentMask=parseInt(this.mask),this.calculateFromBitmask()}}},data:function(){return{races:n["a"],selectedRaces:{},currentMask:0}},mounted:function(){this.currentMask=parseInt(this.mask),this.calculateFromBitmask()},methods:{getImageSize:function(){return c.a.format("width: %spx; height %spx;",this.imageSize,this.imageSize)},selectAll:function(){var t=this;Object.keys(this.races).reverse().forEach((function(e){t.selectedRaces[e]=!0})),this.$forceUpdate(),this.calculateToBitmask()},selectNone:function(){var t=this;Object.keys(this.races).reverse().forEach((function(e){t.selectedRaces[e]=!1})),this.$forceUpdate(),this.calculateToBitmask()},calculateFromBitmask:function(){var t=this;Object.keys(this.races).reverse().forEach((function(e){var i=t.races[e];t.selectedRaces[e]=!1,t.currentMask>=i.mask&&(t.currentMask-=i.mask,t.selectedRaces[e]=!0)})),this.$forceUpdate()},calculateToBitmask:function(){var t=this,e=0;Object.keys(this.races).reverse().forEach((function(i){var s=t.races[i];t.selectedRaces[i]&&(e+=parseInt(s.mask))})),this.$emit("update:inputData",parseInt(e)),this.$emit("input",parseInt(e)),this.$emit("fired","true")},selectRace:function(t){this.selectedRaces[t]=!this.selectedRaces[t],this.$forceUpdate(),this.calculateToBitmask()},isRaceSelected:function(t){return this.selectedRaces[t]}}},l=o,d=i("2877"),u=Object(d["a"])(l,s,a,!1,null,"210202d6",null);e["a"]=u.exports},a2aa:function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));var s=i("d225"),a=i("b0b4"),n=function(){function t(){Object(s["a"])(this,t)}return Object(a["a"])(t,null,[{key:"copyFromText",value:function(t){var e=document.createElement("textarea");e.value=t,e.setAttribute("readonly",""),e.style.position="absolute",e.style.left="-9999px",document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e)}},{key:"copyFromElement",value:function(t){var e=document.getElementById(t);if(e){var i=e.innerText,s=document.createElement("textarea");s.value=i,s.setAttribute("readonly",""),s.style.position="absolute",s.style.left="-9999px",document.body.appendChild(s),s.select(),document.execCommand("copy"),document.body.removeChild(s)}}}])}()},a332:function(t,e,i){"use strict";i("6762"),i("2fdb");var s=function(){var t=this,e=t._self._c;return t.getExpansionIcon(t.expansion).includes("base64")?t._e():e("img",{staticClass:"mr-2 p-1 hover-highlight-inner",style:"width: 56px; opacity: .7; border: 2px solid rgb(218 218 218 / 30%); border-radius: 7px;",attrs:{alt:t.getExpansionName(t.expansion),title:t.title+t.getExpansionName(t.expansion)+" ("+t.expansion+")",src:t.getExpansionIcon(t.expansion)}})},a=[],n=(i("c5f6"),i("26df")),r={name:"ExpansionIcon",props:{expansion:{type:Number,required:!0},title:{type:String,required:!1,default:""}},methods:{getExpansionIcon:function(t){return n["a"].getExpansionIconUrlSmall(t)},getExpansionName:function(t){return n["a"].getExpansionName(t)}}},c=r,o=i("2877"),l=Object(o["a"])(c,s,a,!1,null,"54580cb1",null);e["a"]=l.exports},a8a3:function(t,e,i){},ae45:function(t,e){function i(t,e,i){var s,a,n,r,c;function o(){var l=Date.now()-r;l<e&&l>=0?s=setTimeout(o,e-l):(s=null,i||(c=t.apply(n,a),n=a=null))}null==e&&(e=100);var l=function(){n=this,a=arguments,r=Date.now();var l=i&&!s;return s||(s=setTimeout(o,e)),l&&(c=t.apply(n,a),n=a=null),c};return l.clear=function(){s&&(clearTimeout(s),s=null)},l.flush=function(){s&&(c=t.apply(n,a),n=a=null,clearTimeout(s),s=null)},l}i.debounce=i,t.exports=i},b51d:function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return t.mask>=0?e("div",{staticClass:"row"},[e("div",{staticClass:"ml-1 mr-3 d-inline-block",style:t.centeredButtons?"width: 100%; margin: 0;":""},[t._l(t.classes,(function(i,s){return e("div",{staticClass:"d-inline-block"},[e("div",{staticClass:"text-center p-0 mr-1 col-lg-12 col-sm-12"},[t.showTextTop?e("span",[t._v(t._s(i.short))]):t._e(),e("div",{staticClass:"text-center"},[e("span",{class:"hover-highlight-inner item-"+i.icon+" "+(t.isClassSelected(s)?"highlight-selected-inner":""),style:t.isClassSelected(s)?"border-radius: 3px;":"border-radius: 3px; opacity: .6",attrs:{title:i.class},on:{click:function(e){return t.selectClass(s)}}})])])])})),t.displayAllNone?e("div",{staticClass:"d-inline-block",style:"line-height: 25px; bottom: "+(t.centeredButtons?-10:15)+"px; position: relative;"},[e("div",{class:"text-center mt-2 btn-xs eq-button-fancy "+(parseInt(t.mask)>=65535&&!this.isOnlySelectedAndEnabled()?"eq-button-fancy-highlighted":""),on:{click:function(e){return t.selectAll()}}},[t._v("\n        All\n      ")]),e("div",{class:"text-center mt-2 btn-xs eq-button-fancy "+(0!==parseInt(t.mask)||this.isOnlySelectedAndEnabled()?"":"eq-button-fancy-highlighted"),on:{click:function(e){return t.selectNone()}}},[t._v("\n        None\n      ")]),t.addOnlyButtonEnabled?e("div",{class:"text-center mt-2 btn-xs eq-button-fancy "+(this.onlySelected?"eq-button-fancy-highlighted":""),attrs:{title:"When this is selected, only entries selected will appear in the results"},on:{click:function(e){return t.selectOnly()}}},[t._v("\n        Only\n      ")]):t._e()]):t._e()],2)]):t._e()},a=[],n=(i("456d"),i("ac6a"),i("c5f6"),i("4ac1"),i("a50e")),r=(i("3022"),{name:"ClassBitmaskCalculator",props:{debug:{type:Boolean,required:!1},mask:{type:Number,required:!1},displayAllNone:{type:Boolean,required:!1,default:!0},centeredButtons:{type:Boolean,required:!1,default:!0},showTextTop:{type:Boolean,required:!1,default:!0},showTextSide:{type:Boolean,required:!1,default:!1},addOnlyButtonEnabled:{type:Boolean,required:!1,default:!1},addOnlyStateEnabled:{type:Boolean,required:!1,default:!1}},watch:{mask:{immediate:!0,handler:function(t,e){this.currentMask=parseInt(this.mask),this.calculateFromBitmask()}}},data:function(){return{classes:n["e"],selectedClasses:{},currentMask:0,onlySelected:!1}},mounted:function(){var t=this;setTimeout((function(){t.addOnlyButtonEnabled&&t.addOnlyStateEnabled&&(t.onlySelected=!0)}),100),this.currentMask=parseInt(this.mask),this.calculateFromBitmask()},methods:{isOnlySelectedAndEnabled:function(){return this.addOnlyButtonEnabled&&this.onlySelected},selectOnly:function(){this.selectNone(),console.log("selecting only"),this.onlySelected=!0},selectAll:function(){var t=this;this.onlySelected=!1,Object.keys(this.classes).reverse().forEach((function(e){t.selectedClasses[e]=!0})),this.$forceUpdate(),this.calculateToBitmask()},selectNone:function(){var t=this;this.onlySelected=!1,Object.keys(this.classes).reverse().forEach((function(e){t.selectedClasses[e]=!1})),this.$forceUpdate(),this.calculateToBitmask()},calculateFromBitmask:function(){var t=this;Object.keys(this.classes).reverse().forEach((function(e){var i=t.classes[e];t.selectedClasses[e]=!1,t.currentMask>=i.mask&&(t.currentMask-=i.mask,t.selectedClasses[e]=!0)})),this.$forceUpdate()},calculateToBitmask:function(){var t=this,e=0;Object.keys(this.classes).reverse().forEach((function(i){var s=t.classes[i];t.selectedClasses[i]&&(e+=parseInt(s.mask))})),this.$emit("update:inputData",parseInt(e)),this.$emit("selectOnly",this.onlySelected),this.$emit("input",parseInt(e)),this.$emit("fired","true")},selectClass:function(t){var e=this;this.isOnlySelectedAndEnabled()&&Object.keys(this.classes).forEach((function(t){e.selectedClasses[t]=!1})),this.selectedClasses[t]=!this.selectedClasses[t],this.$forceUpdate(),this.calculateToBitmask()},isClassSelected:function(t){return this.selectedClasses[t]}}}),c=r,o=i("2877"),l=Object(o["a"])(c,s,a,!1,null,"510851bf",null);e["a"]=l.exports},bd86:function(t,e,i){"use strict";i.d(e,"a",(function(){return r}));var s=i("454f"),a=i.n(s),n=i("a6fa");function r(t,e,i){return(e=Object(n["a"])(e))in t?a()(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}},bdac:function(t,e,i){"use strict";i.d(e,"a",(function(){return s}));var s={CONTINUE:100,SWITCHING_PROTOCOLS:101,PROCESSING:102,EARLY_HINTS:103,OK:200,CREATED:201,ACCEPTED:202,NON_AUTHORITATIVE_INFORMATION:203,NO_CONTENT:204,RESET_CONTENT:205,PARTIAL_CONTENT:206,MULTI_STATUS:207,ALREADY_REPORTED:208,IM_USED:226,MULTIPLE_CHOICES:300,MOVED_PERMANENTLY:301,FOUND:302,SEE_OTHER:303,NOT_MODIFIED:304,USE_PROXY:305,TEMPORARY_REDIRECT:307,PERMANENT_REDIRECT:308,BAD_REQUEST:400,UNAUTHORIZED:401,PAYMENT_REQUIRED:402,FORBIDDEN:403,NOT_FOUND:404,METHOD_NOT_ALLOWED:405,NOT_ACCEPTABLE:406,PROXY_AUTHENTICATION_REQUIRED:407,REQUEST_TIMEOUT:408,CONFLICT:409,GONE:410,LENGTH_REQUIRED:411,PRECONDITION_FAILED:412,PAYLOAD_TOO_LARGE:413,URI_TOO_LONG:414,UNSUPPORTED_MEDIA_TYPE:415,RANGE_NOT_SATISFIABLE:416,EXPECTATION_FAILED:417,IM_A_TEAPOT:418,MISDIRECTED_REQUEST:421,UNPROCESSABLE_ENTITY:422,LOCKED:423,FAILED_DEPENDENCY:424,TOO_EARLY:425,UPGRADE_REQUIRED:426,PRECONDITION_REQUIRED:428,TOO_MANY_REQUESTS:429,REQUEST_HEADER_FIELDS_TOO_LARGE:431,UNAVAILABLE_FOR_LEGAL_REASONS:451,INTERNAL_SERVER_ERROR:500,NOT_IMPLEMENTED:501,BAD_GATEWAY:502,SERVICE_UNAVAILABLE:503,GATEWAY_TIMEOUT:504,HTTP_VERSION_NOT_SUPPORTED:505,VARIANT_ALSO_NEGOTIATES:506,INSUFFICIENT_STORAGE:507,LOOP_DETECTED:508,BANDWIDTH_LIMIT_EXCEEDED:509,NOT_EXTENDED:510,NETWORK_AUTHENTICATION_REQUIRED:511}},bdc3:function(t,e,i){},be62:function(t,e,i){},c4af:function(t,e,i){"use strict";i("ac6a"),i("456d");var s=function(){var t=this,e=t._self._c;return e("div",[t.items&&0===t.items.length?e("div",{staticClass:"eq-window-simple text-center"},[t._v("\n    No items were found\n  ")]):t._e(),t.items.length>0?e("eq-window-simple",{staticClass:"mt-3 p-0",staticStyle:{"overflow-x":"scroll",height:"85vh","overflow-y":"scroll"}},[t.items.length>0?e("div",{staticClass:"item-table"},[e("table",{staticClass:"eq-table bordered eq-highlight-rows",staticStyle:{display:"table","overflow-x":"scroll"},attrs:{id:"spell-items-table-selector"}},[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"center",width:"50px"}}),e("th",{staticClass:"text-center",staticStyle:{"text-align":"center",width:"50px"}},[t._v("Id")]),e("th",{staticStyle:{"text-align":"center"}},[t._v("Name")])])]),e("tbody",t._l(t.items,(function(i,s){return e("tr",{key:i.id,class:t.isItemSelected(i)?"pulsate-highlight-white":"",attrs:{id:"item-selection-row-"+i.id}},[e("td",[e("div",{staticClass:"btn-group",attrs:{role:"group"}},[e("b-button",{staticClass:"btn-dark btn-sm btn-dark",on:{click:function(e){return t.selectItem(i)}}},[e("i",{staticClass:"fa fa-arrow-left"})])],1)]),e("td",[t._v("\n            "+t._s(i.id)+"\n          ")]),e("td",{staticClass:"text-left",staticStyle:{"vertical-align":"middle"}},[Object.keys(i).length>0&&i?e("item-popover",{attrs:{item:i,size:"regular"}}):t._e()],1)])})),0)])]):t._e()]):t._e()],1)},a=[],n=(i("ac4d"),i("8a81"),i("5df3"),i("1c4c"),i("7f7f"),i("6b54"),i("768b")),r=(i("ffc1"),i("96cf"),i("3b8d")),c=i("5201"),o=i("935a"),l=i("4ac1"),d=i("f4a8"),u=i("a50e"),p=i("7dc0"),h=i("093e"),f=i("cd97");function m(t,e){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=v(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var s=0,a=function(){};return{s:a,n:function(){return s>=t.length?{done:!0}:{done:!1,value:t[s++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,r=!0,c=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return r=t.done,t},e:function(t){c=!0,n=t},f:function(){try{r||null==i.return||i.return()}finally{if(c)throw n}}}}function v(t,e){if(t){if("string"==typeof t)return y(t,e);var i={}.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?y(t,e):void 0}}function y(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,s=Array(e);i<e;i++)s[i]=t[i];return s}var b={name:"TaskItemPreviewTable",components:{ItemPopover:f["a"],EqWindowSimple:h["a"],EqWindow:o["a"],"eq-item-card-preview":function(){return Promise.resolve().then(i.bind(null,"ec53"))},"v-runtime-template":function(){return i.e("chunk-2d2293ca").then(i.bind(null,"dd1e"))}},data:function(){return{debug:l["a"].DEBUG,debugItemEffects:!1,itemCdnUrl:l["a"].ASSET_ITEM_ICON_BASE_URL,itemEffectInfo:[],itemData:{},sideLoadedItemData:{},componentId:"",reagents:[],effectDescription:"",recourseLink:"",title:"",itemMinis:{},dbClassIcons:d["a"],dbClassesShort:u["b"],highlightedItem:0}},created:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.sideLoadedItemData=c["a"].data;case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),mounted:function(){if(console.log("mounted"),this.items.length>0){var t=document.getElementById("spell-items-table-selector");t&&setTimeout((function(){new p["a"](t)}),100)}},props:{items:Array},methods:{selectItem:function(t){this.$emit("input",t),this.highlightedItem=t.id},isItemSelected:function(t){return t.id===this.highlightedItem},getClasses:function(t){var e,i=[],s=t.classes,a=m(Object.entries(u["c"]).reverse());try{for(a.s();!(e=a.n()).done;){var r=Object(n["a"])(e.value,2),c=r[0],o=r[1];c<=s&&(s-=c,i.push(o))}}catch(l){a.e(l)}finally{a.f()}return t.classes>=65535?"ALL":i.join(", ").trim()}}},_=b,g=(i("9e5c"),i("2877")),k=Object(g["a"])(_,s,a,!1,null,"40cbd934",null);e["a"]=k.exports},c667:function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",{directives:[{name:"show",rawName:"v-show",value:t.isActive,expression:"isActive"}]},[t._t("default")],2)},a=[],n=(i("7f7f"),i("a481"),{name:"EqTab",props:{name:{required:!0},selected:{default:!1}},data:function(){return{isActive:!1}},computed:{href:function(){return"#"+this.name.toLowerCase().replace(/ /g,"-")}},mounted:function(){this.isActive=this.selected}}),r=n,c=i("2877"),o=Object(c["a"])(r,s,a,!1,null,"53131fc1",null);e["a"]=o.exports},c73e:function(t,e,i){"use strict";i("7f7f");var s=function(){var t=this,e=t._self._c;return e("div",[t.freeIds?e("eq-tabs",[e("eq-tab",{attrs:{name:"Free ID Ranges ("+t.freeIds.length+")",selected:"true"}},[e("div",{staticClass:"col-12 text-center",staticStyle:{height:"80vh","overflow-y":"scroll"}},[e("div",{staticClass:"mb-3 mt-3"},[t._v("These are unused IDs with contiguous blocks of 10 at minimum")]),t._l(t.freeIds,(function(i){return e("div",{key:i.start_id,staticClass:"mt-2 row"},[e("div",{staticClass:"col-5 text-right pr-0"},[e("b-button",{staticClass:"btn-dark btn-sm btn-dark",on:{click:function(e){return t.selectId(i.start_id)}}},[t._v("\n              Use "+t._s(i.start_id)+"\n            ")])],1),e("div",{staticClass:"col-2 pl-0 pr-0"},[t._v("\n            "+t._s(i.end_id-i.start_id)+" Free\n          ")]),e("div",{staticClass:"col-5 text-left pl-0"},[e("b-button",{staticClass:"btn-dark btn-sm btn-dark",on:{click:function(e){return t.selectId(i.end_id)}}},[t._v("\n              Use "+t._s(i.end_id)+"\n            ")])],1)])}))],2)]),t.withReserved?e("eq-tab",{attrs:{name:"Reserved ID Ranges ("+t.freeIdsReserved.length+")"}},[e("div",{staticClass:"col-12 text-center",staticStyle:{height:"80vh","overflow-y":"scroll"}},[e("div",{staticClass:"mb-3 mt-3"},[t._v('These are reserved IDs with "placeholder" or "reserved" in the name')]),t._l(t.freeIdsReserved,(function(i){return e("div",{key:i.start_id,staticClass:"mt-2 row"},[e("div",{staticClass:"col-12 text-center pr-0"},[e("b-button",{staticClass:"btn-dark btn-sm btn-dark",on:{click:function(e){return t.selectId(i.id)}}},[t._v("\n              Use "+t._s(i.id)+" ("+t._s(i.name)+")\n            ")])],1)])}))],2)]):t._e()],1):t._e()],1)},a=[],n=i("0d95"),r=i("3022"),c=i("4bcf"),o=i("c667"),l={name:"FreeIdSelector",components:{EqTab:o["a"],EqTabs:c["a"]},data:function(){return{freeIds:[],freeIdsReserved:[]}},props:{tableName:{type:String,required:!0},idName:{type:String,required:!0},nameLabel:{type:String,required:!1},withReserved:{type:Boolean,default:!1,required:!1}},methods:{selectId:function(t){this.$emit("input",parseInt(t))}},mounted:function(){var t=this;n["SpireApi"].v1().get(r["format"]("query/free-id-ranges/%s/%s",this.tableName,this.idName)).then((function(e){e.data&&e.data.data&&(t.freeIds=e.data.data)})),this.withReserved&&n["SpireApi"].v1().get(r["format"]("query/free-ids-reserved/%s/%s/%s",this.tableName,this.idName,this.nameLabel)).then((function(e){e.data&&e.data.data&&(t.freeIdsReserved=e.data.data)}))}},d=l,u=i("2877"),p=Object(u["a"])(d,s,a,!1,null,"00653fb8",null);e["a"]=p.exports},cbc6:function(t,e,i){},cd1c:function(t,e,i){var s=i("e853");t.exports=function(t,e){return new(s(t))(e)}},cd97:function(t,e,i){"use strict";i("7f7f");var s=function(){var t=this,e=t._self._c;return t.item?e("div",[e("div",{staticStyle:{display:"inline-block"},attrs:{id:t.item.id+"-"+t.popoverId+"-popover"}},[e("span",{class:"item-"+t.item.icon+("regular"===this.size?"":"-sm"),staticStyle:{display:"inline-block"},attrs:{title:t.item.icon}}),e("span",{class:"sm"===t.size?"ml-2":"ml-3",style:"position:relative;"+("regular"===this.size?"top: -15px":"")},[t._v(t._s(t.item.name)+" "+t._s(t.annotation)+" "),t._t("default")],2)]),e("b-popover",{staticStyle:{width:"500px !important"},attrs:{target:t.item.id+"-"+t.popoverId+"-popover","custom-class":"no-bg",placement:"right",delay:"0",boundary:"viewport","no-fade":!0,triggers:"hover focus"}},[e("eq-window",{staticStyle:{width:"auto",height:"100%"}},[e("eq-item-card-preview",{attrs:{"item-data":t.item,"show-related-data":t.showRelatedData}})],1)],1)],1):t._e()},a=[],n=(i("6b54"),i("935a")),r=(i("5201"),i("ec53")),c={name:"ItemPopover",props:{item:Object,size:{type:String,required:!1,default:"sm"},annotation:{type:String,required:!1,default:""},showRelatedData:{type:Boolean,required:!1,default:!1}},data:function(){return{popoverId:Math.random().toString(16).slice(2),itemEffectInfo:[]}},components:{EqItemCardPreview:r["default"],EqWindow:n["a"]}},o=c,l=i("2877"),d=Object(l["a"])(o,s,a,!1,null,"423115ce",null);e["a"]=d.exports},d927:function(t,e,i){},d932:function(t,e,i){"use strict";i("a8a3")},dd40:function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},e853:function(t,e,i){var s=i("d3f4"),a=i("1169"),n=i("2b4c")("species");t.exports=function(t){var e;return a(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!a(e.prototype)||(e=void 0),s(e)&&(e=e[n],null===e&&(e=void 0))),void 0===e?Array:e}},ef1f:function(t,e,i){"use strict";i("7f7f");var s=function(){var t=this,e=t._self._c;return t.mask>=0?e("div",{staticClass:"pl-1 row"},[e("div",{staticClass:"mr-3 d-inline-block text-center",style:t.centeredButtons?"width: 100%":""},[t._l(t.deities,(function(i,s){return e("div",{staticClass:"text-center d-inline-block"},[e("div",{staticClass:"text-center pl-0 pr-0 mr-1 col-lg-12 col-sm-12"},[t.showNames?e("small",{style:i.short.length>8?"font-size: 9px":"font-size: 11px"},[t._v(t._s(i.short))]):t._e(),e("div",{staticClass:"text-center"},[e("span",{class:"hover-highlight-inner item-"+i.icon+" "+(t.isDeitySelected(s)?"highlight-selected-inner":""),style:t.isDeitySelected(s)?"border-radius: 3px;":"border-radius: 3px; opacity: .6",attrs:{title:i.name},on:{click:function(e){return t.selectDeity(s)}}})])])])})),t.displayAllNone?e("div",{staticClass:"d-inline-block",style:"line-height: 25px; bottom: "+(t.centeredButtons?-10:15)+"px; position: relative;"},[e("div",{class:"text-center mt-2 btn-xs eq-button-fancy "+(parseInt(t.mask)>=65535?"eq-button-fancy-highlighted":""),on:{click:function(e){return t.selectAll()}}},[t._v("\n        All\n      ")]),e("div",{class:"text-center mt-2 btn-xs eq-button-fancy "+(0===parseInt(t.mask)?"eq-button-fancy-highlighted":""),on:{click:function(e){return t.selectNone()}}},[t._v("\n        None\n      ")])]):t._e()],2)]):t._e()},a=[],n=(i("456d"),i("ac6a"),i("c5f6"),i("4ac1"),i("88e6")),r=(i("3022"),{name:"DeityBitmaskCalculator",props:{debug:{type:Boolean,required:!1},mask:{type:Number,required:!1},displayAllNone:{type:Boolean,required:!1,default:!0},centeredButtons:{type:Boolean,required:!1,default:!0},showNames:{type:Boolean,required:!1,default:!0}},watch:{mask:{immediate:!0,handler:function(t,e){this.currentMask=parseInt(this.mask),this.calculateFromBitmask()}}},data:function(){return{deities:n["b"],selectedDeityes:{},currentMask:0}},mounted:function(){this.currentMask=parseInt(this.mask),this.calculateFromBitmask()},methods:{selectAll:function(){var t=this;Object.keys(this.deities).reverse().forEach((function(e){t.selectedDeityes[e]=!0})),this.$forceUpdate(),this.calculateToBitmask()},selectNone:function(){var t=this;Object.keys(this.deities).reverse().forEach((function(e){t.selectedDeityes[e]=!1})),this.$forceUpdate(),this.calculateToBitmask()},calculateFromBitmask:function(){var t=this;Object.keys(this.deities).reverse().forEach((function(e){var i=t.deities[e];t.selectedDeityes[e]=!1,t.currentMask>=i.mask&&(t.currentMask-=i.mask,t.selectedDeityes[e]=!0)})),this.$forceUpdate()},calculateToBitmask:function(){var t=this,e=0;Object.keys(this.deities).reverse().forEach((function(i){var s=t.deities[i];t.selectedDeityes[i]&&(e+=parseInt(s.mask))})),this.$emit("update:inputData",parseInt(e)),this.$emit("input",parseInt(e)),this.$emit("fired","true")},selectDeity:function(t){this.selectedDeityes[t]=!this.selectedDeityes[t],this.$forceUpdate(),this.calculateToBitmask()},isDeitySelected:function(t){return this.selectedDeityes[t]}}}),c=r,o=i("2877"),l=Object(o["a"])(c,s,a,!1,null,"c5a7ead4",null);e["a"]=l.exports},f576:function(t,e,i){"use strict";var s=i("5ca1"),a=i("2e08"),n=i("a25f"),r=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(n);s(s.P+s.F*r,"String",{padStart:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0,!0)}})},fb61:function(t,e,i){"use strict";i("7f7f");var s=function(){var t=this,e=t._self._c;return t.npc?e("div",[e("div",{staticStyle:{display:"inline-block",position:"relative"},attrs:{id:t.npc.id+"-"+t.popoverId+"-popover"}},[t.showImage?e("div",{staticClass:"d-inline-block ml-3 text-center",staticStyle:{width:"60px",height:"50px"}},[e("span",{class:"race-models-ctn-"+t.getRaceImage(t.npc)+"-sm",staticStyle:{top:"50%",filter:"drop-shadow(10px 5px 5px #000)"}})]):t._e(),t.showLabel?e("span",{class:(t.showImage?"ml-3":"")+" d-inline-block",style:t.showImage?"top: 30%; position: absolute; min-width: 300px":""},[t._v("\n      "+t._s(t.getCleanName(t.npc.name))+" "+t._s(t.formatLastName(t.npc.lastname))+" "+t._s(t.additionalLabel?t.additionalLabel:"")+"\n    ")]):t._e(),t._t("default")],2),t.popoverEnabled?e("b-popover",{attrs:{target:t.npc.id+"-"+t.popoverId+"-popover","custom-class":"no-bg",placement:"right",delay:"0",boundary:"viewport","no-fade":!0,triggers:"hover focus"}},[e("eq-window",{staticStyle:{width:"650px",height:"100%"}},[e("eq-npc-card-preview",{attrs:{"limit-entries":t.limitEntries,"no-stats":t.noStats,npc:t.npc}})],1)],1):t._e()],1):t._e()},a=[],n=(i("6b54"),i("c5f6"),i("935a")),r=i("a006"),c=i("01de"),o={name:"npcPopover",props:{npc:Object,size:{type:String,required:!1,default:"sm"},additionalLabel:{type:String,required:!1},showImage:{type:Boolean,required:!1,default:!0},noStats:{type:Boolean,required:!1,default:!1},showLastName:{type:Boolean,required:!1,default:!0},limitEntries:{type:Number,required:!1,default:20},showLabel:{type:Boolean,required:!1,default:!0},popoverEnabled:{type:Boolean,required:!1,default:!0}},watch:{npc:{deep:!0,handler:function(){}}},mounted:function(){console.log("[popover] no limit",this.noLimitEntries)},methods:{formatLastName:function(t){return this.showLastName&&t&&t.length>0?" (".concat(t,")"):""},getRaceImage:function(t){return c["a"].getRaceImage(t)},getCleanName:function(t){return c["a"].getCleanName(t)}},data:function(){return{popoverId:Math.random().toString(16).slice(2),npcEffectInfo:[],sideLoadednpcData:{}}},components:{EqNpcCardPreview:r["a"],EqWindow:n["a"]}},l=o,d=i("2877"),u=Object(d["a"])(l,s,a,!1,null,"0d2146b0",null);e["a"]=u.exports},fe72:function(t,e,i){"use strict";i("71ac")}}]);