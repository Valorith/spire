(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4ad38676"],{"02f6":function(e,t,n){"use strict";var r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"container-fluid content-area"},[t("div",{staticClass:"panel-body"},[t("div",{staticClass:"panel panel-default"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-12 mt-3"},[e._t("default")],2)])])])])},i=[],a={name:"ContentArea"},c=a,s=n("2877"),o=Object(s["a"])(c,r,i,!1,null,"4665fdac",null);t["a"]=o.exports},"0a49":function(e,t,n){var r=n("9b43"),i=n("626a"),a=n("4bf8"),c=n("9def"),s=n("cd1c");e.exports=function(e,t){var n=1==e,o=2==e,l=3==e,u=4==e,f=6==e,h=5==e||f,d=t||s;return function(t,s,p){for(var g,v,b=a(t),m=i(b),y=r(s,p,3),w=c(m.length),k=0,x=n?d(t,w):o?d(t,0):void 0;w>k;k++)if((h||k in m)&&(g=m[k],v=y(g,k,b),e))if(n)x[k]=v;else if(v)switch(e){case 3:return!0;case 5:return g;case 6:return k;case 2:x.push(g)}else if(u)return!1;return f?-1:l||u?u:x}}},"1af6":function(e,t,n){var r=n("63b6");r(r.S,"Array",{isArray:n("9003")})},"20fd":function(e,t,n){"use strict";var r=n("d9f6"),i=n("aebd");e.exports=function(e,t,n){t in e?r.f(e,t,i(0,n)):e[t]=n}},"2f9c":function(e,t,n){"use strict";n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return h}));for(var r=n("768b"),i=(n("ac6a"),n("ffc1"),{55:"fishing",56:"make-poison",57:"tinkering",58:"research",59:"alchemy",60:"baking",61:"tailoring",63:"blacksmithing",64:"fletching",65:"brewing",68:"jewelry-making",69:"pottery",75:"quest-combines"}),a={},c=0,s=Object.entries(i);c<s.length;c++){var o=Object(r["a"])(s[c],2),l=o[0],u=o[1];a[u]=parseInt(l)}function f(e){return i[e]||String(e)}function h(e){if(void 0!==a[e])return a[e];var t=parseInt(e);return isNaN(t)?0:t}},"504c":function(e,t,n){var r=n("9e1e"),i=n("0d58"),a=n("6821"),c=n("52a7").f;e.exports=function(e){return function(t){var n,s=a(t),o=i(s),l=o.length,u=0,f=[];while(l>u)n=o[u++],r&&!c.call(s,n)||f.push(e?[n,s[n]]:s[n]);return f}}},"549b":function(e,t,n){"use strict";var r=n("d864"),i=n("63b6"),a=n("241e"),c=n("b0dc"),s=n("3702"),o=n("b447"),l=n("20fd"),u=n("7cd6");i(i.S+i.F*!n("4ee1")((function(e){Array.from(e)})),"Array",{from:function(e){var t,n,i,f,h=a(e),d="function"==typeof this?this:Array,p=arguments.length,g=p>1?arguments[1]:void 0,v=void 0!==g,b=0,m=u(h);if(v&&(g=r(g,p>2?arguments[2]:void 0,2)),void 0==m||d==Array&&s(m))for(t=o(h.length),n=new d(t);t>b;b++)l(n,b,v?g(h[b],b):h[b]);else for(f=m.call(h),n=new d;!(i=f.next()).done;b++)l(n,b,v?c(f,g,[i.value,b],!0):i.value);return n.length=b,n}})},"5fc2":function(e,t,n){"use strict";n.r(t);n("7f7f");var r=function(){var e=this,t=e._self._c;return t("content-area",[t("eq-window",{staticClass:"p-3",attrs:{title:"Tradeskill Editor"}},[t("div",{staticClass:"text-center mb-3"},[t("span",{staticClass:"eq-header",staticStyle:{"font-size":"24px"}},[e._v("\n        Select a tradeskill to browse and edit recipes\n      ")])]),t("div",{staticClass:"row justify-content-center mb-3"},[t("div",{staticClass:"col-lg-6 col-md-8"},[t("div",{staticClass:"search-wrapper",staticStyle:{position:"relative"}},[t("div",{staticClass:"input-group"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.globalSearch,expression:"globalSearch"}],ref:"searchInput",staticClass:"form-control",attrs:{type:"text",placeholder:"Search all recipes by name..."},domProps:{value:e.globalSearch},on:{input:[function(t){t.target.composing||(e.globalSearch=t.target.value)},function(t){return e.onSearchInput()}],keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchAllRecipes()},keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"])?null:(t.preventDefault(),e.highlightNext())},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"])?null:(t.preventDefault(),e.highlightPrev())},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.selectHighlighted())},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"escape",void 0,t.key,void 0)?null:e.clearSearch()}],blur:function(t){return e.onSearchBlur()},focus:function(t){e.showDropdown=e.searchResults.length>0}}}),t("div",{staticClass:"input-group-append"},[t("b-button",{attrs:{variant:"outline-warning",disabled:e.searching},on:{click:function(t){return e.searchAllRecipes()}}},[t("i",{class:e.searching?"fa fa-spinner fa-spin":"fa fa-search"})]),e.searchResults.length>0?t("b-button",{attrs:{variant:"outline-danger"},on:{click:function(t){return e.clearSearch()}}},[t("i",{staticClass:"fa fa-times"})]):e._e()],1)]),e.showDropdown&&e.searchResults.length>0?t("div",{staticClass:"search-dropdown"},[t("div",{staticClass:"search-dropdown-header"},[t("small",[e._v(e._s(e.searchResults.length)+" result"+e._s(1!==e.searchResults.length?"s":""))])]),e._l(e.searchResults,(function(n,r){return t("div",{key:n.id,staticClass:"search-dropdown-item",class:{highlighted:r===e.highlightedIndex},on:{mousedown:function(t){return t.preventDefault(),e.openRecipe(n)},mouseenter:function(t){e.highlightedIndex=r}}},[t("div",{staticClass:"d-flex justify-content-between align-items-center"},[t("div",[t("span",{staticClass:"font-weight-bold",staticStyle:{color:"#f0e6c8"}},[e._v(e._s(n.name))]),t("small",{staticClass:"ml-2",staticStyle:{color:"#a0a0b0"}},[e._v(e._s(e.tradeskillName(n.tradeskill)))])]),t("div",{staticClass:"d-flex align-items-center"},[t("small",{staticClass:"text-muted mr-2"},[e._v("Trivial "+e._s(n.trivial))]),t("i",{class:n.enabled?"fa fa-check text-success":"fa fa-times text-danger",staticStyle:{"font-size":"11px"}})])])])}))],2):e._e()])])]),t("div",{staticClass:"tradeskill-grid"},e._l(e.tradeskills,(function(n){return t("div",{key:n.id},[t("div",{staticClass:"tradeskill-card text-center d-flex flex-column align-items-center justify-content-center",attrs:{title:n.name},on:{click:function(t){return e.selectTradeskill(n)}}},[t("i",{class:n.icon,staticStyle:{"font-size":"36px",display:"block","margin-bottom":"6px",color:"#e8c56d"}}),t("div",{staticClass:"font-weight-bold",staticStyle:{"font-size":"14px",color:"#f0e6c8"}},[e._v(e._s(n.name))]),null!==n.count?t("div",{staticStyle:{"font-size":"12px",color:"#a0a0b0"}},[e._v("\n            "+e._s(n.count.toLocaleString())+" recipes\n          ")]):t("div",{staticStyle:{"font-size":"12px",color:"#a0a0b0"}},[t("i",{staticClass:"fa fa-spinner fa-spin"})])])])})),0)])],1)},i=[],a=(n("ac4d"),n("8a81"),n("1c4c"),n("6b54"),n("8e6e"),n("456d"),n("7514"),n("ac6a"),n("5df3"),n("96cf"),n("3b8d")),c=n("bd86"),s=(n("80b0"),n("2f9c")),o=n("0d95"),l=n("02f6"),u=n("935a");function f(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=h(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,c=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){s=!0,a=e},f:function(){try{c||null==n.return||n.return()}finally{if(s)throw a}}}}function h(e,t){if(e){if("string"==typeof e)return d(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){Object(c["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var v=[{id:59,name:"Alchemy",icon:"ra ra-potion"},{id:60,name:"Baking",icon:"ra ra-campfire"},{id:63,name:"Blacksmithing",icon:"ra ra-anvil"},{id:65,name:"Brewing",icon:"ra ra-beer"},{id:55,name:"Fishing",icon:"ra ra-fish"},{id:64,name:"Fletching",icon:"ra ra-arrow-flights"},{id:68,name:"Jewelry Making",icon:"ra ra-gem-pendant"},{id:56,name:"Make Poison",icon:"ra ra-death-skull"},{id:69,name:"Pottery",icon:"ra ra-hand"},{id:75,name:"Quest Combines",icon:"ra ra-scroll-unfurled"},{id:58,name:"Research",icon:"ra ra-book"},{id:61,name:"Tailoring",icon:"ra ra-vest"},{id:57,name:"Tinkering",icon:"ra ra-gear-hammer"}],b={name:"TradeskillList",components:{"content-area":l["a"],"eq-window":u["a"]},data:function(){return{tradeskills:v.map((function(e){return g(g({},e),{},{count:null})})),globalSearch:"",searchResults:[],searching:!1,showDropdown:!1,highlightedIndex:-1,searchDebounce:null}},created:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.loadCounts();case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),methods:{loadCounts:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,n,r,i,c,s,l,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=o["SpireApi"].v1(),n=this.tradeskills.map(function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(n,r){var i,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.get("tradeskill_recipes/count",{params:{where:"tradeskill__".concat(n.id)}});case 3:return i=e.sent,a=0,i&&i.data&&("number"===typeof i.data.count?a=i.data.count:Array.isArray(i.data)&&i.data[0]&&(a=i.data[0].count||0)),e.abrupt("return",{idx:r,count:a});case 9:return e.prev=9,e.t0=e["catch"](0),console.error("Count failed for ".concat(n.name," (").concat(n.id,"):"),e.t0),e.abrupt("return",{idx:r,count:0});case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}()),e.next=4,Promise.all(n);case 4:r=e.sent,i=f(r);try{for(i.s();!(c=i.n()).done;)s=c.value,l=s.idx,u=s.count,this.$set(this.tradeskills[l],"count",u)}catch(h){i.e(h)}finally{i.f()}case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),selectTradeskill:function(e){this.$router.push({path:"/tradeskills/".concat(Object(s["b"])(e.id))})},tradeskillName:function(e){var t=v.find((function(t){return t.id===e}));return t?t.name:"Unknown ("+e+")"},onSearchInput:function(){var e=this;if(clearTimeout(this.searchDebounce),!this.globalSearch||this.globalSearch.trim().length<2)return this.searchResults=[],void(this.showDropdown=!1);this.searchDebounce=setTimeout((function(){return e.searchAllRecipes()}),300)},searchAllRecipes:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.globalSearch&&!(this.globalSearch.trim().length<2)){e.next=2;break}return e.abrupt("return");case 2:return this.searching=!0,this.highlightedIndex=-1,e.prev=4,t=o["SpireApi"].v1(),e.next=8,t.get("tradeskill_recipes",{params:{where:"name_like_".concat(this.globalSearch.trim()),limit:50,orderBy:"name",orderDirection:"asc"}});case 8:n=e.sent,this.searchResults=n.data||[],this.showDropdown=this.searchResults.length>0,e.next=18;break;case 13:e.prev=13,e.t0=e["catch"](4),console.error("Global recipe search failed:",e.t0),this.searchResults=[],this.showDropdown=!1;case 18:this.searching=!1;case 19:case"end":return e.stop()}}),e,this,[[4,13]])})));function t(){return e.apply(this,arguments)}return t}(),clearSearch:function(){this.globalSearch="",this.searchResults=[],this.showDropdown=!1,this.highlightedIndex=-1},onSearchBlur:function(){var e=this;setTimeout((function(){e.showDropdown=!1}),200)},highlightNext:function(){0!==this.searchResults.length&&(this.highlightedIndex=(this.highlightedIndex+1)%this.searchResults.length)},highlightPrev:function(){0!==this.searchResults.length&&(this.highlightedIndex=this.highlightedIndex<=0?this.searchResults.length-1:this.highlightedIndex-1)},selectHighlighted:function(){this.highlightedIndex>=0&&this.highlightedIndex<this.searchResults.length?this.openRecipe(this.searchResults[this.highlightedIndex]):this.searchAllRecipes()},openRecipe:function(e){this.$router.push({path:"/tradeskills/".concat(Object(s["b"])(e.tradeskill),"/recipe/").concat(e.id)})}}},m=b,y=(n("6c62"),n("2877")),w=Object(y["a"])(m,r,i,!1,null,"4e979349",null);t["default"]=w.exports},"6c62":function(e,t,n){"use strict";n("78a5")},7514:function(e,t,n){"use strict";var r=n("5ca1"),i=n("0a49")(5),a="find",c=!0;a in[]&&Array(1)[a]((function(){c=!1})),r(r.P+r.F*c,"Array",{find:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),n("9c6c")(a)},"768b":function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n("f410"),i=n.n(r);function a(e){if(i()(e))return e}var c=n("f921"),s=n.n(c),o=n("d8d6"),l=n.n(o);function u(e,t){var n=null==e?null:"undefined"!=typeof s.a&&e[l.a]||e["@@iterator"];if(null!=n){var r,i,a,c,o=[],u=!0,f=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(o.push(r.value),o.length!==t);u=!0);}catch(e){f=!0,i=e}finally{try{if(!u&&null!=n["return"]&&(c=n["return"](),Object(c)!==c))return}finally{if(f)throw i}}return o}}var f=n("e630");function h(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function d(e,t){return a(e)||u(e,t)||Object(f["a"])(e,t)||h()}},"78a5":function(e,t,n){},"8e6e":function(e,t,n){var r=n("5ca1"),i=n("990b"),a=n("6821"),c=n("11e9"),s=n("f1ae");r(r.S,"Object",{getOwnPropertyDescriptors:function(e){var t,n,r=a(e),o=c.f,l=i(r),u={},f=0;while(l.length>f)n=o(r,t=l[f++]),void 0!==n&&s(u,t,n);return u}})},"990b":function(e,t,n){var r=n("9093"),i=n("2621"),a=n("cb7c"),c=n("7726").Reflect;e.exports=c&&c.ownKeys||function(e){var t=r.f(a(e)),n=i.f;return n?t.concat(n(e)):t}},bd86:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("454f"),i=n.n(r),a=n("a6fa");function c(e,t,n){return(t=Object(a["a"])(t))in e?i()(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},cd1c:function(e,t,n){var r=n("e853");e.exports=function(e,t){return new(r(e))(t)}},d2d5:function(e,t,n){n("1654"),n("549b"),e.exports=n("584a").Array.from},db2a:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,"a",(function(){return r}))},e630:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("d2d5"),i=n.n(r),a=n("db2a");function c(e,t){if(e){if("string"==typeof e)return Object(a["a"])(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?i()(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(a["a"])(e,t):void 0}}},e853:function(e,t,n){var r=n("d3f4"),i=n("1169"),a=n("2b4c")("species");e.exports=function(e){var t;return i(e)&&(t=e.constructor,"function"!=typeof t||t!==Array&&!i(t.prototype)||(t=void 0),r(t)&&(t=t[a],null===t&&(t=void 0))),void 0===t?Array:t}},f410:function(e,t,n){n("1af6"),e.exports=n("584a").Array.isArray},ffc1:function(e,t,n){var r=n("5ca1"),i=n("504c")(!0);r(r.S,"Object",{entries:function(e){return i(e)}})}}]);